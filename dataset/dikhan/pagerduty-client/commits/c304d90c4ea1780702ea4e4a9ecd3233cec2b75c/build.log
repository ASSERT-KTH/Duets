[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 1 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[WARNING] The project com.github.dikhan:pagerduty-client:jar:3.0.9-SNAPSHOT uses prerequisites which is only intended for maven-plugin projects but not for non maven-plugin projects. For such purposes you should use the maven-enforcer-plugin. See https://maven.apache.org/enforcer/enforcer-rules/requireMavenVersion.html
[INFO] 
[INFO] -----------------< com.github.dikhan:pagerduty-client >-----------------
[INFO] Building pagerduty-client 3.0.9-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[WARNING] The artifact org.apache.commons:commons-io:jar:1.3.2 has been relocated to commons-io:commons-io:jar:1.3.2
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ pagerduty-client ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmppy4d3qbv/pagerduty-client/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ pagerduty-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /tmp/tmppy4d3qbv/pagerduty-client/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.6.0:compile (default-compile) @ pagerduty-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 19 source files to /tmp/tmppy4d3qbv/pagerduty-client/target/classes
[INFO] /tmp/tmppy4d3qbv/pagerduty-client/src/main/java/com/github/dikhan/pagerduty/client/events/domain/Incident.java: /tmp/tmppy4d3qbv/pagerduty-client/src/main/java/com/github/dikhan/pagerduty/client/events/domain/Incident.java uses unchecked or unsafe operations.
[INFO] /tmp/tmppy4d3qbv/pagerduty-client/src/main/java/com/github/dikhan/pagerduty/client/events/domain/Incident.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ pagerduty-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.6.0:testCompile (default-testCompile) @ pagerduty-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 12 source files to /tmp/tmppy4d3qbv/pagerduty-client/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ pagerduty-client ---
[INFO] Surefire report directory: /tmp/tmppy4d3qbv/pagerduty-client/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.github.dikhan.pagerduty.client.events.domain.IncidentBuilderTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.069 sec - in com.github.dikhan.pagerduty.client.events.domain.IncidentBuilderTest
Running com.github.dikhan.pagerduty.client.events.domain.TriggerIncidentBuilderTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.github.dikhan.pagerduty.client.events.domain.TriggerIncidentBuilderTest
Running com.github.dikhan.pagerduty.client.events.domain.PayloadBuilderTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec - in com.github.dikhan.pagerduty.client.events.domain.PayloadBuilderTest
Running com.github.dikhan.pagerduty.client.events.domain.ResolveIncidentBuilderTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.github.dikhan.pagerduty.client.events.domain.ResolveIncidentBuilderTest
Running com.github.dikhan.pagerduty.client.events.domain.AcknowledgeIncidentBuilderTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.github.dikhan.pagerduty.client.events.domain.AcknowledgeIncidentBuilderTest
Running com.github.dikhan.pagerduty.client.events.utils.FakePagerDutyEventsClientTest
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/jdbl/.m2/repository/ch/qos/logback/logback-classic/1.1.3/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/jdbl/.m2/repository/org/slf4j/slf4j-log4j12/1.7.21/slf4j-log4j12-1.7.21.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]
08:28:57.096 [main] DEBUG c.g.d.p.c.e.u.FakePagerDutyEventsClient - Event result EventResult{status='success', message='Event (resolve) processed', dedupKey='DedupKey', errors='null'} for resolve incident Incident { routingKey='ROUTING_KEY', eventAction=resolve, dedupKey='DedupKey', payload=Payload { summary=BLANK, source=BLANK, severity=info, timestamp=null, component=null, group=null, eventClass=null, custom_details=null }, images=null, links=null }
08:28:57.133 [main] DEBUG c.g.d.p.c.e.u.FakePagerDutyEventsClient - Event result EventResult{status='success', message='Event (trigger) processed', dedupKey='6362688775511301559', errors='null'}
08:28:57.169 [main] DEBUG c.g.d.p.c.e.u.FakePagerDutyEventsClient - Event result EventResult{status='success', message='Event (trigger) processed', dedupKey='5652552083453516005', errors='null'}
08:28:57.170 [main] DEBUG c.g.d.p.c.e.u.FakePagerDutyEventsClient - Event result EventResult{status='success', message='Event (resolve) processed', dedupKey='5652552083453516005', errors='null'} for resolve incident Incident { routingKey='ROUTING_KEY', eventAction=resolve, dedupKey='5652552083453516005', payload=Payload { summary=BLANK, source=BLANK, severity=info, timestamp=null, component=null, group=null, eventClass=null, custom_details=null }, images=null, links=null }
08:28:57.171 [main] DEBUG c.g.d.p.c.e.u.FakePagerDutyEventsClient - Event result EventResult{status='success', message='Event (trigger) processed', dedupKey='DedupKey', errors='null'}
08:28:57.172 [main] DEBUG c.g.d.p.c.e.u.FakePagerDutyEventsClient - Event result EventResult{status='success', message='Event (acknowledge) processed', dedupKey='DedupKey', errors='null'} for acknowledge incident Incident { routingKey='ROUTING_KEY', eventAction=acknowledge, dedupKey='DedupKey', payload=Payload { summary=BLANK, source=BLANK, severity=info, timestamp=null, component=null, group=null, eventClass=null, custom_details=null }, images=null, links=null }
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.036 sec - in com.github.dikhan.pagerduty.client.events.utils.FakePagerDutyEventsClientTest
Running com.github.dikhan.pagerduty.client.events.PagerDutyEventsClientTest
08:28:57.559 [main] DEBUG i.n.u.i.l.InternalLoggerFactory - Using SLF4J as the default logging framework
08:28:57.564 [main] DEBUG i.n.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
08:28:57.564 [main] DEBUG i.n.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
08:28:57.565 [main] DEBUG i.n.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
08:28:57.565 [main] DEBUG i.n.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: true
08:28:57.566 [main] DEBUG i.n.util.internal.PlatformDependent - Java version: 8
08:28:57.566 [main] DEBUG i.n.util.internal.PlatformDependent - -Dio.netty.noUnsafe: false
08:28:57.566 [main] DEBUG i.n.util.internal.PlatformDependent - sun.misc.Unsafe: available
08:28:57.567 [main] DEBUG i.n.util.internal.PlatformDependent - -Dio.netty.noJavassist: false
08:28:57.568 [main] DEBUG i.n.util.internal.PlatformDependent - Javassist: unavailable
08:28:57.568 [main] DEBUG i.n.util.internal.PlatformDependent - You don't have Javassist in your class path or you don't have enough permission to load dynamically generated classes.  Please check the configuration for better performance.
08:28:57.568 [main] DEBUG i.n.util.internal.PlatformDependent - -Dio.netty.tmpdir: /tmp (java.io.tmpdir)
08:28:57.568 [main] DEBUG i.n.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
08:28:57.568 [main] DEBUG i.n.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
08:28:57.622 [main] DEBUG i.n.c.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 6
08:28:57.643 [main] DEBUG io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
08:28:57.643 [main] DEBUG io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
08:28:57.731 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 6
08:28:57.732 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 6
08:28:57.732 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
08:28:57.732 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 11
08:28:57.732 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 16777216
08:28:57.732 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.tinyCacheSize: 512
08:28:57.732 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
08:28:57.732 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
08:28:57.732 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
08:28:57.732 [main] DEBUG i.n.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
08:28:57.773 [MockServer thread for port: 36773] DEBUG i.n.util.internal.ThreadLocalRandom - -Dio.netty.initialSeedUniquifier: 0x3ffe8ad14d7f28ec (took 0 ms)
08:28:57.804 [MockServer thread for port: 36773] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: unpooled
08:28:57.805 [MockServer thread for port: 36773] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 65536
08:28:57.805 [MockServer thread for port: 36773] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
08:28:57.808 [MockServer thread for port: 36773] DEBUG io.netty.util.NetUtil - Loopback interface: lo (lo, 127.0.0.1)
08:28:57.808 [MockServer thread for port: 36773] DEBUG io.netty.util.NetUtil - /proc/sys/net/core/somaxconn: 128
08:28:57.819 [MockServer thread for port: 36773] INFO  org.mockserver.mockserver.MockServer - MockServer started on port: 36773
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:202 - Connection manager is shutting down
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:204 - Connection manager shut down
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:202 - Connection manager is shutting down
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:204 - Connection manager shut down
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:202 - Connection manager is shutting down
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:204 - Connection manager shut down
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:202 - Connection manager is shutting down
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:204 - Connection manager shut down
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:202 - Connection manager is shutting down
2020-07-31 08:28:57 DEBUG PoolingNHttpClientConnectionManager:204 - Connection manager shut down
08:28:57.971 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/expectation",
  "body" : {
    "charset" : "UTF-8",
    "type" : "STRING",
    "string" : "{\n  \"httpRequest\" : {\n    \"method\" : \"POST\",\n    \"path\" : \"/v2/enqueue\",\n    \"body\" : \"{\\\"routing_key\\\":\\\"ROUTING_KEY\\\",\\\"event_action\\\":\\\"acknowledge\\\",\\\"dedup_key\\\":\\\"DEDUP_KEY\\\",\\\"payload\\\":{\\\"summary\\\":\\\"BLANK\\\",\\\"source\\\":\\\"BLANK\\\",\\\"severity\\\":\\\"info\\\",\\\"timestamp\\\":null,\\\"component\\\":null,\\\"group\\\":null,\\\"class\\\":null,\\\"custom_details\\\":null}}\"\n  },\n  \"httpResponse\" : {\n    \"statusCode\" : 200,\n    \"headers\" : [ {\n      \"name\" : \"Server\",\n      \"values\" : [ \"MockServer\" ]\n    }, {\n      \"name\" : \"Date\",\n      \"values\" : [ \"Fri Jul 31 08:28:57 UTC 2020\" ]\n    }, {\n      \"name\" : \"Content-Type\",\n      \"values\" : [ \"application/json; charset=utf-8\" ]\n    } ],\n    \"body\" : \"{\\\"status\\\":\\\"success\\\",\\\"message\\\":\\\"Event processed\\\",\\\"dedup_key\\\":\\\"DEDUP_KEY\\\"}\",\n    \"delay\" : {\n      \"timeUnit\" : \"SECONDS\",\n      \"value\" : 1\n    }\n  },\n  \"times\" : {\n    \"remainingTimes\" : 1,\n    \"unlimited\" : false\n  },\n  \"timeToLive\" : {\n    \"unlimited\" : true\n  }\n}"
  }
}
08:28:58.007 [main] DEBUG o.m.c.ConfigurationProperties - Property file not found on classpath using path [mockserver.properties]
08:28:58.008 [main] DEBUG o.m.c.ConfigurationProperties - Property file not found using path [mockserver.properties]
2020-07-31 08:28:58 DEBUG PoolingNHttpClientConnectionManager:202 - Connection manager is shutting down
2020-07-31 08:28:58 DEBUG PoolingNHttpClientConnectionManager:204 - Connection manager shut down
08:28:58.112 [nioEventLoopGroup-4-1] DEBUG io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.bytebuf.checkAccessible: true
08:28:58.114 [nioEventLoopGroup-4-1] DEBUG io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
08:28:58.114 [nioEventLoopGroup-4-1] DEBUG io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.maxRecords: 4
08:28:58.138 [nioEventLoopGroup-4-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.maxCapacity.default: 262144
08:28:58.312 [nioEventLoopGroup-3-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xcf60dc7d, /127.0.0.1:39302 => /127.0.0.1:36773] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 963, cap: 963, components=2))
PUT /expectation HTTP/1.1
Host: localhost:36773
Accept-Encoding: gzip,deflate
Content-Length: 963
Connection: keep-alive
Content-Type: text/plain; charset=utf-8, 963B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 0a 20 20 22 68 74 74 70 52 65 71 75 65 73 74 |{.  "httpRequest|
|00000010| 22 20 3a 20 7b 0a 20 20 20 20 22 6d 65 74 68 6f |" : {.    "metho|
|00000020| 64 22 20 3a 20 22 50 4f 53 54 22 2c 0a 20 20 20 |d" : "POST",.   |
|00000030| 20 22 70 61 74 68 22 20 3a 20 22 2f 76 32 2f 65 | "path" : "/v2/e|
|00000040| 6e 71 75 65 75 65 22 2c 0a 20 20 20 20 22 62 6f |nqueue",.    "bo|
|00000050| 64 79 22 20 3a 20 22 7b 5c 22 72 6f 75 74 69 6e |dy" : "{\"routin|
|00000060| 67 5f 6b 65 79 5c 22 3a 5c 22 52 4f 55 54 49 4e |g_key\":\"ROUTIN|
|00000070| 47 5f 4b 45 59 5c 22 2c 5c 22 65 76 65 6e 74 5f |G_KEY\",\"event_|
|00000080| 61 63 74 69 6f 6e 5c 22 3a 5c 22 61 63 6b 6e 6f |action\":\"ackno|
|00000090| 77 6c 65 64 67 65 5c 22 2c 5c 22 64 65 64 75 70 |wledge\",\"dedup|
|000000a0| 5f 6b 65 79 5c 22 3a 5c 22 44 45 44 55 50 5f 4b |_key\":\"DEDUP_K|
|000000b0| 45 59 5c 22 2c 5c 22 70 61 79 6c 6f 61 64 5c 22 |EY\",\"payload\"|
|000000c0| 3a 7b 5c 22 73 75 6d 6d 61 72 79 5c 22 3a 5c 22 |:{\"summary\":\"|
|000000d0| 42 4c 41 4e 4b 5c 22 2c 5c 22 73 6f 75 72 63 65 |BLANK\",\"source|
|000000e0| 5c 22 3a 5c 22 42 4c 41 4e 4b 5c 22 2c 5c 22 73 |\":\"BLANK\",\"s|
|000000f0| 65 76 65 72 69 74 79 5c 22 3a 5c 22 69 6e 66 6f |everity\":\"info|
|00000100| 5c 22 2c 5c 22 74 69 6d 65 73 74 61 6d 70 5c 22 |\",\"timestamp\"|
|00000110| 3a 6e 75 6c 6c 2c 5c 22 63 6f 6d 70 6f 6e 65 6e |:null,\"componen|
|00000120| 74 5c 22 3a 6e 75 6c 6c 2c 5c 22 67 72 6f 75 70 |t\":null,\"group|
|00000130| 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 6c 61 73 73 5c |\":null,\"class\|
|00000140| 22 3a 6e 75 6c 6c 2c 5c 22 63 75 73 74 6f 6d 5f |":null,\"custom_|
|00000150| 64 65 74 61 69 6c 73 5c 22 3a 6e 75 6c 6c 7d 7d |details\":null}}|
|00000160| 22 0a 20 20 7d 2c 0a 20 20 22 68 74 74 70 52 65 |".  },.  "httpRe|
|00000170| 73 70 6f 6e 73 65 22 20 3a 20 7b 0a 20 20 20 20 |sponse" : {.    |
|00000180| 22 73 74 61 74 75 73 43 6f 64 65 22 20 3a 20 32 |"statusCode" : 2|
|00000190| 30 30 2c 0a 20 20 20 20 22 68 65 61 64 65 72 73 |00,.    "headers|
|000001a0| 22 20 3a 20 5b 20 7b 0a 20 20 20 20 20 20 22 6e |" : [ {.      "n|
|000001b0| 61 6d 65 22 20 3a 20 22 53 65 72 76 65 72 22 2c |ame" : "Server",|
|000001c0| 0a 20 20 20 20 20 20 22 76 61 6c 75 65 73 22 20 |.      "values" |
|000001d0| 3a 20 5b 20 22 4d 6f 63 6b 53 65 72 76 65 72 22 |: [ "MockServer"|
|000001e0| 20 5d 0a 20 20 20 20 7d 2c 20 7b 0a 20 20 20 20 | ].    }, {.    |
|000001f0| 20 20 22 6e 61 6d 65 22 20 3a 20 22 44 61 74 65 |  "name" : "Date|
|00000200| 22 2c 0a 20 20 20 20 20 20 22 76 61 6c 75 65 73 |",.      "values|
|00000210| 22 20 3a 20 5b 20 22 46 72 69 20 4a 75 6c 20 33 |" : [ "Fri Jul 3|
|00000220| 31 20 30 38 3a 32 38 3a 35 37 20 55 54 43 20 32 |1 08:28:57 UTC 2|
|00000230| 30 32 30 22 20 5d 0a 20 20 20 20 7d 2c 20 7b 0a |020" ].    }, {.|
|00000240| 20 20 20 20 20 20 22 6e 61 6d 65 22 20 3a 20 22 |      "name" : "|
|00000250| 43 6f 6e 74 65 6e 74 2d 54 79 70 65 22 2c 0a 20 |Content-Type",. |
|00000260| 20 20 20 20 20 22 76 61 6c 75 65 73 22 20 3a 20 |     "values" : |
|00000270| 5b 20 22 61 70 70 6c 69 63 61 74 69 6f 6e 2f 6a |[ "application/j|
|00000280| 73 6f 6e 3b 20 63 68 61 72 73 65 74 3d 75 74 66 |son; charset=utf|
|00000290| 2d 38 22 20 5d 0a 20 20 20 20 7d 20 5d 2c 0a 20 |-8" ].    } ],. |
|000002a0| 20 20 20 22 62 6f 64 79 22 20 3a 20 22 7b 5c 22 |   "body" : "{\"|
|000002b0| 73 74 61 74 75 73 5c 22 3a 5c 22 73 75 63 63 65 |status\":\"succe|
|000002c0| 73 73 5c 22 2c 5c 22 6d 65 73 73 61 67 65 5c 22 |ss\",\"message\"|
|000002d0| 3a 5c 22 45 76 65 6e 74 20 70 72 6f 63 65 73 73 |:\"Event process|
|000002e0| 65 64 5c 22 2c 5c 22 64 65 64 75 70 5f 6b 65 79 |ed\",\"dedup_key|
|000002f0| 5c 22 3a 5c 22 44 45 44 55 50 5f 4b 45 59 5c 22 |\":\"DEDUP_KEY\"|
|00000300| 7d 22 2c 0a 20 20 20 20 22 64 65 6c 61 79 22 20 |}",.    "delay" |
|00000310| 3a 20 7b 0a 20 20 20 20 20 20 22 74 69 6d 65 55 |: {.      "timeU|
|00000320| 6e 69 74 22 20 3a 20 22 53 45 43 4f 4e 44 53 22 |nit" : "SECONDS"|
|00000330| 2c 0a 20 20 20 20 20 20 22 76 61 6c 75 65 22 20 |,.      "value" |
|00000340| 3a 20 31 0a 20 20 20 20 7d 0a 20 20 7d 2c 0a 20 |: 1.    }.  },. |
|00000350| 20 22 74 69 6d 65 73 22 20 3a 20 7b 0a 20 20 20 | "times" : {.   |
|00000360| 20 22 72 65 6d 61 69 6e 69 6e 67 54 69 6d 65 73 | "remainingTimes|
|00000370| 22 20 3a 20 31 2c 0a 20 20 20 20 22 75 6e 6c 69 |" : 1,.    "unli|
|00000380| 6d 69 74 65 64 22 20 3a 20 66 61 6c 73 65 0a 20 |mited" : false. |
|00000390| 20 7d 2c 0a 20 20 22 74 69 6d 65 54 6f 4c 69 76 | },.  "timeToLiv|
|000003a0| 65 22 20 3a 20 7b 0a 20 20 20 20 22 75 6e 6c 69 |e" : {.    "unli|
|000003b0| 6d 69 74 65 64 22 20 3a 20 74 72 75 65 0a 20 20 |mited" : true.  |
|000003c0| 7d 0a 7d                                        |}.}             |
+--------+-------------------------------------------------+----------------+
08:28:58.397 [nioEventLoopGroup-3-1] INFO  o.m.mockserver.MockServerHandler - creating expectation:

	{
	  "httpRequest" : {
	    "method" : "POST",
	    "path" : "/v2/enqueue",
	    "body" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"acknowledge\",\"dedup_key\":\"DEDUP_KEY\",\"payload\":{\"summary\":\"BLANK\",\"source\":\"BLANK\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  },
	  "times" : {
	    "remainingTimes" : 1,
	    "unlimited" : false
	  },
	  "timeToLive" : {
	    "unlimited" : true
	  },
	  "httpResponse" : {
	    "statusCode" : 200,
	    "headers" : [ {
	      "name" : "Server",
	      "values" : [ "MockServer" ]
	    }, {
	      "name" : "Date",
	      "values" : [ "Fri Jul 31 08:28:57 UTC 2020" ]
	    }, {
	      "name" : "Content-Type",
	      "values" : [ "application/json; charset=utf-8" ]
	    } ],
	    "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}",
	    "delay" : {
	      "timeUnit" : "SECONDS",
	      "value" : 1
	    }
	  }
	}


08:28:58.398 [nioEventLoopGroup-3-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xcf60dc7d, /127.0.0.1:39302 => /127.0.0.1:36773] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 201 Created
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:28:58.398 [nioEventLoopGroup-3-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xcf60dc7d, /127.0.0.1:39302 => /127.0.0.1:36773] FLUSH
08:28:58.402 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 201,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:28:58.403 [nioEventLoopGroup-3-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xcf60dc7d, /127.0.0.1:39302 => /127.0.0.1:36773] FLUSH
08:28:58.404 [nioEventLoopGroup-3-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xcf60dc7d, /127.0.0.1:39302 :> /127.0.0.1:36773] INACTIVE
08:28:58.405 [nioEventLoopGroup-3-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xcf60dc7d, /127.0.0.1:39302 :> /127.0.0.1:36773] UNREGISTERED
08:28:58.406 [nioEventLoopGroup-4-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-4-1
2020-07-31 08:28:58 DEBUG RequestAddCookies:122 - CookieSpec selected: default
2020-07-31 08:28:58 DEBUG RequestAuthCache:76 - Auth cache not set in the context
2020-07-31 08:28:58 DEBUG PoolingHttpClientConnectionManager:249 - Connection request: [route: {}->http://localhost:36773][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 200]
2020-07-31 08:28:58 DEBUG PoolingHttpClientConnectionManager:282 - Connection leased: [id: 0][route: {}->http://localhost:36773][total kept alive: 0; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:28:58 DEBUG MainClientExec:234 - Opening connection {}->http://localhost:36773
2020-07-31 08:28:58 DEBUG DefaultHttpClientConnectionOperator:138 - Connecting to localhost/127.0.0.1:36773
2020-07-31 08:28:58 DEBUG DefaultHttpClientConnectionOperator:145 - Connection established 127.0.0.1:39324<->127.0.0.1:36773
2020-07-31 08:28:58 DEBUG DefaultManagedHttpClientConnection:90 - http-outgoing-0: set socket timeout to 60000
2020-07-31 08:28:58 DEBUG MainClientExec:255 - Executing request POST /v2/enqueue HTTP/1.1
2020-07-31 08:28:58 DEBUG MainClientExec:260 - Target auth state: UNCHALLENGED
2020-07-31 08:28:58 DEBUG MainClientExec:266 - Proxy auth state: UNCHALLENGED
2020-07-31 08:28:58 DEBUG headers:135 - http-outgoing-0 >> POST /v2/enqueue HTTP/1.1
2020-07-31 08:28:58 DEBUG headers:138 - http-outgoing-0 >> Accept: application/json
2020-07-31 08:28:58 DEBUG headers:138 - http-outgoing-0 >> accept-encoding: gzip
2020-07-31 08:28:58 DEBUG headers:138 - http-outgoing-0 >> user-agent: unirest-java/1.3.11
2020-07-31 08:28:58 DEBUG headers:138 - http-outgoing-0 >> Content-Length: 229
2020-07-31 08:28:58 DEBUG headers:138 - http-outgoing-0 >> Content-Type: text/plain; charset=UTF-8
2020-07-31 08:28:58 DEBUG headers:138 - http-outgoing-0 >> Host: localhost:36773
2020-07-31 08:28:58 DEBUG headers:138 - http-outgoing-0 >> Connection: Keep-Alive
2020-07-31 08:28:58 DEBUG wire:72 - http-outgoing-0 >> "POST /v2/enqueue HTTP/1.1[\r][\n]"
2020-07-31 08:28:58 DEBUG wire:72 - http-outgoing-0 >> "Accept: application/json[\r][\n]"
2020-07-31 08:28:58 DEBUG wire:72 - http-outgoing-0 >> "accept-encoding: gzip[\r][\n]"
2020-07-31 08:28:58 DEBUG wire:72 - http-outgoing-0 >> "user-agent: unirest-java/1.3.11[\r][\n]"
2020-07-31 08:28:58 DEBUG wire:72 - http-outgoing-0 >> "Content-Length: 229[\r][\n]"
2020-07-31 08:28:58 DEBUG wire:72 - http-outgoing-0 >> "Content-Type: text/plain; charset=UTF-8[\r][\n]"
2020-07-31 08:28:58 DEBUG wire:72 - http-outgoing-0 >> "Host: localhost:36773[\r][\n]"
2020-07-31 08:28:58 DEBUG wire:72 - http-outgoing-0 >> "Connection: Keep-Alive[\r][\n]"
2020-07-31 08:28:58 DEBUG wire:72 - http-outgoing-0 >> "[\r][\n]"
2020-07-31 08:28:58 DEBUG wire:86 - http-outgoing-0 >> "{"routing_key":"ROUTING_KEY","event_action":"acknowledge","dedup_key":"DEDUP_KEY","payload":{"summary":"BLANK","source":"BLANK","severity":"info","timestamp":null,"component":null,"group":null,"class":null,"custom_details":null}}"
08:28:58.498 [nioEventLoopGroup-3-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x8fd35f7b, /127.0.0.1:39324 => /127.0.0.1:36773] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 229, cap: 229, components=1))
POST /v2/enqueue HTTP/1.1
Accept: application/json
accept-encoding: gzip
user-agent: unirest-java/1.3.11
Content-Length: 229
Content-Type: text/plain; charset=UTF-8
Host: localhost:36773
Connection: Keep-Alive, 229B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 72 6f 75 74 69 6e 67 5f 6b 65 79 22 3a 22 |{"routing_key":"|
|00000010| 52 4f 55 54 49 4e 47 5f 4b 45 59 22 2c 22 65 76 |ROUTING_KEY","ev|
|00000020| 65 6e 74 5f 61 63 74 69 6f 6e 22 3a 22 61 63 6b |ent_action":"ack|
|00000030| 6e 6f 77 6c 65 64 67 65 22 2c 22 64 65 64 75 70 |nowledge","dedup|
|00000040| 5f 6b 65 79 22 3a 22 44 45 44 55 50 5f 4b 45 59 |_key":"DEDUP_KEY|
|00000050| 22 2c 22 70 61 79 6c 6f 61 64 22 3a 7b 22 73 75 |","payload":{"su|
|00000060| 6d 6d 61 72 79 22 3a 22 42 4c 41 4e 4b 22 2c 22 |mmary":"BLANK","|
|00000070| 73 6f 75 72 63 65 22 3a 22 42 4c 41 4e 4b 22 2c |source":"BLANK",|
|00000080| 22 73 65 76 65 72 69 74 79 22 3a 22 69 6e 66 6f |"severity":"info|
|00000090| 22 2c 22 74 69 6d 65 73 74 61 6d 70 22 3a 6e 75 |","timestamp":nu|
|000000a0| 6c 6c 2c 22 63 6f 6d 70 6f 6e 65 6e 74 22 3a 6e |ll,"component":n|
|000000b0| 75 6c 6c 2c 22 67 72 6f 75 70 22 3a 6e 75 6c 6c |ull,"group":null|
|000000c0| 2c 22 63 6c 61 73 73 22 3a 6e 75 6c 6c 2c 22 63 |,"class":null,"c|
|000000d0| 75 73 74 6f 6d 5f 64 65 74 61 69 6c 73 22 3a 6e |ustom_details":n|
|000000e0| 75 6c 6c 7d 7d                                  |ull}}           |
+--------+-------------------------------------------------+----------------+
08:28:58.502 [nioEventLoopGroup-3-2] INFO  o.m.matchers.HttpRequestMatcher - request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "229" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:36773" ]
	  }, {
	    "name" : "Connection",
	    "values" : [ "Keep-Alive" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"acknowledge\",\"dedup_key\":\"DEDUP_KEY\",\"payload\":{\"summary\":\"BLANK\",\"source\":\"BLANK\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}

 matched expectation:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "body" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"acknowledge\",\"dedup_key\":\"DEDUP_KEY\",\"payload\":{\"summary\":\"BLANK\",\"source\":\"BLANK\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	}


08:28:59.512 [nioEventLoopGroup-3-2] INFO  o.m.mockserver.MockServerHandler - returning response:

	{
	  "statusCode" : 200,
	  "headers" : [ {
	    "name" : "Server",
	    "values" : [ "MockServer" ]
	  }, {
	    "name" : "Date",
	    "values" : [ "Fri Jul 31 08:28:57 UTC 2020" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "application/json; charset=utf-8" ]
	  } ],
	  "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}"
	}

 for request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "229" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:36773" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"acknowledge\",\"dedup_key\":\"DEDUP_KEY\",\"payload\":{\"summary\":\"BLANK\",\"source\":\"BLANK\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}


08:28:59.513 [nioEventLoopGroup-3-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x8fd35f7b, /127.0.0.1:39324 => /127.0.0.1:36773] WRITE: DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: UnpooledHeapByteBuf(ridx: 0, widx: 72, cap: 72/72))
HTTP/1.1 200 OK
Server: MockServer
Date: Fri Jul 31 08:28:57 UTC 2020
Content-Type: application/json; charset=utf-8
Content-Length: 72
Connection: keep-alive, 72B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 73 74 61 74 75 73 22 3a 22 73 75 63 63 65 |{"status":"succe|
|00000010| 73 73 22 2c 22 6d 65 73 73 61 67 65 22 3a 22 45 |ss","message":"E|
|00000020| 76 65 6e 74 20 70 72 6f 63 65 73 73 65 64 22 2c |vent processed",|
|00000030| 22 64 65 64 75 70 5f 6b 65 79 22 3a 22 44 45 44 |"dedup_key":"DED|
|00000040| 55 50 5f 4b 45 59 22 7d                         |UP_KEY"}        |
+--------+-------------------------------------------------+----------------+
08:28:59.514 [nioEventLoopGroup-3-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x8fd35f7b, /127.0.0.1:39324 => /127.0.0.1:36773] FLUSH
2020-07-31 08:28:59 DEBUG wire:72 - http-outgoing-0 << "HTTP/1.1 200 OK[\r][\n]"
2020-07-31 08:28:59 DEBUG wire:72 - http-outgoing-0 << "Server: MockServer[\r][\n]"
2020-07-31 08:28:59 DEBUG wire:72 - http-outgoing-0 << "Date: Fri Jul 31 08:28:57 UTC 2020[\r][\n]"
2020-07-31 08:28:59 DEBUG wire:72 - http-outgoing-0 << "Content-Type: application/json; charset=utf-8[\r][\n]"
2020-07-31 08:28:59 DEBUG wire:72 - http-outgoing-0 << "Content-Length: 72[\r][\n]"
2020-07-31 08:28:59 DEBUG wire:72 - http-outgoing-0 << "Connection: keep-alive[\r][\n]"
2020-07-31 08:28:59 DEBUG wire:72 - http-outgoing-0 << "[\r][\n]"
2020-07-31 08:28:59 DEBUG wire:86 - http-outgoing-0 << "{"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}"
2020-07-31 08:28:59 DEBUG headers:124 - http-outgoing-0 << HTTP/1.1 200 OK
2020-07-31 08:28:59 DEBUG headers:127 - http-outgoing-0 << Server: MockServer
2020-07-31 08:28:59 DEBUG headers:127 - http-outgoing-0 << Date: Fri Jul 31 08:28:57 UTC 2020
2020-07-31 08:28:59 DEBUG headers:127 - http-outgoing-0 << Content-Type: application/json; charset=utf-8
2020-07-31 08:28:59 DEBUG headers:127 - http-outgoing-0 << Content-Length: 72
2020-07-31 08:28:59 DEBUG headers:127 - http-outgoing-0 << Connection: keep-alive
2020-07-31 08:28:59 DEBUG MainClientExec:284 - Connection can be kept alive indefinitely
2020-07-31 08:28:59 DEBUG PoolingHttpClientConnectionManager:314 - Connection [id: 0][route: {}->http://localhost:36773] can be kept alive indefinitely
2020-07-31 08:28:59 DEBUG PoolingHttpClientConnectionManager:320 - Connection released: [id: 0][route: {}->http://localhost:36773][total kept alive: 1; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:28:59 DEBUG MainClientExec:144 - Cancelling request execution
08:28:59.547 [main] DEBUG c.g.d.p.c.events.HttpApiServiceImpl - {"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}
08:28:59.547 [main] DEBUG c.g.d.p.c.e.PagerDutyEventsClient - Event result EventResult{status='success', message='Event processed', dedupKey='DEDUP_KEY', errors='null'} for Incident { routingKey='ROUTING_KEY', eventAction=acknowledge, dedupKey='DEDUP_KEY', payload=Payload { summary=BLANK, source=BLANK, severity=info, timestamp=null, component=null, group=null, eventClass=null, custom_details=null }, images=null, links=null }
08:28:59.573 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/stop"
}
08:28:59.604 [nioEventLoopGroup-3-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x5f4ea3a7, /127.0.0.1:39390 => /127.0.0.1:36773] RECEIVED, HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
PUT /stop HTTP/1.1
Host: localhost:36773
Accept-Encoding: gzip,deflate
Content-Length: 0
Connection: keep-alive, 0B
08:28:59.605 [nioEventLoopGroup-3-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x5f4ea3a7, /127.0.0.1:39390 => /127.0.0.1:36773] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 202 Accepted
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:28:59.606 [nioEventLoopGroup-3-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x5f4ea3a7, /127.0.0.1:39390 => /127.0.0.1:36773] FLUSH
08:28:59.606 [nioEventLoopGroup-3-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x5f4ea3a7, /127.0.0.1:39390 => /127.0.0.1:36773] CLOSE()
08:28:59.606 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 202,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:28:59.608 [nioEventLoopGroup-6-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-6-1
08:28:59.608 [nioEventLoopGroup-3-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x8fd35f7b, /127.0.0.1:39324 :> /127.0.0.1:36773] INACTIVE
08:28:59.608 [nioEventLoopGroup-3-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x8fd35f7b, /127.0.0.1:39324 :> /127.0.0.1:36773] UNREGISTERED
08:28:59.609 [nioEventLoopGroup-3-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 5 thread-local buffer(s) from thread: nioEventLoopGroup-3-1
08:28:59.963 [MockServer thread for port: 39757] INFO  org.mockserver.mockserver.MockServer - MockServer started on port: 39757
08:28:59.978 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/expectation",
  "body" : {
    "charset" : "UTF-8",
    "type" : "STRING",
    "string" : "{\n  \"httpRequest\" : {\n    \"method\" : \"POST\",\n    \"path\" : \"/v2/enqueue\",\n    \"body\" : \"{\\\"routing_key\\\":\\\"ROUTING_KEY\\\",\\\"event_action\\\":\\\"trigger\\\",\\\"payload\\\":{\\\"summary\\\":\\\"HealthCheck failed\\\",\\\"source\\\":\\\"testing source\\\",\\\"severity\\\":\\\"info\\\",\\\"timestamp\\\":null,\\\"component\\\":null,\\\"group\\\":null,\\\"class\\\":null,\\\"custom_details\\\":null}}\"\n  },\n  \"httpResponse\" : {\n    \"statusCode\" : 200,\n    \"headers\" : [ {\n      \"name\" : \"Server\",\n      \"values\" : [ \"MockServer\" ]\n    }, {\n      \"name\" : \"Date\",\n      \"values\" : [ \"Fri Jul 31 08:28:59 UTC 2020\" ]\n    }, {\n      \"name\" : \"Content-Type\",\n      \"values\" : [ \"application/json; charset=utf-8\" ]\n    } ],\n    \"body\" : \"{\\\"status\\\":\\\"success\\\",\\\"message\\\":\\\"Event processed\\\",\\\"dedup_key\\\":\\\"DEDUP_KEY\\\"}\",\n    \"delay\" : {\n      \"timeUnit\" : \"SECONDS\",\n      \"value\" : 1\n    }\n  },\n  \"times\" : {\n    \"remainingTimes\" : 1,\n    \"unlimited\" : false\n  },\n  \"timeToLive\" : {\n    \"unlimited\" : true\n  }\n}"
  }
}
08:29:00.008 [nioEventLoopGroup-8-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x56d21c70, /127.0.0.1:55326 => /127.0.0.1:39757] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 953, cap: 953, components=2))
PUT /expectation HTTP/1.1
Host: localhost:39757
Accept-Encoding: gzip,deflate
Content-Length: 953
Connection: keep-alive
Content-Type: text/plain; charset=utf-8, 953B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 0a 20 20 22 68 74 74 70 52 65 71 75 65 73 74 |{.  "httpRequest|
|00000010| 22 20 3a 20 7b 0a 20 20 20 20 22 6d 65 74 68 6f |" : {.    "metho|
|00000020| 64 22 20 3a 20 22 50 4f 53 54 22 2c 0a 20 20 20 |d" : "POST",.   |
|00000030| 20 22 70 61 74 68 22 20 3a 20 22 2f 76 32 2f 65 | "path" : "/v2/e|
|00000040| 6e 71 75 65 75 65 22 2c 0a 20 20 20 20 22 62 6f |nqueue",.    "bo|
|00000050| 64 79 22 20 3a 20 22 7b 5c 22 72 6f 75 74 69 6e |dy" : "{\"routin|
|00000060| 67 5f 6b 65 79 5c 22 3a 5c 22 52 4f 55 54 49 4e |g_key\":\"ROUTIN|
|00000070| 47 5f 4b 45 59 5c 22 2c 5c 22 65 76 65 6e 74 5f |G_KEY\",\"event_|
|00000080| 61 63 74 69 6f 6e 5c 22 3a 5c 22 74 72 69 67 67 |action\":\"trigg|
|00000090| 65 72 5c 22 2c 5c 22 70 61 79 6c 6f 61 64 5c 22 |er\",\"payload\"|
|000000a0| 3a 7b 5c 22 73 75 6d 6d 61 72 79 5c 22 3a 5c 22 |:{\"summary\":\"|
|000000b0| 48 65 61 6c 74 68 43 68 65 63 6b 20 66 61 69 6c |HealthCheck fail|
|000000c0| 65 64 5c 22 2c 5c 22 73 6f 75 72 63 65 5c 22 3a |ed\",\"source\":|
|000000d0| 5c 22 74 65 73 74 69 6e 67 20 73 6f 75 72 63 65 |\"testing source|
|000000e0| 5c 22 2c 5c 22 73 65 76 65 72 69 74 79 5c 22 3a |\",\"severity\":|
|000000f0| 5c 22 69 6e 66 6f 5c 22 2c 5c 22 74 69 6d 65 73 |\"info\",\"times|
|00000100| 74 61 6d 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 6f |tamp\":null,\"co|
|00000110| 6d 70 6f 6e 65 6e 74 5c 22 3a 6e 75 6c 6c 2c 5c |mponent\":null,\|
|00000120| 22 67 72 6f 75 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 |"group\":null,\"|
|00000130| 63 6c 61 73 73 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 |class\":null,\"c|
|00000140| 75 73 74 6f 6d 5f 64 65 74 61 69 6c 73 5c 22 3a |ustom_details\":|
|00000150| 6e 75 6c 6c 7d 7d 22 0a 20 20 7d 2c 0a 20 20 22 |null}}".  },.  "|
|00000160| 68 74 74 70 52 65 73 70 6f 6e 73 65 22 20 3a 20 |httpResponse" : |
|00000170| 7b 0a 20 20 20 20 22 73 74 61 74 75 73 43 6f 64 |{.    "statusCod|
|00000180| 65 22 20 3a 20 32 30 30 2c 0a 20 20 20 20 22 68 |e" : 200,.    "h|
|00000190| 65 61 64 65 72 73 22 20 3a 20 5b 20 7b 0a 20 20 |eaders" : [ {.  |
|000001a0| 20 20 20 20 22 6e 61 6d 65 22 20 3a 20 22 53 65 |    "name" : "Se|
|000001b0| 72 76 65 72 22 2c 0a 20 20 20 20 20 20 22 76 61 |rver",.      "va|
|000001c0| 6c 75 65 73 22 20 3a 20 5b 20 22 4d 6f 63 6b 53 |lues" : [ "MockS|
|000001d0| 65 72 76 65 72 22 20 5d 0a 20 20 20 20 7d 2c 20 |erver" ].    }, |
|000001e0| 7b 0a 20 20 20 20 20 20 22 6e 61 6d 65 22 20 3a |{.      "name" :|
|000001f0| 20 22 44 61 74 65 22 2c 0a 20 20 20 20 20 20 22 | "Date",.      "|
|00000200| 76 61 6c 75 65 73 22 20 3a 20 5b 20 22 46 72 69 |values" : [ "Fri|
|00000210| 20 4a 75 6c 20 33 31 20 30 38 3a 32 38 3a 35 39 | Jul 31 08:28:59|
|00000220| 20 55 54 43 20 32 30 32 30 22 20 5d 0a 20 20 20 | UTC 2020" ].   |
|00000230| 20 7d 2c 20 7b 0a 20 20 20 20 20 20 22 6e 61 6d | }, {.      "nam|
|00000240| 65 22 20 3a 20 22 43 6f 6e 74 65 6e 74 2d 54 79 |e" : "Content-Ty|
|00000250| 70 65 22 2c 0a 20 20 20 20 20 20 22 76 61 6c 75 |pe",.      "valu|
|00000260| 65 73 22 20 3a 20 5b 20 22 61 70 70 6c 69 63 61 |es" : [ "applica|
|00000270| 74 69 6f 6e 2f 6a 73 6f 6e 3b 20 63 68 61 72 73 |tion/json; chars|
|00000280| 65 74 3d 75 74 66 2d 38 22 20 5d 0a 20 20 20 20 |et=utf-8" ].    |
|00000290| 7d 20 5d 2c 0a 20 20 20 20 22 62 6f 64 79 22 20 |} ],.    "body" |
|000002a0| 3a 20 22 7b 5c 22 73 74 61 74 75 73 5c 22 3a 5c |: "{\"status\":\|
|000002b0| 22 73 75 63 63 65 73 73 5c 22 2c 5c 22 6d 65 73 |"success\",\"mes|
|000002c0| 73 61 67 65 5c 22 3a 5c 22 45 76 65 6e 74 20 70 |sage\":\"Event p|
|000002d0| 72 6f 63 65 73 73 65 64 5c 22 2c 5c 22 64 65 64 |rocessed\",\"ded|
|000002e0| 75 70 5f 6b 65 79 5c 22 3a 5c 22 44 45 44 55 50 |up_key\":\"DEDUP|
|000002f0| 5f 4b 45 59 5c 22 7d 22 2c 0a 20 20 20 20 22 64 |_KEY\"}",.    "d|
|00000300| 65 6c 61 79 22 20 3a 20 7b 0a 20 20 20 20 20 20 |elay" : {.      |
|00000310| 22 74 69 6d 65 55 6e 69 74 22 20 3a 20 22 53 45 |"timeUnit" : "SE|
|00000320| 43 4f 4e 44 53 22 2c 0a 20 20 20 20 20 20 22 76 |CONDS",.      "v|
|00000330| 61 6c 75 65 22 20 3a 20 31 0a 20 20 20 20 7d 0a |alue" : 1.    }.|
|00000340| 20 20 7d 2c 0a 20 20 22 74 69 6d 65 73 22 20 3a |  },.  "times" :|
|00000350| 20 7b 0a 20 20 20 20 22 72 65 6d 61 69 6e 69 6e | {.    "remainin|
|00000360| 67 54 69 6d 65 73 22 20 3a 20 31 2c 0a 20 20 20 |gTimes" : 1,.   |
|00000370| 20 22 75 6e 6c 69 6d 69 74 65 64 22 20 3a 20 66 | "unlimited" : f|
|00000380| 61 6c 73 65 0a 20 20 7d 2c 0a 20 20 22 74 69 6d |alse.  },.  "tim|
|00000390| 65 54 6f 4c 69 76 65 22 20 3a 20 7b 0a 20 20 20 |eToLive" : {.   |
|000003a0| 20 22 75 6e 6c 69 6d 69 74 65 64 22 20 3a 20 74 | "unlimited" : t|
|000003b0| 72 75 65 0a 20 20 7d 0a 7d                      |rue.  }.}       |
+--------+-------------------------------------------------+----------------+
08:29:00.021 [nioEventLoopGroup-8-1] INFO  o.m.mockserver.MockServerHandler - creating expectation:

	{
	  "httpRequest" : {
	    "method" : "POST",
	    "path" : "/v2/enqueue",
	    "body" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  },
	  "times" : {
	    "remainingTimes" : 1,
	    "unlimited" : false
	  },
	  "timeToLive" : {
	    "unlimited" : true
	  },
	  "httpResponse" : {
	    "statusCode" : 200,
	    "headers" : [ {
	      "name" : "Server",
	      "values" : [ "MockServer" ]
	    }, {
	      "name" : "Date",
	      "values" : [ "Fri Jul 31 08:28:59 UTC 2020" ]
	    }, {
	      "name" : "Content-Type",
	      "values" : [ "application/json; charset=utf-8" ]
	    } ],
	    "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}",
	    "delay" : {
	      "timeUnit" : "SECONDS",
	      "value" : 1
	    }
	  }
	}


08:29:00.022 [nioEventLoopGroup-8-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x56d21c70, /127.0.0.1:55326 => /127.0.0.1:39757] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 201 Created
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:00.022 [nioEventLoopGroup-8-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x56d21c70, /127.0.0.1:55326 => /127.0.0.1:39757] FLUSH
08:29:00.024 [nioEventLoopGroup-8-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x56d21c70, /127.0.0.1:55326 => /127.0.0.1:39757] FLUSH
08:29:00.025 [nioEventLoopGroup-8-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x56d21c70, /127.0.0.1:55326 :> /127.0.0.1:39757] INACTIVE
08:29:00.024 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 201,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:00.025 [nioEventLoopGroup-8-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x56d21c70, /127.0.0.1:55326 :> /127.0.0.1:39757] UNREGISTERED
08:29:00.114 [nioEventLoopGroup-9-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-9-1
08:29:00.114 [nioEventLoopGroup-3-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x5f4ea3a7, /127.0.0.1:39390 :> /127.0.0.1:36773] FLUSH
08:29:00.114 [nioEventLoopGroup-3-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x5f4ea3a7, /127.0.0.1:39390 :> /127.0.0.1:36773] INACTIVE
08:29:00.115 [nioEventLoopGroup-3-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x5f4ea3a7, /127.0.0.1:39390 :> /127.0.0.1:36773] UNREGISTERED
08:29:00.115 [nioEventLoopGroup-3-3] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-3-3
2020-07-31 08:29:00 DEBUG RequestAddCookies:122 - CookieSpec selected: default
2020-07-31 08:29:00 DEBUG PoolingNHttpClientConnectionManager:202 - Connection manager is shutting down
2020-07-31 08:29:00 DEBUG RequestAuthCache:76 - Auth cache not set in the context
2020-07-31 08:29:00 DEBUG PoolingNHttpClientConnectionManager:204 - Connection manager shut down
2020-07-31 08:29:00 DEBUG PoolingHttpClientConnectionManager:249 - Connection request: [route: {}->http://localhost:39757][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 200]
2020-07-31 08:29:00 DEBUG PoolingHttpClientConnectionManager:282 - Connection leased: [id: 1][route: {}->http://localhost:39757][total kept alive: 0; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:00 DEBUG MainClientExec:234 - Opening connection {}->http://localhost:39757
2020-07-31 08:29:00 DEBUG DefaultHttpClientConnectionOperator:138 - Connecting to localhost/127.0.0.1:39757
2020-07-31 08:29:00 DEBUG DefaultHttpClientConnectionOperator:145 - Connection established 127.0.0.1:55330<->127.0.0.1:39757
2020-07-31 08:29:00 DEBUG DefaultManagedHttpClientConnection:90 - http-outgoing-1: set socket timeout to 60000
2020-07-31 08:29:00 DEBUG MainClientExec:255 - Executing request POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:00 DEBUG MainClientExec:260 - Target auth state: UNCHALLENGED
2020-07-31 08:29:00 DEBUG MainClientExec:266 - Proxy auth state: UNCHALLENGED
2020-07-31 08:29:00 DEBUG headers:135 - http-outgoing-1 >> POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:00 DEBUG headers:138 - http-outgoing-1 >> Accept: application/json
2020-07-31 08:29:00 DEBUG headers:138 - http-outgoing-1 >> accept-encoding: gzip
2020-07-31 08:29:00 DEBUG headers:138 - http-outgoing-1 >> user-agent: unirest-java/1.3.11
2020-07-31 08:29:00 DEBUG headers:138 - http-outgoing-1 >> Content-Length: 223
2020-07-31 08:29:00 DEBUG headers:138 - http-outgoing-1 >> Content-Type: text/plain; charset=UTF-8
2020-07-31 08:29:00 DEBUG headers:138 - http-outgoing-1 >> Host: localhost:39757
2020-07-31 08:29:00 DEBUG headers:138 - http-outgoing-1 >> Connection: Keep-Alive
2020-07-31 08:29:00 DEBUG wire:72 - http-outgoing-1 >> "POST /v2/enqueue HTTP/1.1[\r][\n]"
2020-07-31 08:29:00 DEBUG wire:72 - http-outgoing-1 >> "Accept: application/json[\r][\n]"
2020-07-31 08:29:00 DEBUG wire:72 - http-outgoing-1 >> "accept-encoding: gzip[\r][\n]"
2020-07-31 08:29:00 DEBUG wire:72 - http-outgoing-1 >> "user-agent: unirest-java/1.3.11[\r][\n]"
2020-07-31 08:29:00 DEBUG wire:72 - http-outgoing-1 >> "Content-Length: 223[\r][\n]"
2020-07-31 08:29:00 DEBUG wire:72 - http-outgoing-1 >> "Content-Type: text/plain; charset=UTF-8[\r][\n]"
2020-07-31 08:29:00 DEBUG wire:72 - http-outgoing-1 >> "Host: localhost:39757[\r][\n]"
2020-07-31 08:29:00 DEBUG wire:72 - http-outgoing-1 >> "Connection: Keep-Alive[\r][\n]"
2020-07-31 08:29:00 DEBUG wire:72 - http-outgoing-1 >> "[\r][\n]"
2020-07-31 08:29:00 DEBUG wire:86 - http-outgoing-1 >> "{"routing_key":"ROUTING_KEY","event_action":"trigger","payload":{"summary":"HealthCheck failed","source":"testing source","severity":"info","timestamp":null,"component":null,"group":null,"class":null,"custom_details":null}}"
08:29:00.125 [nioEventLoopGroup-8-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xae33b804, /127.0.0.1:55330 => /127.0.0.1:39757] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 223, cap: 223, components=1))
POST /v2/enqueue HTTP/1.1
Accept: application/json
accept-encoding: gzip
user-agent: unirest-java/1.3.11
Content-Length: 223
Content-Type: text/plain; charset=UTF-8
Host: localhost:39757
Connection: Keep-Alive, 223B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 72 6f 75 74 69 6e 67 5f 6b 65 79 22 3a 22 |{"routing_key":"|
|00000010| 52 4f 55 54 49 4e 47 5f 4b 45 59 22 2c 22 65 76 |ROUTING_KEY","ev|
|00000020| 65 6e 74 5f 61 63 74 69 6f 6e 22 3a 22 74 72 69 |ent_action":"tri|
|00000030| 67 67 65 72 22 2c 22 70 61 79 6c 6f 61 64 22 3a |gger","payload":|
|00000040| 7b 22 73 75 6d 6d 61 72 79 22 3a 22 48 65 61 6c |{"summary":"Heal|
|00000050| 74 68 43 68 65 63 6b 20 66 61 69 6c 65 64 22 2c |thCheck failed",|
|00000060| 22 73 6f 75 72 63 65 22 3a 22 74 65 73 74 69 6e |"source":"testin|
|00000070| 67 20 73 6f 75 72 63 65 22 2c 22 73 65 76 65 72 |g source","sever|
|00000080| 69 74 79 22 3a 22 69 6e 66 6f 22 2c 22 74 69 6d |ity":"info","tim|
|00000090| 65 73 74 61 6d 70 22 3a 6e 75 6c 6c 2c 22 63 6f |estamp":null,"co|
|000000a0| 6d 70 6f 6e 65 6e 74 22 3a 6e 75 6c 6c 2c 22 67 |mponent":null,"g|
|000000b0| 72 6f 75 70 22 3a 6e 75 6c 6c 2c 22 63 6c 61 73 |roup":null,"clas|
|000000c0| 73 22 3a 6e 75 6c 6c 2c 22 63 75 73 74 6f 6d 5f |s":null,"custom_|
|000000d0| 64 65 74 61 69 6c 73 22 3a 6e 75 6c 6c 7d 7d    |details":null}} |
+--------+-------------------------------------------------+----------------+
08:29:00.131 [nioEventLoopGroup-8-2] INFO  o.m.matchers.HttpRequestMatcher - request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:39757" ]
	  }, {
	    "name" : "Connection",
	    "values" : [ "Keep-Alive" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}

 matched expectation:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "body" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	}


08:29:00.610 [nioEventLoopGroup-3-2] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-3-2
08:29:01.136 [nioEventLoopGroup-8-2] INFO  o.m.mockserver.MockServerHandler - returning response:

	{
	  "statusCode" : 200,
	  "headers" : [ {
	    "name" : "Server",
	    "values" : [ "MockServer" ]
	  }, {
	    "name" : "Date",
	    "values" : [ "Fri Jul 31 08:28:59 UTC 2020" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "application/json; charset=utf-8" ]
	  } ],
	  "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}"
	}

 for request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:39757" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}


08:29:01.138 [nioEventLoopGroup-8-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xae33b804, /127.0.0.1:55330 => /127.0.0.1:39757] WRITE: DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: UnpooledHeapByteBuf(ridx: 0, widx: 72, cap: 72/72))
HTTP/1.1 200 OK
Server: MockServer
Date: Fri Jul 31 08:28:59 UTC 2020
Content-Type: application/json; charset=utf-8
Content-Length: 72
Connection: keep-alive, 72B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 73 74 61 74 75 73 22 3a 22 73 75 63 63 65 |{"status":"succe|
|00000010| 73 73 22 2c 22 6d 65 73 73 61 67 65 22 3a 22 45 |ss","message":"E|
|00000020| 76 65 6e 74 20 70 72 6f 63 65 73 73 65 64 22 2c |vent processed",|
|00000030| 22 64 65 64 75 70 5f 6b 65 79 22 3a 22 44 45 44 |"dedup_key":"DED|
|00000040| 55 50 5f 4b 45 59 22 7d                         |UP_KEY"}        |
+--------+-------------------------------------------------+----------------+
08:29:01.139 [nioEventLoopGroup-8-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xae33b804, /127.0.0.1:55330 => /127.0.0.1:39757] FLUSH
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-1 << "HTTP/1.1 200 OK[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-1 << "Server: MockServer[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-1 << "Date: Fri Jul 31 08:28:59 UTC 2020[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-1 << "Content-Type: application/json; charset=utf-8[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-1 << "Content-Length: 72[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-1 << "Connection: keep-alive[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-1 << "[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:86 - http-outgoing-1 << "{"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}"
2020-07-31 08:29:01 DEBUG headers:124 - http-outgoing-1 << HTTP/1.1 200 OK
2020-07-31 08:29:01 DEBUG headers:127 - http-outgoing-1 << Server: MockServer
2020-07-31 08:29:01 DEBUG headers:127 - http-outgoing-1 << Date: Fri Jul 31 08:28:59 UTC 2020
2020-07-31 08:29:01 DEBUG headers:127 - http-outgoing-1 << Content-Type: application/json; charset=utf-8
2020-07-31 08:29:01 DEBUG headers:127 - http-outgoing-1 << Content-Length: 72
2020-07-31 08:29:01 DEBUG headers:127 - http-outgoing-1 << Connection: keep-alive
2020-07-31 08:29:01 DEBUG MainClientExec:284 - Connection can be kept alive indefinitely
2020-07-31 08:29:01 DEBUG PoolingHttpClientConnectionManager:314 - Connection [id: 1][route: {}->http://localhost:39757] can be kept alive indefinitely
2020-07-31 08:29:01 DEBUG PoolingHttpClientConnectionManager:320 - Connection released: [id: 1][route: {}->http://localhost:39757][total kept alive: 1; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:01 DEBUG MainClientExec:144 - Cancelling request execution
08:29:01.145 [main] DEBUG c.g.d.p.c.events.HttpApiServiceImpl - {"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}
08:29:01.145 [main] DEBUG c.g.d.p.c.e.PagerDutyEventsClient - Event result EventResult{status='success', message='Event processed', dedupKey='DEDUP_KEY', errors='null'} for Incident { routingKey='ROUTING_KEY', eventAction=trigger, dedupKey='null', payload=Payload { summary=HealthCheck failed, source=testing source, severity=info, timestamp=null, component=null, group=null, eventClass=null, custom_details=null }, images=null, links=null }
08:29:01.146 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/stop"
}
08:29:01.156 [nioEventLoopGroup-8-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb97c5717, /127.0.0.1:55380 => /127.0.0.1:39757] RECEIVED, HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
PUT /stop HTTP/1.1
Host: localhost:39757
Accept-Encoding: gzip,deflate
Content-Length: 0
Connection: keep-alive, 0B
08:29:01.157 [nioEventLoopGroup-8-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb97c5717, /127.0.0.1:55380 => /127.0.0.1:39757] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 202 Accepted
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:01.158 [nioEventLoopGroup-8-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb97c5717, /127.0.0.1:55380 => /127.0.0.1:39757] FLUSH
08:29:01.158 [nioEventLoopGroup-8-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb97c5717, /127.0.0.1:55380 => /127.0.0.1:39757] CLOSE()
08:29:01.162 [nioEventLoopGroup-8-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xae33b804, /127.0.0.1:55330 :> /127.0.0.1:39757] INACTIVE
08:29:01.162 [nioEventLoopGroup-8-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 5 thread-local buffer(s) from thread: nioEventLoopGroup-8-1
08:29:01.163 [nioEventLoopGroup-8-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xae33b804, /127.0.0.1:55330 :> /127.0.0.1:39757] UNREGISTERED
08:29:01.161 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 202,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:01.165 [nioEventLoopGroup-10-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-10-1
08:29:01.519 [MockServer thread for port: 39067] INFO  org.mockserver.mockserver.MockServer - MockServer started on port: 39067
08:29:01.526 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/expectation",
  "body" : {
    "charset" : "UTF-8",
    "type" : "STRING",
    "string" : "{\n  \"httpRequest\" : {\n    \"method\" : \"POST\",\n    \"path\" : \"/v2/enqueue\",\n    \"body\" : \"{\\\"routing_key\\\":\\\"ROUTING_KEY\\\",\\\"event_action\\\":\\\"resolve\\\",\\\"dedup_key\\\":\\\"DEDUP_KEY\\\",\\\"payload\\\":{\\\"summary\\\":\\\"BLANK\\\",\\\"source\\\":\\\"BLANK\\\",\\\"severity\\\":\\\"info\\\",\\\"timestamp\\\":null,\\\"component\\\":null,\\\"group\\\":null,\\\"class\\\":null,\\\"custom_details\\\":null}}\"\n  },\n  \"httpResponse\" : {\n    \"statusCode\" : 200,\n    \"headers\" : [ {\n      \"name\" : \"Server\",\n      \"values\" : [ \"MockServer\" ]\n    }, {\n      \"name\" : \"Date\",\n      \"values\" : [ \"Fri Jul 31 08:29:01 UTC 2020\" ]\n    }, {\n      \"name\" : \"Content-Type\",\n      \"values\" : [ \"application/json; charset=utf-8\" ]\n    } ],\n    \"body\" : \"{\\\"status\\\":\\\"success\\\",\\\"message\\\":\\\"Event processed\\\",\\\"dedup_key\\\":\\\"DEDUP_KEY\\\"}\",\n    \"delay\" : {\n      \"timeUnit\" : \"SECONDS\",\n      \"value\" : 1\n    }\n  },\n  \"times\" : {\n    \"remainingTimes\" : 1,\n    \"unlimited\" : false\n  },\n  \"timeToLive\" : {\n    \"unlimited\" : true\n  }\n}"
  }
}
08:29:01.539 [nioEventLoopGroup-12-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x6dc31076, /127.0.0.1:40158 => /127.0.0.1:39067] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 959, cap: 959, components=2))
PUT /expectation HTTP/1.1
Host: localhost:39067
Accept-Encoding: gzip,deflate
Content-Length: 959
Connection: keep-alive
Content-Type: text/plain; charset=utf-8, 959B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 0a 20 20 22 68 74 74 70 52 65 71 75 65 73 74 |{.  "httpRequest|
|00000010| 22 20 3a 20 7b 0a 20 20 20 20 22 6d 65 74 68 6f |" : {.    "metho|
|00000020| 64 22 20 3a 20 22 50 4f 53 54 22 2c 0a 20 20 20 |d" : "POST",.   |
|00000030| 20 22 70 61 74 68 22 20 3a 20 22 2f 76 32 2f 65 | "path" : "/v2/e|
|00000040| 6e 71 75 65 75 65 22 2c 0a 20 20 20 20 22 62 6f |nqueue",.    "bo|
|00000050| 64 79 22 20 3a 20 22 7b 5c 22 72 6f 75 74 69 6e |dy" : "{\"routin|
|00000060| 67 5f 6b 65 79 5c 22 3a 5c 22 52 4f 55 54 49 4e |g_key\":\"ROUTIN|
|00000070| 47 5f 4b 45 59 5c 22 2c 5c 22 65 76 65 6e 74 5f |G_KEY\",\"event_|
|00000080| 61 63 74 69 6f 6e 5c 22 3a 5c 22 72 65 73 6f 6c |action\":\"resol|
|00000090| 76 65 5c 22 2c 5c 22 64 65 64 75 70 5f 6b 65 79 |ve\",\"dedup_key|
|000000a0| 5c 22 3a 5c 22 44 45 44 55 50 5f 4b 45 59 5c 22 |\":\"DEDUP_KEY\"|
|000000b0| 2c 5c 22 70 61 79 6c 6f 61 64 5c 22 3a 7b 5c 22 |,\"payload\":{\"|
|000000c0| 73 75 6d 6d 61 72 79 5c 22 3a 5c 22 42 4c 41 4e |summary\":\"BLAN|
|000000d0| 4b 5c 22 2c 5c 22 73 6f 75 72 63 65 5c 22 3a 5c |K\",\"source\":\|
|000000e0| 22 42 4c 41 4e 4b 5c 22 2c 5c 22 73 65 76 65 72 |"BLANK\",\"sever|
|000000f0| 69 74 79 5c 22 3a 5c 22 69 6e 66 6f 5c 22 2c 5c |ity\":\"info\",\|
|00000100| 22 74 69 6d 65 73 74 61 6d 70 5c 22 3a 6e 75 6c |"timestamp\":nul|
|00000110| 6c 2c 5c 22 63 6f 6d 70 6f 6e 65 6e 74 5c 22 3a |l,\"component\":|
|00000120| 6e 75 6c 6c 2c 5c 22 67 72 6f 75 70 5c 22 3a 6e |null,\"group\":n|
|00000130| 75 6c 6c 2c 5c 22 63 6c 61 73 73 5c 22 3a 6e 75 |ull,\"class\":nu|
|00000140| 6c 6c 2c 5c 22 63 75 73 74 6f 6d 5f 64 65 74 61 |ll,\"custom_deta|
|00000150| 69 6c 73 5c 22 3a 6e 75 6c 6c 7d 7d 22 0a 20 20 |ils\":null}}".  |
|00000160| 7d 2c 0a 20 20 22 68 74 74 70 52 65 73 70 6f 6e |},.  "httpRespon|
|00000170| 73 65 22 20 3a 20 7b 0a 20 20 20 20 22 73 74 61 |se" : {.    "sta|
|00000180| 74 75 73 43 6f 64 65 22 20 3a 20 32 30 30 2c 0a |tusCode" : 200,.|
|00000190| 20 20 20 20 22 68 65 61 64 65 72 73 22 20 3a 20 |    "headers" : |
|000001a0| 5b 20 7b 0a 20 20 20 20 20 20 22 6e 61 6d 65 22 |[ {.      "name"|
|000001b0| 20 3a 20 22 53 65 72 76 65 72 22 2c 0a 20 20 20 | : "Server",.   |
|000001c0| 20 20 20 22 76 61 6c 75 65 73 22 20 3a 20 5b 20 |   "values" : [ |
|000001d0| 22 4d 6f 63 6b 53 65 72 76 65 72 22 20 5d 0a 20 |"MockServer" ]. |
|000001e0| 20 20 20 7d 2c 20 7b 0a 20 20 20 20 20 20 22 6e |   }, {.      "n|
|000001f0| 61 6d 65 22 20 3a 20 22 44 61 74 65 22 2c 0a 20 |ame" : "Date",. |
|00000200| 20 20 20 20 20 22 76 61 6c 75 65 73 22 20 3a 20 |     "values" : |
|00000210| 5b 20 22 46 72 69 20 4a 75 6c 20 33 31 20 30 38 |[ "Fri Jul 31 08|
|00000220| 3a 32 39 3a 30 31 20 55 54 43 20 32 30 32 30 22 |:29:01 UTC 2020"|
|00000230| 20 5d 0a 20 20 20 20 7d 2c 20 7b 0a 20 20 20 20 | ].    }, {.    |
|00000240| 20 20 22 6e 61 6d 65 22 20 3a 20 22 43 6f 6e 74 |  "name" : "Cont|
|00000250| 65 6e 74 2d 54 79 70 65 22 2c 0a 20 20 20 20 20 |ent-Type",.     |
|00000260| 20 22 76 61 6c 75 65 73 22 20 3a 20 5b 20 22 61 | "values" : [ "a|
|00000270| 70 70 6c 69 63 61 74 69 6f 6e 2f 6a 73 6f 6e 3b |pplication/json;|
|00000280| 20 63 68 61 72 73 65 74 3d 75 74 66 2d 38 22 20 | charset=utf-8" |
|00000290| 5d 0a 20 20 20 20 7d 20 5d 2c 0a 20 20 20 20 22 |].    } ],.    "|
|000002a0| 62 6f 64 79 22 20 3a 20 22 7b 5c 22 73 74 61 74 |body" : "{\"stat|
|000002b0| 75 73 5c 22 3a 5c 22 73 75 63 63 65 73 73 5c 22 |us\":\"success\"|
|000002c0| 2c 5c 22 6d 65 73 73 61 67 65 5c 22 3a 5c 22 45 |,\"message\":\"E|
|000002d0| 76 65 6e 74 20 70 72 6f 63 65 73 73 65 64 5c 22 |vent processed\"|
|000002e0| 2c 5c 22 64 65 64 75 70 5f 6b 65 79 5c 22 3a 5c |,\"dedup_key\":\|
|000002f0| 22 44 45 44 55 50 5f 4b 45 59 5c 22 7d 22 2c 0a |"DEDUP_KEY\"}",.|
|00000300| 20 20 20 20 22 64 65 6c 61 79 22 20 3a 20 7b 0a |    "delay" : {.|
|00000310| 20 20 20 20 20 20 22 74 69 6d 65 55 6e 69 74 22 |      "timeUnit"|
|00000320| 20 3a 20 22 53 45 43 4f 4e 44 53 22 2c 0a 20 20 | : "SECONDS",.  |
|00000330| 20 20 20 20 22 76 61 6c 75 65 22 20 3a 20 31 0a |    "value" : 1.|
|00000340| 20 20 20 20 7d 0a 20 20 7d 2c 0a 20 20 22 74 69 |    }.  },.  "ti|
|00000350| 6d 65 73 22 20 3a 20 7b 0a 20 20 20 20 22 72 65 |mes" : {.    "re|
|00000360| 6d 61 69 6e 69 6e 67 54 69 6d 65 73 22 20 3a 20 |mainingTimes" : |
|00000370| 31 2c 0a 20 20 20 20 22 75 6e 6c 69 6d 69 74 65 |1,.    "unlimite|
|00000380| 64 22 20 3a 20 66 61 6c 73 65 0a 20 20 7d 2c 0a |d" : false.  },.|
|00000390| 20 20 22 74 69 6d 65 54 6f 4c 69 76 65 22 20 3a |  "timeToLive" :|
|000003a0| 20 7b 0a 20 20 20 20 22 75 6e 6c 69 6d 69 74 65 | {.    "unlimite|
|000003b0| 64 22 20 3a 20 74 72 75 65 0a 20 20 7d 0a 7d    |d" : true.  }.} |
+--------+-------------------------------------------------+----------------+
08:29:01.552 [nioEventLoopGroup-12-1] INFO  o.m.mockserver.MockServerHandler - creating expectation:

	{
	  "httpRequest" : {
	    "method" : "POST",
	    "path" : "/v2/enqueue",
	    "body" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"resolve\",\"dedup_key\":\"DEDUP_KEY\",\"payload\":{\"summary\":\"BLANK\",\"source\":\"BLANK\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  },
	  "times" : {
	    "remainingTimes" : 1,
	    "unlimited" : false
	  },
	  "timeToLive" : {
	    "unlimited" : true
	  },
	  "httpResponse" : {
	    "statusCode" : 200,
	    "headers" : [ {
	      "name" : "Server",
	      "values" : [ "MockServer" ]
	    }, {
	      "name" : "Date",
	      "values" : [ "Fri Jul 31 08:29:01 UTC 2020" ]
	    }, {
	      "name" : "Content-Type",
	      "values" : [ "application/json; charset=utf-8" ]
	    } ],
	    "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}",
	    "delay" : {
	      "timeUnit" : "SECONDS",
	      "value" : 1
	    }
	  }
	}


08:29:01.552 [nioEventLoopGroup-12-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x6dc31076, /127.0.0.1:40158 => /127.0.0.1:39067] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 201 Created
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:01.553 [nioEventLoopGroup-12-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x6dc31076, /127.0.0.1:40158 => /127.0.0.1:39067] FLUSH
08:29:01.555 [nioEventLoopGroup-12-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x6dc31076, /127.0.0.1:40158 => /127.0.0.1:39067] FLUSH
08:29:01.554 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 201,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:01.555 [nioEventLoopGroup-12-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x6dc31076, /127.0.0.1:40158 :> /127.0.0.1:39067] INACTIVE
08:29:01.555 [nioEventLoopGroup-12-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x6dc31076, /127.0.0.1:40158 :> /127.0.0.1:39067] UNREGISTERED
08:29:01.556 [nioEventLoopGroup-13-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-13-1
2020-07-31 08:29:01 DEBUG RequestAddCookies:122 - CookieSpec selected: default
2020-07-31 08:29:01 DEBUG RequestAuthCache:76 - Auth cache not set in the context
2020-07-31 08:29:01 DEBUG PoolingHttpClientConnectionManager:249 - Connection request: [route: {}->http://localhost:39067][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 200]
2020-07-31 08:29:01 DEBUG PoolingHttpClientConnectionManager:282 - Connection leased: [id: 2][route: {}->http://localhost:39067][total kept alive: 0; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:01 DEBUG MainClientExec:234 - Opening connection {}->http://localhost:39067
2020-07-31 08:29:01 DEBUG DefaultHttpClientConnectionOperator:138 - Connecting to localhost/127.0.0.1:39067
2020-07-31 08:29:01 DEBUG DefaultHttpClientConnectionOperator:145 - Connection established 127.0.0.1:40162<->127.0.0.1:39067
2020-07-31 08:29:01 DEBUG DefaultManagedHttpClientConnection:90 - http-outgoing-2: set socket timeout to 60000
2020-07-31 08:29:01 DEBUG MainClientExec:255 - Executing request POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:01 DEBUG MainClientExec:260 - Target auth state: UNCHALLENGED
2020-07-31 08:29:01 DEBUG MainClientExec:266 - Proxy auth state: UNCHALLENGED
2020-07-31 08:29:01 DEBUG headers:135 - http-outgoing-2 >> POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:01 DEBUG headers:138 - http-outgoing-2 >> Accept: application/json
2020-07-31 08:29:01 DEBUG headers:138 - http-outgoing-2 >> accept-encoding: gzip
2020-07-31 08:29:01 DEBUG headers:138 - http-outgoing-2 >> user-agent: unirest-java/1.3.11
2020-07-31 08:29:01 DEBUG headers:138 - http-outgoing-2 >> Content-Length: 225
2020-07-31 08:29:01 DEBUG headers:138 - http-outgoing-2 >> Content-Type: text/plain; charset=UTF-8
2020-07-31 08:29:01 DEBUG headers:138 - http-outgoing-2 >> Host: localhost:39067
2020-07-31 08:29:01 DEBUG headers:138 - http-outgoing-2 >> Connection: Keep-Alive
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-2 >> "POST /v2/enqueue HTTP/1.1[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-2 >> "Accept: application/json[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-2 >> "accept-encoding: gzip[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-2 >> "user-agent: unirest-java/1.3.11[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-2 >> "Content-Length: 225[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-2 >> "Content-Type: text/plain; charset=UTF-8[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-2 >> "Host: localhost:39067[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-2 >> "Connection: Keep-Alive[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:72 - http-outgoing-2 >> "[\r][\n]"
2020-07-31 08:29:01 DEBUG wire:86 - http-outgoing-2 >> "{"routing_key":"ROUTING_KEY","event_action":"resolve","dedup_key":"DEDUP_KEY","payload":{"summary":"BLANK","source":"BLANK","severity":"info","timestamp":null,"component":null,"group":null,"class":null,"custom_details":null}}"
08:29:01.615 [nioEventLoopGroup-12-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xdbb07790, /127.0.0.1:40162 => /127.0.0.1:39067] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 225, cap: 225, components=1))
POST /v2/enqueue HTTP/1.1
Accept: application/json
accept-encoding: gzip
user-agent: unirest-java/1.3.11
Content-Length: 225
Content-Type: text/plain; charset=UTF-8
Host: localhost:39067
Connection: Keep-Alive, 225B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 72 6f 75 74 69 6e 67 5f 6b 65 79 22 3a 22 |{"routing_key":"|
|00000010| 52 4f 55 54 49 4e 47 5f 4b 45 59 22 2c 22 65 76 |ROUTING_KEY","ev|
|00000020| 65 6e 74 5f 61 63 74 69 6f 6e 22 3a 22 72 65 73 |ent_action":"res|
|00000030| 6f 6c 76 65 22 2c 22 64 65 64 75 70 5f 6b 65 79 |olve","dedup_key|
|00000040| 22 3a 22 44 45 44 55 50 5f 4b 45 59 22 2c 22 70 |":"DEDUP_KEY","p|
|00000050| 61 79 6c 6f 61 64 22 3a 7b 22 73 75 6d 6d 61 72 |ayload":{"summar|
|00000060| 79 22 3a 22 42 4c 41 4e 4b 22 2c 22 73 6f 75 72 |y":"BLANK","sour|
|00000070| 63 65 22 3a 22 42 4c 41 4e 4b 22 2c 22 73 65 76 |ce":"BLANK","sev|
|00000080| 65 72 69 74 79 22 3a 22 69 6e 66 6f 22 2c 22 74 |erity":"info","t|
|00000090| 69 6d 65 73 74 61 6d 70 22 3a 6e 75 6c 6c 2c 22 |imestamp":null,"|
|000000a0| 63 6f 6d 70 6f 6e 65 6e 74 22 3a 6e 75 6c 6c 2c |component":null,|
|000000b0| 22 67 72 6f 75 70 22 3a 6e 75 6c 6c 2c 22 63 6c |"group":null,"cl|
|000000c0| 61 73 73 22 3a 6e 75 6c 6c 2c 22 63 75 73 74 6f |ass":null,"custo|
|000000d0| 6d 5f 64 65 74 61 69 6c 73 22 3a 6e 75 6c 6c 7d |m_details":null}|
|000000e0| 7d                                              |}               |
+--------+-------------------------------------------------+----------------+
08:29:01.620 [nioEventLoopGroup-12-2] INFO  o.m.matchers.HttpRequestMatcher - request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "225" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:39067" ]
	  }, {
	    "name" : "Connection",
	    "values" : [ "Keep-Alive" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"resolve\",\"dedup_key\":\"DEDUP_KEY\",\"payload\":{\"summary\":\"BLANK\",\"source\":\"BLANK\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}

 matched expectation:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "body" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"resolve\",\"dedup_key\":\"DEDUP_KEY\",\"payload\":{\"summary\":\"BLANK\",\"source\":\"BLANK\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	}


08:29:01.662 [nioEventLoopGroup-8-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb97c5717, /127.0.0.1:55380 :> /127.0.0.1:39757] FLUSH
08:29:01.663 [nioEventLoopGroup-8-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb97c5717, /127.0.0.1:55380 :> /127.0.0.1:39757] INACTIVE
08:29:01.663 [nioEventLoopGroup-8-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb97c5717, /127.0.0.1:55380 :> /127.0.0.1:39757] UNREGISTERED
08:29:01.664 [nioEventLoopGroup-8-3] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-8-3
2020-07-31 08:29:01 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:01 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
2020-07-31 08:29:01 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:01 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
08:29:02.165 [nioEventLoopGroup-8-2] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-8-2
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
08:29:02.625 [nioEventLoopGroup-12-2] INFO  o.m.mockserver.MockServerHandler - returning response:

	{
	  "statusCode" : 200,
	  "headers" : [ {
	    "name" : "Server",
	    "values" : [ "MockServer" ]
	  }, {
	    "name" : "Date",
	    "values" : [ "Fri Jul 31 08:29:01 UTC 2020" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "application/json; charset=utf-8" ]
	  } ],
	  "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}"
	}

 for request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "225" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:39067" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"ROUTING_KEY\",\"event_action\":\"resolve\",\"dedup_key\":\"DEDUP_KEY\",\"payload\":{\"summary\":\"BLANK\",\"source\":\"BLANK\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}


08:29:02.626 [nioEventLoopGroup-12-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xdbb07790, /127.0.0.1:40162 => /127.0.0.1:39067] WRITE: DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: UnpooledHeapByteBuf(ridx: 0, widx: 72, cap: 72/72))
HTTP/1.1 200 OK
Server: MockServer
Date: Fri Jul 31 08:29:01 UTC 2020
Content-Type: application/json; charset=utf-8
Content-Length: 72
Connection: keep-alive, 72B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 73 74 61 74 75 73 22 3a 22 73 75 63 63 65 |{"status":"succe|
|00000010| 73 73 22 2c 22 6d 65 73 73 61 67 65 22 3a 22 45 |ss","message":"E|
|00000020| 76 65 6e 74 20 70 72 6f 63 65 73 73 65 64 22 2c |vent processed",|
|00000030| 22 64 65 64 75 70 5f 6b 65 79 22 3a 22 44 45 44 |"dedup_key":"DED|
|00000040| 55 50 5f 4b 45 59 22 7d                         |UP_KEY"}        |
+--------+-------------------------------------------------+----------------+
08:29:02.627 [nioEventLoopGroup-12-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xdbb07790, /127.0.0.1:40162 => /127.0.0.1:39067] FLUSH
2020-07-31 08:29:02 DEBUG wire:72 - http-outgoing-2 << "HTTP/1.1 200 OK[\r][\n]"
2020-07-31 08:29:02 DEBUG wire:72 - http-outgoing-2 << "Server: MockServer[\r][\n]"
2020-07-31 08:29:02 DEBUG wire:72 - http-outgoing-2 << "Date: Fri Jul 31 08:29:01 UTC 2020[\r][\n]"
2020-07-31 08:29:02 DEBUG wire:72 - http-outgoing-2 << "Content-Type: application/json; charset=utf-8[\r][\n]"
2020-07-31 08:29:02 DEBUG wire:72 - http-outgoing-2 << "Content-Length: 72[\r][\n]"
2020-07-31 08:29:02 DEBUG wire:72 - http-outgoing-2 << "Connection: keep-alive[\r][\n]"
2020-07-31 08:29:02 DEBUG wire:72 - http-outgoing-2 << "[\r][\n]"
2020-07-31 08:29:02 DEBUG wire:86 - http-outgoing-2 << "{"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}"
2020-07-31 08:29:02 DEBUG headers:124 - http-outgoing-2 << HTTP/1.1 200 OK
2020-07-31 08:29:02 DEBUG headers:127 - http-outgoing-2 << Server: MockServer
2020-07-31 08:29:02 DEBUG headers:127 - http-outgoing-2 << Date: Fri Jul 31 08:29:01 UTC 2020
2020-07-31 08:29:02 DEBUG headers:127 - http-outgoing-2 << Content-Type: application/json; charset=utf-8
2020-07-31 08:29:02 DEBUG headers:127 - http-outgoing-2 << Content-Length: 72
2020-07-31 08:29:02 DEBUG headers:127 - http-outgoing-2 << Connection: keep-alive
2020-07-31 08:29:02 DEBUG MainClientExec:284 - Connection can be kept alive indefinitely
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:314 - Connection [id: 2][route: {}->http://localhost:39067] can be kept alive indefinitely
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:320 - Connection released: [id: 2][route: {}->http://localhost:39067][total kept alive: 1; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:02 DEBUG MainClientExec:144 - Cancelling request execution
08:29:02.632 [main] DEBUG c.g.d.p.c.events.HttpApiServiceImpl - {"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}
08:29:02.632 [main] DEBUG c.g.d.p.c.e.PagerDutyEventsClient - Event result EventResult{status='success', message='Event processed', dedupKey='DEDUP_KEY', errors='null'} for Incident { routingKey='ROUTING_KEY', eventAction=resolve, dedupKey='DEDUP_KEY', payload=Payload { summary=BLANK, source=BLANK, severity=info, timestamp=null, component=null, group=null, eventClass=null, custom_details=null }, images=null, links=null }
08:29:02.632 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/stop"
}
08:29:02.641 [nioEventLoopGroup-12-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xa5e524e0, /127.0.0.1:40202 => /127.0.0.1:39067] RECEIVED, HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
PUT /stop HTTP/1.1
Host: localhost:39067
Accept-Encoding: gzip,deflate
Content-Length: 0
Connection: keep-alive, 0B
08:29:02.642 [nioEventLoopGroup-12-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xa5e524e0, /127.0.0.1:40202 => /127.0.0.1:39067] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 202 Accepted
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:02.643 [nioEventLoopGroup-12-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xa5e524e0, /127.0.0.1:40202 => /127.0.0.1:39067] FLUSH
08:29:02.643 [nioEventLoopGroup-12-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xa5e524e0, /127.0.0.1:40202 => /127.0.0.1:39067] CLOSE()
08:29:02.645 [nioEventLoopGroup-12-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xdbb07790, /127.0.0.1:40162 :> /127.0.0.1:39067] INACTIVE
08:29:02.646 [nioEventLoopGroup-12-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xdbb07790, /127.0.0.1:40162 :> /127.0.0.1:39067] UNREGISTERED
08:29:02.646 [nioEventLoopGroup-12-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 5 thread-local buffer(s) from thread: nioEventLoopGroup-12-1
08:29:02.646 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 202,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:02.649 [nioEventLoopGroup-14-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-14-1
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.476 sec - in com.github.dikhan.pagerduty.client.events.PagerDutyEventsClientTest
Running com.github.dikhan.pagerduty.client.events.HttpApiServiceImplTest
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:02 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
08:29:03.007 [MockServer thread for port: 36185] INFO  org.mockserver.mockserver.MockServer - MockServer started on port: 36185
08:29:03.017 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/expectation",
  "body" : {
    "charset" : "UTF-8",
    "type" : "STRING",
    "string" : "{\n  \"httpRequest\" : {\n    \"method\" : \"POST\",\n    \"path\" : \"/v2/enqueue\",\n    \"body\" : \"{\\\"routing_key\\\":\\\"SERVICE_KEY\\\",\\\"event_action\\\":\\\"trigger\\\",\\\"payload\\\":{\\\"summary\\\":\\\"HealthCheck failed\\\",\\\"source\\\":\\\"testing source\\\",\\\"severity\\\":\\\"info\\\",\\\"timestamp\\\":null,\\\"component\\\":null,\\\"group\\\":null,\\\"class\\\":null,\\\"custom_details\\\":null}}\"\n  },\n  \"httpResponse\" : {\n    \"statusCode\" : 403,\n    \"headers\" : [ {\n      \"name\" : \"Server\",\n      \"values\" : [ \"MockServer\" ]\n    }, {\n      \"name\" : \"Date\",\n      \"values\" : [ \"Fri Jul 31 08:29:03 UTC 2020\" ]\n    }, {\n      \"name\" : \"Content-Type\",\n      \"values\" : [ \"application/json; charset=utf-8\" ]\n    } ],\n    \"body\" : \"{}\",\n    \"delay\" : {\n      \"timeUnit\" : \"SECONDS\",\n      \"value\" : 1\n    }\n  },\n  \"times\" : {\n    \"remainingTimes\" : 1,\n    \"unlimited\" : false\n  },\n  \"timeToLive\" : {\n    \"unlimited\" : true\n  }\n}"
  }
}
08:29:03.029 [nioEventLoopGroup-16-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x4b177690, /127.0.0.1:55558 => /127.0.0.1:36185] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 871, cap: 871, components=2))
PUT /expectation HTTP/1.1
Host: localhost:36185
Accept-Encoding: gzip,deflate
Content-Length: 871
Connection: keep-alive
Content-Type: text/plain; charset=utf-8, 871B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 0a 20 20 22 68 74 74 70 52 65 71 75 65 73 74 |{.  "httpRequest|
|00000010| 22 20 3a 20 7b 0a 20 20 20 20 22 6d 65 74 68 6f |" : {.    "metho|
|00000020| 64 22 20 3a 20 22 50 4f 53 54 22 2c 0a 20 20 20 |d" : "POST",.   |
|00000030| 20 22 70 61 74 68 22 20 3a 20 22 2f 76 32 2f 65 | "path" : "/v2/e|
|00000040| 6e 71 75 65 75 65 22 2c 0a 20 20 20 20 22 62 6f |nqueue",.    "bo|
|00000050| 64 79 22 20 3a 20 22 7b 5c 22 72 6f 75 74 69 6e |dy" : "{\"routin|
|00000060| 67 5f 6b 65 79 5c 22 3a 5c 22 53 45 52 56 49 43 |g_key\":\"SERVIC|
|00000070| 45 5f 4b 45 59 5c 22 2c 5c 22 65 76 65 6e 74 5f |E_KEY\",\"event_|
|00000080| 61 63 74 69 6f 6e 5c 22 3a 5c 22 74 72 69 67 67 |action\":\"trigg|
|00000090| 65 72 5c 22 2c 5c 22 70 61 79 6c 6f 61 64 5c 22 |er\",\"payload\"|
|000000a0| 3a 7b 5c 22 73 75 6d 6d 61 72 79 5c 22 3a 5c 22 |:{\"summary\":\"|
|000000b0| 48 65 61 6c 74 68 43 68 65 63 6b 20 66 61 69 6c |HealthCheck fail|
|000000c0| 65 64 5c 22 2c 5c 22 73 6f 75 72 63 65 5c 22 3a |ed\",\"source\":|
|000000d0| 5c 22 74 65 73 74 69 6e 67 20 73 6f 75 72 63 65 |\"testing source|
|000000e0| 5c 22 2c 5c 22 73 65 76 65 72 69 74 79 5c 22 3a |\",\"severity\":|
|000000f0| 5c 22 69 6e 66 6f 5c 22 2c 5c 22 74 69 6d 65 73 |\"info\",\"times|
|00000100| 74 61 6d 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 6f |tamp\":null,\"co|
|00000110| 6d 70 6f 6e 65 6e 74 5c 22 3a 6e 75 6c 6c 2c 5c |mponent\":null,\|
|00000120| 22 67 72 6f 75 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 |"group\":null,\"|
|00000130| 63 6c 61 73 73 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 |class\":null,\"c|
|00000140| 75 73 74 6f 6d 5f 64 65 74 61 69 6c 73 5c 22 3a |ustom_details\":|
|00000150| 6e 75 6c 6c 7d 7d 22 0a 20 20 7d 2c 0a 20 20 22 |null}}".  },.  "|
|00000160| 68 74 74 70 52 65 73 70 6f 6e 73 65 22 20 3a 20 |httpResponse" : |
|00000170| 7b 0a 20 20 20 20 22 73 74 61 74 75 73 43 6f 64 |{.    "statusCod|
|00000180| 65 22 20 3a 20 34 30 33 2c 0a 20 20 20 20 22 68 |e" : 403,.    "h|
|00000190| 65 61 64 65 72 73 22 20 3a 20 5b 20 7b 0a 20 20 |eaders" : [ {.  |
|000001a0| 20 20 20 20 22 6e 61 6d 65 22 20 3a 20 22 53 65 |    "name" : "Se|
|000001b0| 72 76 65 72 22 2c 0a 20 20 20 20 20 20 22 76 61 |rver",.      "va|
|000001c0| 6c 75 65 73 22 20 3a 20 5b 20 22 4d 6f 63 6b 53 |lues" : [ "MockS|
|000001d0| 65 72 76 65 72 22 20 5d 0a 20 20 20 20 7d 2c 20 |erver" ].    }, |
|000001e0| 7b 0a 20 20 20 20 20 20 22 6e 61 6d 65 22 20 3a |{.      "name" :|
|000001f0| 20 22 44 61 74 65 22 2c 0a 20 20 20 20 20 20 22 | "Date",.      "|
|00000200| 76 61 6c 75 65 73 22 20 3a 20 5b 20 22 46 72 69 |values" : [ "Fri|
|00000210| 20 4a 75 6c 20 33 31 20 30 38 3a 32 39 3a 30 33 | Jul 31 08:29:03|
|00000220| 20 55 54 43 20 32 30 32 30 22 20 5d 0a 20 20 20 | UTC 2020" ].   |
|00000230| 20 7d 2c 20 7b 0a 20 20 20 20 20 20 22 6e 61 6d | }, {.      "nam|
|00000240| 65 22 20 3a 20 22 43 6f 6e 74 65 6e 74 2d 54 79 |e" : "Content-Ty|
|00000250| 70 65 22 2c 0a 20 20 20 20 20 20 22 76 61 6c 75 |pe",.      "valu|
|00000260| 65 73 22 20 3a 20 5b 20 22 61 70 70 6c 69 63 61 |es" : [ "applica|
|00000270| 74 69 6f 6e 2f 6a 73 6f 6e 3b 20 63 68 61 72 73 |tion/json; chars|
|00000280| 65 74 3d 75 74 66 2d 38 22 20 5d 0a 20 20 20 20 |et=utf-8" ].    |
|00000290| 7d 20 5d 2c 0a 20 20 20 20 22 62 6f 64 79 22 20 |} ],.    "body" |
|000002a0| 3a 20 22 7b 7d 22 2c 0a 20 20 20 20 22 64 65 6c |: "{}",.    "del|
|000002b0| 61 79 22 20 3a 20 7b 0a 20 20 20 20 20 20 22 74 |ay" : {.      "t|
|000002c0| 69 6d 65 55 6e 69 74 22 20 3a 20 22 53 45 43 4f |imeUnit" : "SECO|
|000002d0| 4e 44 53 22 2c 0a 20 20 20 20 20 20 22 76 61 6c |NDS",.      "val|
|000002e0| 75 65 22 20 3a 20 31 0a 20 20 20 20 7d 0a 20 20 |ue" : 1.    }.  |
|000002f0| 7d 2c 0a 20 20 22 74 69 6d 65 73 22 20 3a 20 7b |},.  "times" : {|
|00000300| 0a 20 20 20 20 22 72 65 6d 61 69 6e 69 6e 67 54 |.    "remainingT|
|00000310| 69 6d 65 73 22 20 3a 20 31 2c 0a 20 20 20 20 22 |imes" : 1,.    "|
|00000320| 75 6e 6c 69 6d 69 74 65 64 22 20 3a 20 66 61 6c |unlimited" : fal|
|00000330| 73 65 0a 20 20 7d 2c 0a 20 20 22 74 69 6d 65 54 |se.  },.  "timeT|
|00000340| 6f 4c 69 76 65 22 20 3a 20 7b 0a 20 20 20 20 22 |oLive" : {.    "|
|00000350| 75 6e 6c 69 6d 69 74 65 64 22 20 3a 20 74 72 75 |unlimited" : tru|
|00000360| 65 0a 20 20 7d 0a 7d                            |e.  }.}         |
+--------+-------------------------------------------------+----------------+
08:29:03.041 [nioEventLoopGroup-16-1] INFO  o.m.mockserver.MockServerHandler - creating expectation:

	{
	  "httpRequest" : {
	    "method" : "POST",
	    "path" : "/v2/enqueue",
	    "body" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  },
	  "times" : {
	    "remainingTimes" : 1,
	    "unlimited" : false
	  },
	  "timeToLive" : {
	    "unlimited" : true
	  },
	  "httpResponse" : {
	    "statusCode" : 403,
	    "headers" : [ {
	      "name" : "Server",
	      "values" : [ "MockServer" ]
	    }, {
	      "name" : "Date",
	      "values" : [ "Fri Jul 31 08:29:03 UTC 2020" ]
	    }, {
	      "name" : "Content-Type",
	      "values" : [ "application/json; charset=utf-8" ]
	    } ],
	    "body" : "{}",
	    "delay" : {
	      "timeUnit" : "SECONDS",
	      "value" : 1
	    }
	  }
	}


08:29:03.042 [nioEventLoopGroup-16-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x4b177690, /127.0.0.1:55558 => /127.0.0.1:36185] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 201 Created
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:03.042 [nioEventLoopGroup-16-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x4b177690, /127.0.0.1:55558 => /127.0.0.1:36185] FLUSH
08:29:03.044 [nioEventLoopGroup-16-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x4b177690, /127.0.0.1:55558 => /127.0.0.1:36185] FLUSH
08:29:03.043 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 201,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:03.044 [nioEventLoopGroup-16-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x4b177690, /127.0.0.1:55558 :> /127.0.0.1:36185] INACTIVE
08:29:03.044 [nioEventLoopGroup-16-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x4b177690, /127.0.0.1:55558 :> /127.0.0.1:36185] UNREGISTERED
08:29:03.044 [nioEventLoopGroup-17-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-17-1
2020-07-31 08:29:03 DEBUG RequestAddCookies:122 - CookieSpec selected: default
2020-07-31 08:29:03 DEBUG RequestAuthCache:76 - Auth cache not set in the context
2020-07-31 08:29:03 DEBUG PoolingHttpClientConnectionManager:249 - Connection request: [route: {}->http://localhost:36185][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 200]
2020-07-31 08:29:03 DEBUG PoolingHttpClientConnectionManager:282 - Connection leased: [id: 3][route: {}->http://localhost:36185][total kept alive: 0; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:03 DEBUG MainClientExec:234 - Opening connection {}->http://localhost:36185
2020-07-31 08:29:03 DEBUG DefaultHttpClientConnectionOperator:138 - Connecting to localhost/127.0.0.1:36185
2020-07-31 08:29:03 DEBUG DefaultHttpClientConnectionOperator:145 - Connection established 127.0.0.1:55560<->127.0.0.1:36185
2020-07-31 08:29:03 DEBUG DefaultManagedHttpClientConnection:90 - http-outgoing-3: set socket timeout to 60000
2020-07-31 08:29:03 DEBUG MainClientExec:255 - Executing request POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:03 DEBUG MainClientExec:260 - Target auth state: UNCHALLENGED
2020-07-31 08:29:03 DEBUG MainClientExec:266 - Proxy auth state: UNCHALLENGED
2020-07-31 08:29:03 DEBUG headers:135 - http-outgoing-3 >> POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:03 DEBUG headers:138 - http-outgoing-3 >> Accept: application/json
2020-07-31 08:29:03 DEBUG headers:138 - http-outgoing-3 >> accept-encoding: gzip
2020-07-31 08:29:03 DEBUG headers:138 - http-outgoing-3 >> user-agent: unirest-java/1.3.11
2020-07-31 08:29:03 DEBUG headers:138 - http-outgoing-3 >> Content-Length: 223
2020-07-31 08:29:03 DEBUG headers:138 - http-outgoing-3 >> Content-Type: text/plain; charset=UTF-8
2020-07-31 08:29:03 DEBUG headers:138 - http-outgoing-3 >> Host: localhost:36185
2020-07-31 08:29:03 DEBUG headers:138 - http-outgoing-3 >> Connection: Keep-Alive
2020-07-31 08:29:03 DEBUG wire:72 - http-outgoing-3 >> "POST /v2/enqueue HTTP/1.1[\r][\n]"
2020-07-31 08:29:03 DEBUG wire:72 - http-outgoing-3 >> "Accept: application/json[\r][\n]"
2020-07-31 08:29:03 DEBUG wire:72 - http-outgoing-3 >> "accept-encoding: gzip[\r][\n]"
2020-07-31 08:29:03 DEBUG wire:72 - http-outgoing-3 >> "user-agent: unirest-java/1.3.11[\r][\n]"
2020-07-31 08:29:03 DEBUG wire:72 - http-outgoing-3 >> "Content-Length: 223[\r][\n]"
2020-07-31 08:29:03 DEBUG wire:72 - http-outgoing-3 >> "Content-Type: text/plain; charset=UTF-8[\r][\n]"
2020-07-31 08:29:03 DEBUG wire:72 - http-outgoing-3 >> "Host: localhost:36185[\r][\n]"
2020-07-31 08:29:03 DEBUG wire:72 - http-outgoing-3 >> "Connection: Keep-Alive[\r][\n]"
2020-07-31 08:29:03 DEBUG wire:72 - http-outgoing-3 >> "[\r][\n]"
2020-07-31 08:29:03 DEBUG wire:86 - http-outgoing-3 >> "{"routing_key":"SERVICE_KEY","event_action":"trigger","payload":{"summary":"HealthCheck failed","source":"testing source","severity":"info","timestamp":null,"component":null,"group":null,"class":null,"custom_details":null}}"
08:29:03.059 [nioEventLoopGroup-16-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x962ed15a, /127.0.0.1:55560 => /127.0.0.1:36185] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 223, cap: 223, components=1))
POST /v2/enqueue HTTP/1.1
Accept: application/json
accept-encoding: gzip
user-agent: unirest-java/1.3.11
Content-Length: 223
Content-Type: text/plain; charset=UTF-8
Host: localhost:36185
Connection: Keep-Alive, 223B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 72 6f 75 74 69 6e 67 5f 6b 65 79 22 3a 22 |{"routing_key":"|
|00000010| 53 45 52 56 49 43 45 5f 4b 45 59 22 2c 22 65 76 |SERVICE_KEY","ev|
|00000020| 65 6e 74 5f 61 63 74 69 6f 6e 22 3a 22 74 72 69 |ent_action":"tri|
|00000030| 67 67 65 72 22 2c 22 70 61 79 6c 6f 61 64 22 3a |gger","payload":|
|00000040| 7b 22 73 75 6d 6d 61 72 79 22 3a 22 48 65 61 6c |{"summary":"Heal|
|00000050| 74 68 43 68 65 63 6b 20 66 61 69 6c 65 64 22 2c |thCheck failed",|
|00000060| 22 73 6f 75 72 63 65 22 3a 22 74 65 73 74 69 6e |"source":"testin|
|00000070| 67 20 73 6f 75 72 63 65 22 2c 22 73 65 76 65 72 |g source","sever|
|00000080| 69 74 79 22 3a 22 69 6e 66 6f 22 2c 22 74 69 6d |ity":"info","tim|
|00000090| 65 73 74 61 6d 70 22 3a 6e 75 6c 6c 2c 22 63 6f |estamp":null,"co|
|000000a0| 6d 70 6f 6e 65 6e 74 22 3a 6e 75 6c 6c 2c 22 67 |mponent":null,"g|
|000000b0| 72 6f 75 70 22 3a 6e 75 6c 6c 2c 22 63 6c 61 73 |roup":null,"clas|
|000000c0| 73 22 3a 6e 75 6c 6c 2c 22 63 75 73 74 6f 6d 5f |s":null,"custom_|
|000000d0| 64 65 74 61 69 6c 73 22 3a 6e 75 6c 6c 7d 7d    |details":null}} |
+--------+-------------------------------------------------+----------------+
08:29:03.063 [nioEventLoopGroup-16-2] INFO  o.m.matchers.HttpRequestMatcher - request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:36185" ]
	  }, {
	    "name" : "Connection",
	    "values" : [ "Keep-Alive" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}

 matched expectation:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "body" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	}


08:29:03.146 [nioEventLoopGroup-12-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xa5e524e0, /127.0.0.1:40202 :> /127.0.0.1:39067] FLUSH
08:29:03.146 [nioEventLoopGroup-12-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xa5e524e0, /127.0.0.1:40202 :> /127.0.0.1:39067] INACTIVE
08:29:03.146 [nioEventLoopGroup-12-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xa5e524e0, /127.0.0.1:40202 :> /127.0.0.1:39067] UNREGISTERED
08:29:03.147 [nioEventLoopGroup-12-3] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-12-3
08:29:03.649 [nioEventLoopGroup-12-2] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-12-2
08:29:04.067 [nioEventLoopGroup-16-2] INFO  o.m.mockserver.MockServerHandler - returning response:

	{
	  "statusCode" : 403,
	  "headers" : [ {
	    "name" : "Server",
	    "values" : [ "MockServer" ]
	  }, {
	    "name" : "Date",
	    "values" : [ "Fri Jul 31 08:29:03 UTC 2020" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "application/json; charset=utf-8" ]
	  } ],
	  "body" : "{}"
	}

 for request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:36185" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}


08:29:04.068 [nioEventLoopGroup-16-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x962ed15a, /127.0.0.1:55560 => /127.0.0.1:36185] WRITE: DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: UnpooledHeapByteBuf(ridx: 0, widx: 2, cap: 2/2))
HTTP/1.1 403 Forbidden
Server: MockServer
Date: Fri Jul 31 08:29:03 UTC 2020
Content-Type: application/json; charset=utf-8
Content-Length: 2
Connection: keep-alive, 2B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 7d                                           |{}              |
+--------+-------------------------------------------------+----------------+
08:29:04.069 [nioEventLoopGroup-16-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x962ed15a, /127.0.0.1:55560 => /127.0.0.1:36185] FLUSH
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-3 << "HTTP/1.1 403 Forbidden[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-3 << "Server: MockServer[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-3 << "Date: Fri Jul 31 08:29:03 UTC 2020[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-3 << "Content-Type: application/json; charset=utf-8[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-3 << "Content-Length: 2[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-3 << "Connection: keep-alive[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-3 << "[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:86 - http-outgoing-3 << "{}"
2020-07-31 08:29:04 DEBUG headers:124 - http-outgoing-3 << HTTP/1.1 403 Forbidden
2020-07-31 08:29:04 DEBUG headers:127 - http-outgoing-3 << Server: MockServer
2020-07-31 08:29:04 DEBUG headers:127 - http-outgoing-3 << Date: Fri Jul 31 08:29:03 UTC 2020
2020-07-31 08:29:04 DEBUG headers:127 - http-outgoing-3 << Content-Type: application/json; charset=utf-8
2020-07-31 08:29:04 DEBUG headers:127 - http-outgoing-3 << Content-Length: 2
2020-07-31 08:29:04 DEBUG headers:127 - http-outgoing-3 << Connection: keep-alive
2020-07-31 08:29:04 DEBUG MainClientExec:284 - Connection can be kept alive indefinitely
2020-07-31 08:29:04 DEBUG PoolingHttpClientConnectionManager:314 - Connection [id: 3][route: {}->http://localhost:36185] can be kept alive indefinitely
2020-07-31 08:29:04 DEBUG PoolingHttpClientConnectionManager:320 - Connection released: [id: 3][route: {}->http://localhost:36185][total kept alive: 1; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:04 DEBUG MainClientExec:144 - Cancelling request execution
08:29:04.075 [main] DEBUG c.g.d.p.c.events.HttpApiServiceImpl - {}
08:29:04.075 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/stop"
}
08:29:04.083 [nioEventLoopGroup-16-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xe4fe181b, /127.0.0.1:55596 => /127.0.0.1:36185] RECEIVED, HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
PUT /stop HTTP/1.1
Host: localhost:36185
Accept-Encoding: gzip,deflate
Content-Length: 0
Connection: keep-alive, 0B
08:29:04.084 [nioEventLoopGroup-16-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xe4fe181b, /127.0.0.1:55596 => /127.0.0.1:36185] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 202 Accepted
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:04.084 [nioEventLoopGroup-16-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xe4fe181b, /127.0.0.1:55596 => /127.0.0.1:36185] FLUSH
08:29:04.085 [nioEventLoopGroup-16-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xe4fe181b, /127.0.0.1:55596 => /127.0.0.1:36185] CLOSE()
08:29:04.088 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 202,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:04.090 [nioEventLoopGroup-18-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-18-1
08:29:04.094 [nioEventLoopGroup-16-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 5 thread-local buffer(s) from thread: nioEventLoopGroup-16-1
08:29:04.095 [nioEventLoopGroup-16-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x962ed15a, /127.0.0.1:55560 :> /127.0.0.1:36185] INACTIVE
08:29:04.095 [nioEventLoopGroup-16-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x962ed15a, /127.0.0.1:55560 :> /127.0.0.1:36185] UNREGISTERED
08:29:04.449 [MockServer thread for port: 45713] INFO  org.mockserver.mockserver.MockServer - MockServer started on port: 45713
08:29:04.460 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/expectation",
  "body" : {
    "charset" : "UTF-8",
    "type" : "STRING",
    "string" : "{\n  \"httpRequest\" : {\n    \"method\" : \"POST\",\n    \"path\" : \"/v2/enqueue\",\n    \"body\" : \"{\\\"routing_key\\\":\\\"SERVICE_KEY\\\",\\\"event_action\\\":\\\"trigger\\\",\\\"payload\\\":{\\\"summary\\\":\\\"HealthCheck failed\\\",\\\"source\\\":\\\"testing source\\\",\\\"severity\\\":\\\"info\\\",\\\"timestamp\\\":null,\\\"component\\\":null,\\\"group\\\":null,\\\"class\\\":null,\\\"custom_details\\\":null}}\"\n  },\n  \"httpResponse\" : {\n    \"statusCode\" : 202,\n    \"headers\" : [ {\n      \"name\" : \"Server\",\n      \"values\" : [ \"MockServer\" ]\n    }, {\n      \"name\" : \"Date\",\n      \"values\" : [ \"Fri Jul 31 08:29:04 UTC 2020\" ]\n    }, {\n      \"name\" : \"Content-Type\",\n      \"values\" : [ \"application/json; charset=utf-8\" ]\n    } ],\n    \"body\" : \"{\\\"status\\\":\\\"success\\\",\\\"message\\\":\\\"Event processed\\\",\\\"dedup_key\\\":\\\"DEDUP_KEY\\\"}\",\n    \"delay\" : {\n      \"timeUnit\" : \"SECONDS\",\n      \"value\" : 1\n    }\n  },\n  \"times\" : {\n    \"remainingTimes\" : 1,\n    \"unlimited\" : false\n  },\n  \"timeToLive\" : {\n    \"unlimited\" : true\n  }\n}"
  }
}
08:29:04.472 [nioEventLoopGroup-20-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xaaf28ea1, /127.0.0.1:59244 => /127.0.0.1:45713] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 953, cap: 953, components=2))
PUT /expectation HTTP/1.1
Host: localhost:45713
Accept-Encoding: gzip,deflate
Content-Length: 953
Connection: keep-alive
Content-Type: text/plain; charset=utf-8, 953B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 0a 20 20 22 68 74 74 70 52 65 71 75 65 73 74 |{.  "httpRequest|
|00000010| 22 20 3a 20 7b 0a 20 20 20 20 22 6d 65 74 68 6f |" : {.    "metho|
|00000020| 64 22 20 3a 20 22 50 4f 53 54 22 2c 0a 20 20 20 |d" : "POST",.   |
|00000030| 20 22 70 61 74 68 22 20 3a 20 22 2f 76 32 2f 65 | "path" : "/v2/e|
|00000040| 6e 71 75 65 75 65 22 2c 0a 20 20 20 20 22 62 6f |nqueue",.    "bo|
|00000050| 64 79 22 20 3a 20 22 7b 5c 22 72 6f 75 74 69 6e |dy" : "{\"routin|
|00000060| 67 5f 6b 65 79 5c 22 3a 5c 22 53 45 52 56 49 43 |g_key\":\"SERVIC|
|00000070| 45 5f 4b 45 59 5c 22 2c 5c 22 65 76 65 6e 74 5f |E_KEY\",\"event_|
|00000080| 61 63 74 69 6f 6e 5c 22 3a 5c 22 74 72 69 67 67 |action\":\"trigg|
|00000090| 65 72 5c 22 2c 5c 22 70 61 79 6c 6f 61 64 5c 22 |er\",\"payload\"|
|000000a0| 3a 7b 5c 22 73 75 6d 6d 61 72 79 5c 22 3a 5c 22 |:{\"summary\":\"|
|000000b0| 48 65 61 6c 74 68 43 68 65 63 6b 20 66 61 69 6c |HealthCheck fail|
|000000c0| 65 64 5c 22 2c 5c 22 73 6f 75 72 63 65 5c 22 3a |ed\",\"source\":|
|000000d0| 5c 22 74 65 73 74 69 6e 67 20 73 6f 75 72 63 65 |\"testing source|
|000000e0| 5c 22 2c 5c 22 73 65 76 65 72 69 74 79 5c 22 3a |\",\"severity\":|
|000000f0| 5c 22 69 6e 66 6f 5c 22 2c 5c 22 74 69 6d 65 73 |\"info\",\"times|
|00000100| 74 61 6d 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 6f |tamp\":null,\"co|
|00000110| 6d 70 6f 6e 65 6e 74 5c 22 3a 6e 75 6c 6c 2c 5c |mponent\":null,\|
|00000120| 22 67 72 6f 75 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 |"group\":null,\"|
|00000130| 63 6c 61 73 73 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 |class\":null,\"c|
|00000140| 75 73 74 6f 6d 5f 64 65 74 61 69 6c 73 5c 22 3a |ustom_details\":|
|00000150| 6e 75 6c 6c 7d 7d 22 0a 20 20 7d 2c 0a 20 20 22 |null}}".  },.  "|
|00000160| 68 74 74 70 52 65 73 70 6f 6e 73 65 22 20 3a 20 |httpResponse" : |
|00000170| 7b 0a 20 20 20 20 22 73 74 61 74 75 73 43 6f 64 |{.    "statusCod|
|00000180| 65 22 20 3a 20 32 30 32 2c 0a 20 20 20 20 22 68 |e" : 202,.    "h|
|00000190| 65 61 64 65 72 73 22 20 3a 20 5b 20 7b 0a 20 20 |eaders" : [ {.  |
|000001a0| 20 20 20 20 22 6e 61 6d 65 22 20 3a 20 22 53 65 |    "name" : "Se|
|000001b0| 72 76 65 72 22 2c 0a 20 20 20 20 20 20 22 76 61 |rver",.      "va|
|000001c0| 6c 75 65 73 22 20 3a 20 5b 20 22 4d 6f 63 6b 53 |lues" : [ "MockS|
|000001d0| 65 72 76 65 72 22 20 5d 0a 20 20 20 20 7d 2c 20 |erver" ].    }, |
|000001e0| 7b 0a 20 20 20 20 20 20 22 6e 61 6d 65 22 20 3a |{.      "name" :|
|000001f0| 20 22 44 61 74 65 22 2c 0a 20 20 20 20 20 20 22 | "Date",.      "|
|00000200| 76 61 6c 75 65 73 22 20 3a 20 5b 20 22 46 72 69 |values" : [ "Fri|
|00000210| 20 4a 75 6c 20 33 31 20 30 38 3a 32 39 3a 30 34 | Jul 31 08:29:04|
|00000220| 20 55 54 43 20 32 30 32 30 22 20 5d 0a 20 20 20 | UTC 2020" ].   |
|00000230| 20 7d 2c 20 7b 0a 20 20 20 20 20 20 22 6e 61 6d | }, {.      "nam|
|00000240| 65 22 20 3a 20 22 43 6f 6e 74 65 6e 74 2d 54 79 |e" : "Content-Ty|
|00000250| 70 65 22 2c 0a 20 20 20 20 20 20 22 76 61 6c 75 |pe",.      "valu|
|00000260| 65 73 22 20 3a 20 5b 20 22 61 70 70 6c 69 63 61 |es" : [ "applica|
|00000270| 74 69 6f 6e 2f 6a 73 6f 6e 3b 20 63 68 61 72 73 |tion/json; chars|
|00000280| 65 74 3d 75 74 66 2d 38 22 20 5d 0a 20 20 20 20 |et=utf-8" ].    |
|00000290| 7d 20 5d 2c 0a 20 20 20 20 22 62 6f 64 79 22 20 |} ],.    "body" |
|000002a0| 3a 20 22 7b 5c 22 73 74 61 74 75 73 5c 22 3a 5c |: "{\"status\":\|
|000002b0| 22 73 75 63 63 65 73 73 5c 22 2c 5c 22 6d 65 73 |"success\",\"mes|
|000002c0| 73 61 67 65 5c 22 3a 5c 22 45 76 65 6e 74 20 70 |sage\":\"Event p|
|000002d0| 72 6f 63 65 73 73 65 64 5c 22 2c 5c 22 64 65 64 |rocessed\",\"ded|
|000002e0| 75 70 5f 6b 65 79 5c 22 3a 5c 22 44 45 44 55 50 |up_key\":\"DEDUP|
|000002f0| 5f 4b 45 59 5c 22 7d 22 2c 0a 20 20 20 20 22 64 |_KEY\"}",.    "d|
|00000300| 65 6c 61 79 22 20 3a 20 7b 0a 20 20 20 20 20 20 |elay" : {.      |
|00000310| 22 74 69 6d 65 55 6e 69 74 22 20 3a 20 22 53 45 |"timeUnit" : "SE|
|00000320| 43 4f 4e 44 53 22 2c 0a 20 20 20 20 20 20 22 76 |CONDS",.      "v|
|00000330| 61 6c 75 65 22 20 3a 20 31 0a 20 20 20 20 7d 0a |alue" : 1.    }.|
|00000340| 20 20 7d 2c 0a 20 20 22 74 69 6d 65 73 22 20 3a |  },.  "times" :|
|00000350| 20 7b 0a 20 20 20 20 22 72 65 6d 61 69 6e 69 6e | {.    "remainin|
|00000360| 67 54 69 6d 65 73 22 20 3a 20 31 2c 0a 20 20 20 |gTimes" : 1,.   |
|00000370| 20 22 75 6e 6c 69 6d 69 74 65 64 22 20 3a 20 66 | "unlimited" : f|
|00000380| 61 6c 73 65 0a 20 20 7d 2c 0a 20 20 22 74 69 6d |alse.  },.  "tim|
|00000390| 65 54 6f 4c 69 76 65 22 20 3a 20 7b 0a 20 20 20 |eToLive" : {.   |
|000003a0| 20 22 75 6e 6c 69 6d 69 74 65 64 22 20 3a 20 74 | "unlimited" : t|
|000003b0| 72 75 65 0a 20 20 7d 0a 7d                      |rue.  }.}       |
+--------+-------------------------------------------------+----------------+
08:29:04.486 [nioEventLoopGroup-20-1] INFO  o.m.mockserver.MockServerHandler - creating expectation:

	{
	  "httpRequest" : {
	    "method" : "POST",
	    "path" : "/v2/enqueue",
	    "body" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  },
	  "times" : {
	    "remainingTimes" : 1,
	    "unlimited" : false
	  },
	  "timeToLive" : {
	    "unlimited" : true
	  },
	  "httpResponse" : {
	    "statusCode" : 202,
	    "headers" : [ {
	      "name" : "Server",
	      "values" : [ "MockServer" ]
	    }, {
	      "name" : "Date",
	      "values" : [ "Fri Jul 31 08:29:04 UTC 2020" ]
	    }, {
	      "name" : "Content-Type",
	      "values" : [ "application/json; charset=utf-8" ]
	    } ],
	    "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}",
	    "delay" : {
	      "timeUnit" : "SECONDS",
	      "value" : 1
	    }
	  }
	}


08:29:04.487 [nioEventLoopGroup-20-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xaaf28ea1, /127.0.0.1:59244 => /127.0.0.1:45713] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 201 Created
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:04.488 [nioEventLoopGroup-20-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xaaf28ea1, /127.0.0.1:59244 => /127.0.0.1:45713] FLUSH
08:29:04.490 [nioEventLoopGroup-20-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xaaf28ea1, /127.0.0.1:59244 => /127.0.0.1:45713] FLUSH
08:29:04.490 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 201,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:04.491 [nioEventLoopGroup-20-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xaaf28ea1, /127.0.0.1:59244 :> /127.0.0.1:45713] INACTIVE
08:29:04.491 [nioEventLoopGroup-20-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xaaf28ea1, /127.0.0.1:59244 :> /127.0.0.1:45713] UNREGISTERED
08:29:04.491 [nioEventLoopGroup-21-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-21-1
2020-07-31 08:29:04 DEBUG RequestAddCookies:122 - CookieSpec selected: default
2020-07-31 08:29:04 DEBUG RequestAuthCache:76 - Auth cache not set in the context
2020-07-31 08:29:04 DEBUG PoolingHttpClientConnectionManager:249 - Connection request: [route: {}->http://localhost:45713][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 200]
2020-07-31 08:29:04 DEBUG PoolingHttpClientConnectionManager:282 - Connection leased: [id: 4][route: {}->http://localhost:45713][total kept alive: 0; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:04 DEBUG MainClientExec:234 - Opening connection {}->http://localhost:45713
2020-07-31 08:29:04 DEBUG DefaultHttpClientConnectionOperator:138 - Connecting to localhost/127.0.0.1:45713
2020-07-31 08:29:04 DEBUG DefaultHttpClientConnectionOperator:145 - Connection established 127.0.0.1:59246<->127.0.0.1:45713
2020-07-31 08:29:04 DEBUG DefaultManagedHttpClientConnection:90 - http-outgoing-4: set socket timeout to 60000
2020-07-31 08:29:04 DEBUG MainClientExec:255 - Executing request POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:04 DEBUG MainClientExec:260 - Target auth state: UNCHALLENGED
2020-07-31 08:29:04 DEBUG MainClientExec:266 - Proxy auth state: UNCHALLENGED
2020-07-31 08:29:04 DEBUG headers:135 - http-outgoing-4 >> POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:04 DEBUG headers:138 - http-outgoing-4 >> Accept: application/json
2020-07-31 08:29:04 DEBUG headers:138 - http-outgoing-4 >> accept-encoding: gzip
2020-07-31 08:29:04 DEBUG headers:138 - http-outgoing-4 >> user-agent: unirest-java/1.3.11
2020-07-31 08:29:04 DEBUG headers:138 - http-outgoing-4 >> Content-Length: 223
2020-07-31 08:29:04 DEBUG headers:138 - http-outgoing-4 >> Content-Type: text/plain; charset=UTF-8
2020-07-31 08:29:04 DEBUG headers:138 - http-outgoing-4 >> Host: localhost:45713
2020-07-31 08:29:04 DEBUG headers:138 - http-outgoing-4 >> Connection: Keep-Alive
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-4 >> "POST /v2/enqueue HTTP/1.1[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-4 >> "Accept: application/json[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-4 >> "accept-encoding: gzip[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-4 >> "user-agent: unirest-java/1.3.11[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-4 >> "Content-Length: 223[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-4 >> "Content-Type: text/plain; charset=UTF-8[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-4 >> "Host: localhost:45713[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-4 >> "Connection: Keep-Alive[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:72 - http-outgoing-4 >> "[\r][\n]"
2020-07-31 08:29:04 DEBUG wire:86 - http-outgoing-4 >> "{"routing_key":"SERVICE_KEY","event_action":"trigger","payload":{"summary":"HealthCheck failed","source":"testing source","severity":"info","timestamp":null,"component":null,"group":null,"class":null,"custom_details":null}}"
08:29:04.502 [nioEventLoopGroup-20-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb254532a, /127.0.0.1:59246 => /127.0.0.1:45713] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 223, cap: 223, components=1))
POST /v2/enqueue HTTP/1.1
Accept: application/json
accept-encoding: gzip
user-agent: unirest-java/1.3.11
Content-Length: 223
Content-Type: text/plain; charset=UTF-8
Host: localhost:45713
Connection: Keep-Alive, 223B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 72 6f 75 74 69 6e 67 5f 6b 65 79 22 3a 22 |{"routing_key":"|
|00000010| 53 45 52 56 49 43 45 5f 4b 45 59 22 2c 22 65 76 |SERVICE_KEY","ev|
|00000020| 65 6e 74 5f 61 63 74 69 6f 6e 22 3a 22 74 72 69 |ent_action":"tri|
|00000030| 67 67 65 72 22 2c 22 70 61 79 6c 6f 61 64 22 3a |gger","payload":|
|00000040| 7b 22 73 75 6d 6d 61 72 79 22 3a 22 48 65 61 6c |{"summary":"Heal|
|00000050| 74 68 43 68 65 63 6b 20 66 61 69 6c 65 64 22 2c |thCheck failed",|
|00000060| 22 73 6f 75 72 63 65 22 3a 22 74 65 73 74 69 6e |"source":"testin|
|00000070| 67 20 73 6f 75 72 63 65 22 2c 22 73 65 76 65 72 |g source","sever|
|00000080| 69 74 79 22 3a 22 69 6e 66 6f 22 2c 22 74 69 6d |ity":"info","tim|
|00000090| 65 73 74 61 6d 70 22 3a 6e 75 6c 6c 2c 22 63 6f |estamp":null,"co|
|000000a0| 6d 70 6f 6e 65 6e 74 22 3a 6e 75 6c 6c 2c 22 67 |mponent":null,"g|
|000000b0| 72 6f 75 70 22 3a 6e 75 6c 6c 2c 22 63 6c 61 73 |roup":null,"clas|
|000000c0| 73 22 3a 6e 75 6c 6c 2c 22 63 75 73 74 6f 6d 5f |s":null,"custom_|
|000000d0| 64 65 74 61 69 6c 73 22 3a 6e 75 6c 6c 7d 7d    |details":null}} |
+--------+-------------------------------------------------+----------------+
08:29:04.505 [nioEventLoopGroup-20-2] INFO  o.m.matchers.HttpRequestMatcher - request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:45713" ]
	  }, {
	    "name" : "Connection",
	    "values" : [ "Keep-Alive" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}

 matched expectation:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "body" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	}


08:29:04.595 [nioEventLoopGroup-16-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xe4fe181b, /127.0.0.1:55596 :> /127.0.0.1:36185] FLUSH
08:29:04.595 [nioEventLoopGroup-16-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xe4fe181b, /127.0.0.1:55596 :> /127.0.0.1:36185] INACTIVE
08:29:04.595 [nioEventLoopGroup-16-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xe4fe181b, /127.0.0.1:55596 :> /127.0.0.1:36185] UNREGISTERED
08:29:04.596 [nioEventLoopGroup-16-3] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-16-3
2020-07-31 08:29:04 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:04 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
08:29:05.097 [nioEventLoopGroup-16-2] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-16-2
08:29:05.507 [nioEventLoopGroup-20-2] INFO  o.m.mockserver.MockServerHandler - returning response:

	{
	  "statusCode" : 202,
	  "headers" : [ {
	    "name" : "Server",
	    "values" : [ "MockServer" ]
	  }, {
	    "name" : "Date",
	    "values" : [ "Fri Jul 31 08:29:04 UTC 2020" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "application/json; charset=utf-8" ]
	  } ],
	  "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}"
	}

 for request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:45713" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}


08:29:05.508 [nioEventLoopGroup-20-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb254532a, /127.0.0.1:59246 => /127.0.0.1:45713] WRITE: DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: UnpooledHeapByteBuf(ridx: 0, widx: 72, cap: 72/72))
HTTP/1.1 202 Accepted
Server: MockServer
Date: Fri Jul 31 08:29:04 UTC 2020
Content-Type: application/json; charset=utf-8
Content-Length: 72
Connection: keep-alive, 72B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 73 74 61 74 75 73 22 3a 22 73 75 63 63 65 |{"status":"succe|
|00000010| 73 73 22 2c 22 6d 65 73 73 61 67 65 22 3a 22 45 |ss","message":"E|
|00000020| 76 65 6e 74 20 70 72 6f 63 65 73 73 65 64 22 2c |vent processed",|
|00000030| 22 64 65 64 75 70 5f 6b 65 79 22 3a 22 44 45 44 |"dedup_key":"DED|
|00000040| 55 50 5f 4b 45 59 22 7d                         |UP_KEY"}        |
+--------+-------------------------------------------------+----------------+
08:29:05.509 [nioEventLoopGroup-20-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb254532a, /127.0.0.1:59246 => /127.0.0.1:45713] FLUSH
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-4 << "HTTP/1.1 202 Accepted[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-4 << "Server: MockServer[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-4 << "Date: Fri Jul 31 08:29:04 UTC 2020[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-4 << "Content-Type: application/json; charset=utf-8[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-4 << "Content-Length: 72[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-4 << "Connection: keep-alive[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-4 << "[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:86 - http-outgoing-4 << "{"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}"
2020-07-31 08:29:05 DEBUG headers:124 - http-outgoing-4 << HTTP/1.1 202 Accepted
2020-07-31 08:29:05 DEBUG headers:127 - http-outgoing-4 << Server: MockServer
2020-07-31 08:29:05 DEBUG headers:127 - http-outgoing-4 << Date: Fri Jul 31 08:29:04 UTC 2020
2020-07-31 08:29:05 DEBUG headers:127 - http-outgoing-4 << Content-Type: application/json; charset=utf-8
2020-07-31 08:29:05 DEBUG headers:127 - http-outgoing-4 << Content-Length: 72
2020-07-31 08:29:05 DEBUG headers:127 - http-outgoing-4 << Connection: keep-alive
2020-07-31 08:29:05 DEBUG MainClientExec:284 - Connection can be kept alive indefinitely
2020-07-31 08:29:05 DEBUG PoolingHttpClientConnectionManager:314 - Connection [id: 4][route: {}->http://localhost:45713] can be kept alive indefinitely
2020-07-31 08:29:05 DEBUG PoolingHttpClientConnectionManager:320 - Connection released: [id: 4][route: {}->http://localhost:45713][total kept alive: 1; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:05 DEBUG MainClientExec:144 - Cancelling request execution
08:29:05.514 [main] DEBUG c.g.d.p.c.events.HttpApiServiceImpl - {"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}
08:29:05.514 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/stop"
}
08:29:05.522 [nioEventLoopGroup-20-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0f1a906f, /127.0.0.1:59272 => /127.0.0.1:45713] RECEIVED, HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
PUT /stop HTTP/1.1
Host: localhost:45713
Accept-Encoding: gzip,deflate
Content-Length: 0
Connection: keep-alive, 0B
08:29:05.523 [nioEventLoopGroup-20-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0f1a906f, /127.0.0.1:59272 => /127.0.0.1:45713] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 202 Accepted
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:05.523 [nioEventLoopGroup-20-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0f1a906f, /127.0.0.1:59272 => /127.0.0.1:45713] FLUSH
08:29:05.524 [nioEventLoopGroup-20-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0f1a906f, /127.0.0.1:59272 => /127.0.0.1:45713] CLOSE()
08:29:05.525 [nioEventLoopGroup-20-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 5 thread-local buffer(s) from thread: nioEventLoopGroup-20-1
08:29:05.525 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 202,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:05.525 [nioEventLoopGroup-20-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb254532a, /127.0.0.1:59246 :> /127.0.0.1:45713] INACTIVE
08:29:05.526 [nioEventLoopGroup-20-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xb254532a, /127.0.0.1:59246 :> /127.0.0.1:45713] UNREGISTERED
08:29:05.526 [nioEventLoopGroup-22-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-22-1
08:29:05.881 [MockServer thread for port: 40737] INFO  org.mockserver.mockserver.MockServer - MockServer started on port: 40737
08:29:05.897 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/expectation",
  "body" : {
    "charset" : "UTF-8",
    "type" : "STRING",
    "string" : "{\n  \"httpRequest\" : {\n    \"method\" : \"POST\",\n    \"path\" : \"/v2/enqueue\",\n    \"body\" : \"{\\\"routing_key\\\":\\\"SERVICE_KEY\\\",\\\"event_action\\\":\\\"trigger\\\",\\\"payload\\\":{\\\"summary\\\":\\\"HealthCheck failed\\\",\\\"source\\\":\\\"testing source\\\",\\\"severity\\\":\\\"info\\\",\\\"timestamp\\\":null,\\\"component\\\":null,\\\"group\\\":null,\\\"class\\\":null,\\\"custom_details\\\":null}}\"\n  },\n  \"httpResponse\" : {\n    \"statusCode\" : 400,\n    \"headers\" : [ {\n      \"name\" : \"Server\",\n      \"values\" : [ \"MockServer\" ]\n    }, {\n      \"name\" : \"Date\",\n      \"values\" : [ \"Fri Jul 31 08:29:05 UTC 2020\" ]\n    }, {\n      \"name\" : \"Content-Type\",\n      \"values\" : [ \"application/json; charset=utf-8\" ]\n    } ],\n    \"body\" : \"{\\\"status\\\":\\\"invalid event\\\",\\\"message\\\":\\\"Event object is invalid\\\",\\\"errors\\\":[\\\"some error from upstream server...\\\"]}\",\n    \"delay\" : {\n      \"timeUnit\" : \"SECONDS\",\n      \"value\" : 1\n    }\n  },\n  \"times\" : {\n    \"remainingTimes\" : 1,\n    \"unlimited\" : false\n  },\n  \"timeToLive\" : {\n    \"unlimited\" : true\n  }\n}"
  }
}
08:29:05.907 [nioEventLoopGroup-24-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0436fd5c, /127.0.0.1:37432 => /127.0.0.1:40737] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 991, cap: 991, components=2))
PUT /expectation HTTP/1.1
Host: localhost:40737
Accept-Encoding: gzip,deflate
Content-Length: 991
Connection: keep-alive
Content-Type: text/plain; charset=utf-8, 991B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 0a 20 20 22 68 74 74 70 52 65 71 75 65 73 74 |{.  "httpRequest|
|00000010| 22 20 3a 20 7b 0a 20 20 20 20 22 6d 65 74 68 6f |" : {.    "metho|
|00000020| 64 22 20 3a 20 22 50 4f 53 54 22 2c 0a 20 20 20 |d" : "POST",.   |
|00000030| 20 22 70 61 74 68 22 20 3a 20 22 2f 76 32 2f 65 | "path" : "/v2/e|
|00000040| 6e 71 75 65 75 65 22 2c 0a 20 20 20 20 22 62 6f |nqueue",.    "bo|
|00000050| 64 79 22 20 3a 20 22 7b 5c 22 72 6f 75 74 69 6e |dy" : "{\"routin|
|00000060| 67 5f 6b 65 79 5c 22 3a 5c 22 53 45 52 56 49 43 |g_key\":\"SERVIC|
|00000070| 45 5f 4b 45 59 5c 22 2c 5c 22 65 76 65 6e 74 5f |E_KEY\",\"event_|
|00000080| 61 63 74 69 6f 6e 5c 22 3a 5c 22 74 72 69 67 67 |action\":\"trigg|
|00000090| 65 72 5c 22 2c 5c 22 70 61 79 6c 6f 61 64 5c 22 |er\",\"payload\"|
|000000a0| 3a 7b 5c 22 73 75 6d 6d 61 72 79 5c 22 3a 5c 22 |:{\"summary\":\"|
|000000b0| 48 65 61 6c 74 68 43 68 65 63 6b 20 66 61 69 6c |HealthCheck fail|
|000000c0| 65 64 5c 22 2c 5c 22 73 6f 75 72 63 65 5c 22 3a |ed\",\"source\":|
|000000d0| 5c 22 74 65 73 74 69 6e 67 20 73 6f 75 72 63 65 |\"testing source|
|000000e0| 5c 22 2c 5c 22 73 65 76 65 72 69 74 79 5c 22 3a |\",\"severity\":|
|000000f0| 5c 22 69 6e 66 6f 5c 22 2c 5c 22 74 69 6d 65 73 |\"info\",\"times|
|00000100| 74 61 6d 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 6f |tamp\":null,\"co|
|00000110| 6d 70 6f 6e 65 6e 74 5c 22 3a 6e 75 6c 6c 2c 5c |mponent\":null,\|
|00000120| 22 67 72 6f 75 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 |"group\":null,\"|
|00000130| 63 6c 61 73 73 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 |class\":null,\"c|
|00000140| 75 73 74 6f 6d 5f 64 65 74 61 69 6c 73 5c 22 3a |ustom_details\":|
|00000150| 6e 75 6c 6c 7d 7d 22 0a 20 20 7d 2c 0a 20 20 22 |null}}".  },.  "|
|00000160| 68 74 74 70 52 65 73 70 6f 6e 73 65 22 20 3a 20 |httpResponse" : |
|00000170| 7b 0a 20 20 20 20 22 73 74 61 74 75 73 43 6f 64 |{.    "statusCod|
|00000180| 65 22 20 3a 20 34 30 30 2c 0a 20 20 20 20 22 68 |e" : 400,.    "h|
|00000190| 65 61 64 65 72 73 22 20 3a 20 5b 20 7b 0a 20 20 |eaders" : [ {.  |
|000001a0| 20 20 20 20 22 6e 61 6d 65 22 20 3a 20 22 53 65 |    "name" : "Se|
|000001b0| 72 76 65 72 22 2c 0a 20 20 20 20 20 20 22 76 61 |rver",.      "va|
|000001c0| 6c 75 65 73 22 20 3a 20 5b 20 22 4d 6f 63 6b 53 |lues" : [ "MockS|
|000001d0| 65 72 76 65 72 22 20 5d 0a 20 20 20 20 7d 2c 20 |erver" ].    }, |
|000001e0| 7b 0a 20 20 20 20 20 20 22 6e 61 6d 65 22 20 3a |{.      "name" :|
|000001f0| 20 22 44 61 74 65 22 2c 0a 20 20 20 20 20 20 22 | "Date",.      "|
|00000200| 76 61 6c 75 65 73 22 20 3a 20 5b 20 22 46 72 69 |values" : [ "Fri|
|00000210| 20 4a 75 6c 20 33 31 20 30 38 3a 32 39 3a 30 35 | Jul 31 08:29:05|
|00000220| 20 55 54 43 20 32 30 32 30 22 20 5d 0a 20 20 20 | UTC 2020" ].   |
|00000230| 20 7d 2c 20 7b 0a 20 20 20 20 20 20 22 6e 61 6d | }, {.      "nam|
|00000240| 65 22 20 3a 20 22 43 6f 6e 74 65 6e 74 2d 54 79 |e" : "Content-Ty|
|00000250| 70 65 22 2c 0a 20 20 20 20 20 20 22 76 61 6c 75 |pe",.      "valu|
|00000260| 65 73 22 20 3a 20 5b 20 22 61 70 70 6c 69 63 61 |es" : [ "applica|
|00000270| 74 69 6f 6e 2f 6a 73 6f 6e 3b 20 63 68 61 72 73 |tion/json; chars|
|00000280| 65 74 3d 75 74 66 2d 38 22 20 5d 0a 20 20 20 20 |et=utf-8" ].    |
|00000290| 7d 20 5d 2c 0a 20 20 20 20 22 62 6f 64 79 22 20 |} ],.    "body" |
|000002a0| 3a 20 22 7b 5c 22 73 74 61 74 75 73 5c 22 3a 5c |: "{\"status\":\|
|000002b0| 22 69 6e 76 61 6c 69 64 20 65 76 65 6e 74 5c 22 |"invalid event\"|
|000002c0| 2c 5c 22 6d 65 73 73 61 67 65 5c 22 3a 5c 22 45 |,\"message\":\"E|
|000002d0| 76 65 6e 74 20 6f 62 6a 65 63 74 20 69 73 20 69 |vent object is i|
|000002e0| 6e 76 61 6c 69 64 5c 22 2c 5c 22 65 72 72 6f 72 |nvalid\",\"error|
|000002f0| 73 5c 22 3a 5b 5c 22 73 6f 6d 65 20 65 72 72 6f |s\":[\"some erro|
|00000300| 72 20 66 72 6f 6d 20 75 70 73 74 72 65 61 6d 20 |r from upstream |
|00000310| 73 65 72 76 65 72 2e 2e 2e 5c 22 5d 7d 22 2c 0a |server...\"]}",.|
|00000320| 20 20 20 20 22 64 65 6c 61 79 22 20 3a 20 7b 0a |    "delay" : {.|
|00000330| 20 20 20 20 20 20 22 74 69 6d 65 55 6e 69 74 22 |      "timeUnit"|
|00000340| 20 3a 20 22 53 45 43 4f 4e 44 53 22 2c 0a 20 20 | : "SECONDS",.  |
|00000350| 20 20 20 20 22 76 61 6c 75 65 22 20 3a 20 31 0a |    "value" : 1.|
|00000360| 20 20 20 20 7d 0a 20 20 7d 2c 0a 20 20 22 74 69 |    }.  },.  "ti|
|00000370| 6d 65 73 22 20 3a 20 7b 0a 20 20 20 20 22 72 65 |mes" : {.    "re|
|00000380| 6d 61 69 6e 69 6e 67 54 69 6d 65 73 22 20 3a 20 |mainingTimes" : |
|00000390| 31 2c 0a 20 20 20 20 22 75 6e 6c 69 6d 69 74 65 |1,.    "unlimite|
|000003a0| 64 22 20 3a 20 66 61 6c 73 65 0a 20 20 7d 2c 0a |d" : false.  },.|
|000003b0| 20 20 22 74 69 6d 65 54 6f 4c 69 76 65 22 20 3a |  "timeToLive" :|
|000003c0| 20 7b 0a 20 20 20 20 22 75 6e 6c 69 6d 69 74 65 | {.    "unlimite|
|000003d0| 64 22 20 3a 20 74 72 75 65 0a 20 20 7d 0a 7d    |d" : true.  }.} |
+--------+-------------------------------------------------+----------------+
08:29:05.923 [nioEventLoopGroup-24-1] INFO  o.m.mockserver.MockServerHandler - creating expectation:

	{
	  "httpRequest" : {
	    "method" : "POST",
	    "path" : "/v2/enqueue",
	    "body" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  },
	  "times" : {
	    "remainingTimes" : 1,
	    "unlimited" : false
	  },
	  "timeToLive" : {
	    "unlimited" : true
	  },
	  "httpResponse" : {
	    "statusCode" : 400,
	    "headers" : [ {
	      "name" : "Server",
	      "values" : [ "MockServer" ]
	    }, {
	      "name" : "Date",
	      "values" : [ "Fri Jul 31 08:29:05 UTC 2020" ]
	    }, {
	      "name" : "Content-Type",
	      "values" : [ "application/json; charset=utf-8" ]
	    } ],
	    "body" : "{\"status\":\"invalid event\",\"message\":\"Event object is invalid\",\"errors\":[\"some error from upstream server...\"]}",
	    "delay" : {
	      "timeUnit" : "SECONDS",
	      "value" : 1
	    }
	  }
	}


08:29:05.924 [nioEventLoopGroup-24-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0436fd5c, /127.0.0.1:37432 => /127.0.0.1:40737] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 201 Created
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:05.924 [nioEventLoopGroup-24-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0436fd5c, /127.0.0.1:37432 => /127.0.0.1:40737] FLUSH
08:29:05.926 [nioEventLoopGroup-24-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0436fd5c, /127.0.0.1:37432 => /127.0.0.1:40737] FLUSH
08:29:05.925 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 201,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:05.926 [nioEventLoopGroup-24-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0436fd5c, /127.0.0.1:37432 :> /127.0.0.1:40737] INACTIVE
08:29:05.926 [nioEventLoopGroup-24-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0436fd5c, /127.0.0.1:37432 :> /127.0.0.1:40737] UNREGISTERED
08:29:05.927 [nioEventLoopGroup-25-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-25-1
2020-07-31 08:29:05 DEBUG RequestAddCookies:122 - CookieSpec selected: default
2020-07-31 08:29:05 DEBUG RequestAuthCache:76 - Auth cache not set in the context
2020-07-31 08:29:05 DEBUG PoolingHttpClientConnectionManager:249 - Connection request: [route: {}->http://localhost:40737][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 200]
2020-07-31 08:29:05 DEBUG PoolingHttpClientConnectionManager:282 - Connection leased: [id: 5][route: {}->http://localhost:40737][total kept alive: 0; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:05 DEBUG MainClientExec:234 - Opening connection {}->http://localhost:40737
2020-07-31 08:29:05 DEBUG DefaultHttpClientConnectionOperator:138 - Connecting to localhost/127.0.0.1:40737
2020-07-31 08:29:05 DEBUG DefaultHttpClientConnectionOperator:145 - Connection established 127.0.0.1:37438<->127.0.0.1:40737
2020-07-31 08:29:05 DEBUG DefaultManagedHttpClientConnection:90 - http-outgoing-5: set socket timeout to 60000
2020-07-31 08:29:05 DEBUG MainClientExec:255 - Executing request POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:05 DEBUG MainClientExec:260 - Target auth state: UNCHALLENGED
2020-07-31 08:29:05 DEBUG MainClientExec:266 - Proxy auth state: UNCHALLENGED
2020-07-31 08:29:05 DEBUG headers:135 - http-outgoing-5 >> POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:05 DEBUG headers:138 - http-outgoing-5 >> Accept: application/json
2020-07-31 08:29:05 DEBUG headers:138 - http-outgoing-5 >> accept-encoding: gzip
2020-07-31 08:29:05 DEBUG headers:138 - http-outgoing-5 >> user-agent: unirest-java/1.3.11
2020-07-31 08:29:05 DEBUG headers:138 - http-outgoing-5 >> Content-Length: 223
2020-07-31 08:29:05 DEBUG headers:138 - http-outgoing-5 >> Content-Type: text/plain; charset=UTF-8
2020-07-31 08:29:05 DEBUG headers:138 - http-outgoing-5 >> Host: localhost:40737
2020-07-31 08:29:05 DEBUG headers:138 - http-outgoing-5 >> Connection: Keep-Alive
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-5 >> "POST /v2/enqueue HTTP/1.1[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-5 >> "Accept: application/json[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-5 >> "accept-encoding: gzip[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-5 >> "user-agent: unirest-java/1.3.11[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-5 >> "Content-Length: 223[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-5 >> "Content-Type: text/plain; charset=UTF-8[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-5 >> "Host: localhost:40737[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-5 >> "Connection: Keep-Alive[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:72 - http-outgoing-5 >> "[\r][\n]"
2020-07-31 08:29:05 DEBUG wire:86 - http-outgoing-5 >> "{"routing_key":"SERVICE_KEY","event_action":"trigger","payload":{"summary":"HealthCheck failed","source":"testing source","severity":"info","timestamp":null,"component":null,"group":null,"class":null,"custom_details":null}}"
08:29:05.940 [nioEventLoopGroup-24-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x7af8bca9, /127.0.0.1:37438 => /127.0.0.1:40737] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 223, cap: 223, components=1))
POST /v2/enqueue HTTP/1.1
Accept: application/json
accept-encoding: gzip
user-agent: unirest-java/1.3.11
Content-Length: 223
Content-Type: text/plain; charset=UTF-8
Host: localhost:40737
Connection: Keep-Alive, 223B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 72 6f 75 74 69 6e 67 5f 6b 65 79 22 3a 22 |{"routing_key":"|
|00000010| 53 45 52 56 49 43 45 5f 4b 45 59 22 2c 22 65 76 |SERVICE_KEY","ev|
|00000020| 65 6e 74 5f 61 63 74 69 6f 6e 22 3a 22 74 72 69 |ent_action":"tri|
|00000030| 67 67 65 72 22 2c 22 70 61 79 6c 6f 61 64 22 3a |gger","payload":|
|00000040| 7b 22 73 75 6d 6d 61 72 79 22 3a 22 48 65 61 6c |{"summary":"Heal|
|00000050| 74 68 43 68 65 63 6b 20 66 61 69 6c 65 64 22 2c |thCheck failed",|
|00000060| 22 73 6f 75 72 63 65 22 3a 22 74 65 73 74 69 6e |"source":"testin|
|00000070| 67 20 73 6f 75 72 63 65 22 2c 22 73 65 76 65 72 |g source","sever|
|00000080| 69 74 79 22 3a 22 69 6e 66 6f 22 2c 22 74 69 6d |ity":"info","tim|
|00000090| 65 73 74 61 6d 70 22 3a 6e 75 6c 6c 2c 22 63 6f |estamp":null,"co|
|000000a0| 6d 70 6f 6e 65 6e 74 22 3a 6e 75 6c 6c 2c 22 67 |mponent":null,"g|
|000000b0| 72 6f 75 70 22 3a 6e 75 6c 6c 2c 22 63 6c 61 73 |roup":null,"clas|
|000000c0| 73 22 3a 6e 75 6c 6c 2c 22 63 75 73 74 6f 6d 5f |s":null,"custom_|
|000000d0| 64 65 74 61 69 6c 73 22 3a 6e 75 6c 6c 7d 7d    |details":null}} |
+--------+-------------------------------------------------+----------------+
08:29:05.944 [nioEventLoopGroup-24-2] INFO  o.m.matchers.HttpRequestMatcher - request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:40737" ]
	  }, {
	    "name" : "Connection",
	    "values" : [ "Keep-Alive" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}

 matched expectation:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "body" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	}


08:29:06.026 [nioEventLoopGroup-20-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0f1a906f, /127.0.0.1:59272 :> /127.0.0.1:45713] FLUSH
08:29:06.026 [nioEventLoopGroup-20-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0f1a906f, /127.0.0.1:59272 :> /127.0.0.1:45713] INACTIVE
08:29:06.026 [nioEventLoopGroup-20-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x0f1a906f, /127.0.0.1:59272 :> /127.0.0.1:45713] UNREGISTERED
08:29:06.027 [nioEventLoopGroup-20-3] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-20-3
2020-07-31 08:29:06 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:06 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
08:29:06.526 [nioEventLoopGroup-20-2] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-20-2
2020-07-31 08:29:06 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:06 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
2020-07-31 08:29:06 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:06 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
08:29:06.947 [nioEventLoopGroup-24-2] INFO  o.m.mockserver.MockServerHandler - returning response:

	{
	  "statusCode" : 400,
	  "headers" : [ {
	    "name" : "Server",
	    "values" : [ "MockServer" ]
	  }, {
	    "name" : "Date",
	    "values" : [ "Fri Jul 31 08:29:05 UTC 2020" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "application/json; charset=utf-8" ]
	  } ],
	  "body" : "{\"status\":\"invalid event\",\"message\":\"Event object is invalid\",\"errors\":[\"some error from upstream server...\"]}"
	}

 for request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:40737" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}


08:29:06.948 [nioEventLoopGroup-24-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x7af8bca9, /127.0.0.1:37438 => /127.0.0.1:40737] WRITE: DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: UnpooledHeapByteBuf(ridx: 0, widx: 110, cap: 110/110))
HTTP/1.1 400 Bad Request
Server: MockServer
Date: Fri Jul 31 08:29:05 UTC 2020
Content-Type: application/json; charset=utf-8
Content-Length: 110
Connection: keep-alive, 110B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 73 74 61 74 75 73 22 3a 22 69 6e 76 61 6c |{"status":"inval|
|00000010| 69 64 20 65 76 65 6e 74 22 2c 22 6d 65 73 73 61 |id event","messa|
|00000020| 67 65 22 3a 22 45 76 65 6e 74 20 6f 62 6a 65 63 |ge":"Event objec|
|00000030| 74 20 69 73 20 69 6e 76 61 6c 69 64 22 2c 22 65 |t is invalid","e|
|00000040| 72 72 6f 72 73 22 3a 5b 22 73 6f 6d 65 20 65 72 |rrors":["some er|
|00000050| 72 6f 72 20 66 72 6f 6d 20 75 70 73 74 72 65 61 |ror from upstrea|
|00000060| 6d 20 73 65 72 76 65 72 2e 2e 2e 22 5d 7d       |m server..."]}  |
+--------+-------------------------------------------------+----------------+
08:29:06.948 [nioEventLoopGroup-24-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x7af8bca9, /127.0.0.1:37438 => /127.0.0.1:40737] FLUSH
2020-07-31 08:29:06 DEBUG wire:72 - http-outgoing-5 << "HTTP/1.1 400 Bad Request[\r][\n]"
2020-07-31 08:29:06 DEBUG wire:72 - http-outgoing-5 << "Server: MockServer[\r][\n]"
2020-07-31 08:29:06 DEBUG wire:72 - http-outgoing-5 << "Date: Fri Jul 31 08:29:05 UTC 2020[\r][\n]"
2020-07-31 08:29:06 DEBUG wire:72 - http-outgoing-5 << "Content-Type: application/json; charset=utf-8[\r][\n]"
2020-07-31 08:29:06 DEBUG wire:72 - http-outgoing-5 << "Content-Length: 110[\r][\n]"
2020-07-31 08:29:06 DEBUG wire:72 - http-outgoing-5 << "Connection: keep-alive[\r][\n]"
2020-07-31 08:29:06 DEBUG wire:72 - http-outgoing-5 << "[\r][\n]"
2020-07-31 08:29:06 DEBUG wire:86 - http-outgoing-5 << "{"status":"invalid event","message":"Event object is invalid","errors":["some error from upstream server..."]}"
2020-07-31 08:29:06 DEBUG headers:124 - http-outgoing-5 << HTTP/1.1 400 Bad Request
2020-07-31 08:29:06 DEBUG headers:127 - http-outgoing-5 << Server: MockServer
2020-07-31 08:29:06 DEBUG headers:127 - http-outgoing-5 << Date: Fri Jul 31 08:29:05 UTC 2020
2020-07-31 08:29:06 DEBUG headers:127 - http-outgoing-5 << Content-Type: application/json; charset=utf-8
2020-07-31 08:29:06 DEBUG headers:127 - http-outgoing-5 << Content-Length: 110
2020-07-31 08:29:06 DEBUG headers:127 - http-outgoing-5 << Connection: keep-alive
2020-07-31 08:29:06 DEBUG MainClientExec:284 - Connection can be kept alive indefinitely
2020-07-31 08:29:06 DEBUG PoolingHttpClientConnectionManager:314 - Connection [id: 5][route: {}->http://localhost:40737] can be kept alive indefinitely
2020-07-31 08:29:06 DEBUG PoolingHttpClientConnectionManager:320 - Connection released: [id: 5][route: {}->http://localhost:40737][total kept alive: 1; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:06 DEBUG MainClientExec:144 - Cancelling request execution
08:29:06.961 [main] DEBUG c.g.d.p.c.events.HttpApiServiceImpl - {"status":"invalid event","message":"Event object is invalid","errors":["some error from upstream server..."]}
08:29:06.961 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/stop"
}
08:29:06.968 [nioEventLoopGroup-24-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x98d58658, /127.0.0.1:37476 => /127.0.0.1:40737] RECEIVED, HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
PUT /stop HTTP/1.1
Host: localhost:40737
Accept-Encoding: gzip,deflate
Content-Length: 0
Connection: keep-alive, 0B
08:29:06.969 [nioEventLoopGroup-24-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x98d58658, /127.0.0.1:37476 => /127.0.0.1:40737] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 202 Accepted
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:06.970 [nioEventLoopGroup-24-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x98d58658, /127.0.0.1:37476 => /127.0.0.1:40737] FLUSH
08:29:06.970 [nioEventLoopGroup-24-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x98d58658, /127.0.0.1:37476 => /127.0.0.1:40737] CLOSE()
08:29:06.971 [nioEventLoopGroup-24-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x7af8bca9, /127.0.0.1:37438 :> /127.0.0.1:40737] INACTIVE
08:29:06.971 [nioEventLoopGroup-24-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 5 thread-local buffer(s) from thread: nioEventLoopGroup-24-1
08:29:06.971 [nioEventLoopGroup-24-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x7af8bca9, /127.0.0.1:37438 :> /127.0.0.1:40737] UNREGISTERED
08:29:06.971 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 202,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:06.972 [nioEventLoopGroup-26-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-26-1
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
08:29:07.326 [MockServer thread for port: 39789] INFO  org.mockserver.mockserver.MockServer - MockServer started on port: 39789
08:29:07.334 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/expectation",
  "body" : {
    "charset" : "UTF-8",
    "type" : "STRING",
    "string" : "{\n  \"httpRequest\" : {\n    \"method\" : \"POST\",\n    \"path\" : \"/v2/enqueue\",\n    \"body\" : \"{\\\"routing_key\\\":\\\"SERVICE_KEY\\\",\\\"event_action\\\":\\\"trigger\\\",\\\"payload\\\":{\\\"summary\\\":\\\"HealthCheck failed\\\",\\\"source\\\":\\\"testing source\\\",\\\"severity\\\":\\\"info\\\",\\\"timestamp\\\":null,\\\"component\\\":null,\\\"group\\\":null,\\\"class\\\":null,\\\"custom_details\\\":null}}\"\n  },\n  \"httpResponse\" : {\n    \"statusCode\" : 200,\n    \"headers\" : [ {\n      \"name\" : \"Server\",\n      \"values\" : [ \"MockServer\" ]\n    }, {\n      \"name\" : \"Date\",\n      \"values\" : [ \"Fri Jul 31 08:29:07 UTC 2020\" ]\n    }, {\n      \"name\" : \"Content-Type\",\n      \"values\" : [ \"application/json; charset=utf-8\" ]\n    } ],\n    \"body\" : \"{\\\"status\\\":\\\"success\\\",\\\"message\\\":\\\"Event processed\\\",\\\"dedup_key\\\":\\\"DEDUP_KEY\\\"}\",\n    \"delay\" : {\n      \"timeUnit\" : \"SECONDS\",\n      \"value\" : 1\n    }\n  },\n  \"times\" : {\n    \"remainingTimes\" : 1,\n    \"unlimited\" : false\n  },\n  \"timeToLive\" : {\n    \"unlimited\" : true\n  }\n}"
  }
}
08:29:07.343 [nioEventLoopGroup-28-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x73a41d52, /127.0.0.1:55612 => /127.0.0.1:39789] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 953, cap: 953, components=2))
PUT /expectation HTTP/1.1
Host: localhost:39789
Accept-Encoding: gzip,deflate
Content-Length: 953
Connection: keep-alive
Content-Type: text/plain; charset=utf-8, 953B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 0a 20 20 22 68 74 74 70 52 65 71 75 65 73 74 |{.  "httpRequest|
|00000010| 22 20 3a 20 7b 0a 20 20 20 20 22 6d 65 74 68 6f |" : {.    "metho|
|00000020| 64 22 20 3a 20 22 50 4f 53 54 22 2c 0a 20 20 20 |d" : "POST",.   |
|00000030| 20 22 70 61 74 68 22 20 3a 20 22 2f 76 32 2f 65 | "path" : "/v2/e|
|00000040| 6e 71 75 65 75 65 22 2c 0a 20 20 20 20 22 62 6f |nqueue",.    "bo|
|00000050| 64 79 22 20 3a 20 22 7b 5c 22 72 6f 75 74 69 6e |dy" : "{\"routin|
|00000060| 67 5f 6b 65 79 5c 22 3a 5c 22 53 45 52 56 49 43 |g_key\":\"SERVIC|
|00000070| 45 5f 4b 45 59 5c 22 2c 5c 22 65 76 65 6e 74 5f |E_KEY\",\"event_|
|00000080| 61 63 74 69 6f 6e 5c 22 3a 5c 22 74 72 69 67 67 |action\":\"trigg|
|00000090| 65 72 5c 22 2c 5c 22 70 61 79 6c 6f 61 64 5c 22 |er\",\"payload\"|
|000000a0| 3a 7b 5c 22 73 75 6d 6d 61 72 79 5c 22 3a 5c 22 |:{\"summary\":\"|
|000000b0| 48 65 61 6c 74 68 43 68 65 63 6b 20 66 61 69 6c |HealthCheck fail|
|000000c0| 65 64 5c 22 2c 5c 22 73 6f 75 72 63 65 5c 22 3a |ed\",\"source\":|
|000000d0| 5c 22 74 65 73 74 69 6e 67 20 73 6f 75 72 63 65 |\"testing source|
|000000e0| 5c 22 2c 5c 22 73 65 76 65 72 69 74 79 5c 22 3a |\",\"severity\":|
|000000f0| 5c 22 69 6e 66 6f 5c 22 2c 5c 22 74 69 6d 65 73 |\"info\",\"times|
|00000100| 74 61 6d 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 6f |tamp\":null,\"co|
|00000110| 6d 70 6f 6e 65 6e 74 5c 22 3a 6e 75 6c 6c 2c 5c |mponent\":null,\|
|00000120| 22 67 72 6f 75 70 5c 22 3a 6e 75 6c 6c 2c 5c 22 |"group\":null,\"|
|00000130| 63 6c 61 73 73 5c 22 3a 6e 75 6c 6c 2c 5c 22 63 |class\":null,\"c|
|00000140| 75 73 74 6f 6d 5f 64 65 74 61 69 6c 73 5c 22 3a |ustom_details\":|
|00000150| 6e 75 6c 6c 7d 7d 22 0a 20 20 7d 2c 0a 20 20 22 |null}}".  },.  "|
|00000160| 68 74 74 70 52 65 73 70 6f 6e 73 65 22 20 3a 20 |httpResponse" : |
|00000170| 7b 0a 20 20 20 20 22 73 74 61 74 75 73 43 6f 64 |{.    "statusCod|
|00000180| 65 22 20 3a 20 32 30 30 2c 0a 20 20 20 20 22 68 |e" : 200,.    "h|
|00000190| 65 61 64 65 72 73 22 20 3a 20 5b 20 7b 0a 20 20 |eaders" : [ {.  |
|000001a0| 20 20 20 20 22 6e 61 6d 65 22 20 3a 20 22 53 65 |    "name" : "Se|
|000001b0| 72 76 65 72 22 2c 0a 20 20 20 20 20 20 22 76 61 |rver",.      "va|
|000001c0| 6c 75 65 73 22 20 3a 20 5b 20 22 4d 6f 63 6b 53 |lues" : [ "MockS|
|000001d0| 65 72 76 65 72 22 20 5d 0a 20 20 20 20 7d 2c 20 |erver" ].    }, |
|000001e0| 7b 0a 20 20 20 20 20 20 22 6e 61 6d 65 22 20 3a |{.      "name" :|
|000001f0| 20 22 44 61 74 65 22 2c 0a 20 20 20 20 20 20 22 | "Date",.      "|
|00000200| 76 61 6c 75 65 73 22 20 3a 20 5b 20 22 46 72 69 |values" : [ "Fri|
|00000210| 20 4a 75 6c 20 33 31 20 30 38 3a 32 39 3a 30 37 | Jul 31 08:29:07|
|00000220| 20 55 54 43 20 32 30 32 30 22 20 5d 0a 20 20 20 | UTC 2020" ].   |
|00000230| 20 7d 2c 20 7b 0a 20 20 20 20 20 20 22 6e 61 6d | }, {.      "nam|
|00000240| 65 22 20 3a 20 22 43 6f 6e 74 65 6e 74 2d 54 79 |e" : "Content-Ty|
|00000250| 70 65 22 2c 0a 20 20 20 20 20 20 22 76 61 6c 75 |pe",.      "valu|
|00000260| 65 73 22 20 3a 20 5b 20 22 61 70 70 6c 69 63 61 |es" : [ "applica|
|00000270| 74 69 6f 6e 2f 6a 73 6f 6e 3b 20 63 68 61 72 73 |tion/json; chars|
|00000280| 65 74 3d 75 74 66 2d 38 22 20 5d 0a 20 20 20 20 |et=utf-8" ].    |
|00000290| 7d 20 5d 2c 0a 20 20 20 20 22 62 6f 64 79 22 20 |} ],.    "body" |
|000002a0| 3a 20 22 7b 5c 22 73 74 61 74 75 73 5c 22 3a 5c |: "{\"status\":\|
|000002b0| 22 73 75 63 63 65 73 73 5c 22 2c 5c 22 6d 65 73 |"success\",\"mes|
|000002c0| 73 61 67 65 5c 22 3a 5c 22 45 76 65 6e 74 20 70 |sage\":\"Event p|
|000002d0| 72 6f 63 65 73 73 65 64 5c 22 2c 5c 22 64 65 64 |rocessed\",\"ded|
|000002e0| 75 70 5f 6b 65 79 5c 22 3a 5c 22 44 45 44 55 50 |up_key\":\"DEDUP|
|000002f0| 5f 4b 45 59 5c 22 7d 22 2c 0a 20 20 20 20 22 64 |_KEY\"}",.    "d|
|00000300| 65 6c 61 79 22 20 3a 20 7b 0a 20 20 20 20 20 20 |elay" : {.      |
|00000310| 22 74 69 6d 65 55 6e 69 74 22 20 3a 20 22 53 45 |"timeUnit" : "SE|
|00000320| 43 4f 4e 44 53 22 2c 0a 20 20 20 20 20 20 22 76 |CONDS",.      "v|
|00000330| 61 6c 75 65 22 20 3a 20 31 0a 20 20 20 20 7d 0a |alue" : 1.    }.|
|00000340| 20 20 7d 2c 0a 20 20 22 74 69 6d 65 73 22 20 3a |  },.  "times" :|
|00000350| 20 7b 0a 20 20 20 20 22 72 65 6d 61 69 6e 69 6e | {.    "remainin|
|00000360| 67 54 69 6d 65 73 22 20 3a 20 31 2c 0a 20 20 20 |gTimes" : 1,.   |
|00000370| 20 22 75 6e 6c 69 6d 69 74 65 64 22 20 3a 20 66 | "unlimited" : f|
|00000380| 61 6c 73 65 0a 20 20 7d 2c 0a 20 20 22 74 69 6d |alse.  },.  "tim|
|00000390| 65 54 6f 4c 69 76 65 22 20 3a 20 7b 0a 20 20 20 |eToLive" : {.   |
|000003a0| 20 22 75 6e 6c 69 6d 69 74 65 64 22 20 3a 20 74 | "unlimited" : t|
|000003b0| 72 75 65 0a 20 20 7d 0a 7d                      |rue.  }.}       |
+--------+-------------------------------------------------+----------------+
08:29:07.349 [nioEventLoopGroup-28-1] INFO  o.m.mockserver.MockServerHandler - creating expectation:

	{
	  "httpRequest" : {
	    "method" : "POST",
	    "path" : "/v2/enqueue",
	    "body" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  },
	  "times" : {
	    "remainingTimes" : 1,
	    "unlimited" : false
	  },
	  "timeToLive" : {
	    "unlimited" : true
	  },
	  "httpResponse" : {
	    "statusCode" : 200,
	    "headers" : [ {
	      "name" : "Server",
	      "values" : [ "MockServer" ]
	    }, {
	      "name" : "Date",
	      "values" : [ "Fri Jul 31 08:29:07 UTC 2020" ]
	    }, {
	      "name" : "Content-Type",
	      "values" : [ "application/json; charset=utf-8" ]
	    } ],
	    "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}",
	    "delay" : {
	      "timeUnit" : "SECONDS",
	      "value" : 1
	    }
	  }
	}


08:29:07.350 [nioEventLoopGroup-28-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x73a41d52, /127.0.0.1:55612 => /127.0.0.1:39789] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 201 Created
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:07.351 [nioEventLoopGroup-28-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x73a41d52, /127.0.0.1:55612 => /127.0.0.1:39789] FLUSH
08:29:07.352 [nioEventLoopGroup-28-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x73a41d52, /127.0.0.1:55612 => /127.0.0.1:39789] FLUSH
08:29:07.352 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 201,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:07.352 [nioEventLoopGroup-28-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x73a41d52, /127.0.0.1:55612 :> /127.0.0.1:39789] INACTIVE
08:29:07.352 [nioEventLoopGroup-28-1] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x73a41d52, /127.0.0.1:55612 :> /127.0.0.1:39789] UNREGISTERED
08:29:07.353 [nioEventLoopGroup-29-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-29-1
2020-07-31 08:29:07 DEBUG RequestAddCookies:122 - CookieSpec selected: default
2020-07-31 08:29:07 DEBUG RequestAuthCache:76 - Auth cache not set in the context
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:249 - Connection request: [route: {}->http://localhost:39789][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 200]
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:282 - Connection leased: [id: 6][route: {}->http://localhost:39789][total kept alive: 0; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:07 DEBUG MainClientExec:234 - Opening connection {}->http://localhost:39789
2020-07-31 08:29:07 DEBUG DefaultHttpClientConnectionOperator:138 - Connecting to localhost/127.0.0.1:39789
2020-07-31 08:29:07 DEBUG DefaultHttpClientConnectionOperator:145 - Connection established 127.0.0.1:55616<->127.0.0.1:39789
2020-07-31 08:29:07 DEBUG DefaultManagedHttpClientConnection:90 - http-outgoing-6: set socket timeout to 60000
2020-07-31 08:29:07 DEBUG MainClientExec:255 - Executing request POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:07 DEBUG MainClientExec:260 - Target auth state: UNCHALLENGED
2020-07-31 08:29:07 DEBUG MainClientExec:266 - Proxy auth state: UNCHALLENGED
2020-07-31 08:29:07 DEBUG headers:135 - http-outgoing-6 >> POST /v2/enqueue HTTP/1.1
2020-07-31 08:29:07 DEBUG headers:138 - http-outgoing-6 >> Accept: application/json
2020-07-31 08:29:07 DEBUG headers:138 - http-outgoing-6 >> accept-encoding: gzip
2020-07-31 08:29:07 DEBUG headers:138 - http-outgoing-6 >> user-agent: unirest-java/1.3.11
2020-07-31 08:29:07 DEBUG headers:138 - http-outgoing-6 >> Content-Length: 223
2020-07-31 08:29:07 DEBUG headers:138 - http-outgoing-6 >> Content-Type: text/plain; charset=UTF-8
2020-07-31 08:29:07 DEBUG headers:138 - http-outgoing-6 >> Host: localhost:39789
2020-07-31 08:29:07 DEBUG headers:138 - http-outgoing-6 >> Connection: Keep-Alive
2020-07-31 08:29:07 DEBUG wire:72 - http-outgoing-6 >> "POST /v2/enqueue HTTP/1.1[\r][\n]"
2020-07-31 08:29:07 DEBUG wire:72 - http-outgoing-6 >> "Accept: application/json[\r][\n]"
2020-07-31 08:29:07 DEBUG wire:72 - http-outgoing-6 >> "accept-encoding: gzip[\r][\n]"
2020-07-31 08:29:07 DEBUG wire:72 - http-outgoing-6 >> "user-agent: unirest-java/1.3.11[\r][\n]"
2020-07-31 08:29:07 DEBUG wire:72 - http-outgoing-6 >> "Content-Length: 223[\r][\n]"
2020-07-31 08:29:07 DEBUG wire:72 - http-outgoing-6 >> "Content-Type: text/plain; charset=UTF-8[\r][\n]"
2020-07-31 08:29:07 DEBUG wire:72 - http-outgoing-6 >> "Host: localhost:39789[\r][\n]"
2020-07-31 08:29:07 DEBUG wire:72 - http-outgoing-6 >> "Connection: Keep-Alive[\r][\n]"
2020-07-31 08:29:07 DEBUG wire:72 - http-outgoing-6 >> "[\r][\n]"
2020-07-31 08:29:07 DEBUG wire:86 - http-outgoing-6 >> "{"routing_key":"SERVICE_KEY","event_action":"trigger","payload":{"summary":"HealthCheck failed","source":"testing source","severity":"info","timestamp":null,"component":null,"group":null,"class":null,"custom_details":null}}"
08:29:07.368 [nioEventLoopGroup-28-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x67330d01, /127.0.0.1:55616 => /127.0.0.1:39789] RECEIVED: HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 223, cap: 223, components=1))
POST /v2/enqueue HTTP/1.1
Accept: application/json
accept-encoding: gzip
user-agent: unirest-java/1.3.11
Content-Length: 223
Content-Type: text/plain; charset=UTF-8
Host: localhost:39789
Connection: Keep-Alive, 223B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 72 6f 75 74 69 6e 67 5f 6b 65 79 22 3a 22 |{"routing_key":"|
|00000010| 53 45 52 56 49 43 45 5f 4b 45 59 22 2c 22 65 76 |SERVICE_KEY","ev|
|00000020| 65 6e 74 5f 61 63 74 69 6f 6e 22 3a 22 74 72 69 |ent_action":"tri|
|00000030| 67 67 65 72 22 2c 22 70 61 79 6c 6f 61 64 22 3a |gger","payload":|
|00000040| 7b 22 73 75 6d 6d 61 72 79 22 3a 22 48 65 61 6c |{"summary":"Heal|
|00000050| 74 68 43 68 65 63 6b 20 66 61 69 6c 65 64 22 2c |thCheck failed",|
|00000060| 22 73 6f 75 72 63 65 22 3a 22 74 65 73 74 69 6e |"source":"testin|
|00000070| 67 20 73 6f 75 72 63 65 22 2c 22 73 65 76 65 72 |g source","sever|
|00000080| 69 74 79 22 3a 22 69 6e 66 6f 22 2c 22 74 69 6d |ity":"info","tim|
|00000090| 65 73 74 61 6d 70 22 3a 6e 75 6c 6c 2c 22 63 6f |estamp":null,"co|
|000000a0| 6d 70 6f 6e 65 6e 74 22 3a 6e 75 6c 6c 2c 22 67 |mponent":null,"g|
|000000b0| 72 6f 75 70 22 3a 6e 75 6c 6c 2c 22 63 6c 61 73 |roup":null,"clas|
|000000c0| 73 22 3a 6e 75 6c 6c 2c 22 63 75 73 74 6f 6d 5f |s":null,"custom_|
|000000d0| 64 65 74 61 69 6c 73 22 3a 6e 75 6c 6c 7d 7d    |details":null}} |
+--------+-------------------------------------------------+----------------+
08:29:07.372 [nioEventLoopGroup-28-2] INFO  o.m.matchers.HttpRequestMatcher - request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:39789" ]
	  }, {
	    "name" : "Connection",
	    "values" : [ "Keep-Alive" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}

 matched expectation:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "body" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	}


08:29:07.472 [nioEventLoopGroup-24-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x98d58658, /127.0.0.1:37476 :> /127.0.0.1:40737] FLUSH
08:29:07.472 [nioEventLoopGroup-24-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x98d58658, /127.0.0.1:37476 :> /127.0.0.1:40737] INACTIVE
08:29:07.472 [nioEventLoopGroup-24-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x98d58658, /127.0.0.1:37476 :> /127.0.0.1:40737] UNREGISTERED
08:29:07.473 [nioEventLoopGroup-24-3] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-24-3
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:07 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
08:29:07.973 [nioEventLoopGroup-24-2] DEBUG io.netty.buffer.PoolThreadCache - Freed 3 thread-local buffer(s) from thread: nioEventLoopGroup-24-2
2020-07-31 08:29:08 DEBUG PoolingHttpClientConnectionManager:408 - Closing expired connections
2020-07-31 08:29:08 DEBUG PoolingHttpClientConnectionManager:401 - Closing connections idle longer than 30 SECONDS
08:29:08.375 [nioEventLoopGroup-28-2] INFO  o.m.mockserver.MockServerHandler - returning response:

	{
	  "statusCode" : 200,
	  "headers" : [ {
	    "name" : "Server",
	    "values" : [ "MockServer" ]
	  }, {
	    "name" : "Date",
	    "values" : [ "Fri Jul 31 08:29:07 UTC 2020" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "application/json; charset=utf-8" ]
	  } ],
	  "body" : "{\"status\":\"success\",\"message\":\"Event processed\",\"dedup_key\":\"DEDUP_KEY\"}"
	}

 for request:

	{
	  "method" : "POST",
	  "path" : "/v2/enqueue",
	  "headers" : [ {
	    "name" : "Accept",
	    "values" : [ "application/json" ]
	  }, {
	    "name" : "accept-encoding",
	    "values" : [ "gzip" ]
	  }, {
	    "name" : "user-agent",
	    "values" : [ "unirest-java/1.3.11" ]
	  }, {
	    "name" : "Content-Length",
	    "values" : [ "223" ]
	  }, {
	    "name" : "Content-Type",
	    "values" : [ "text/plain; charset=UTF-8" ]
	  }, {
	    "name" : "Host",
	    "values" : [ "localhost:39789" ]
	  } ],
	  "keepAlive" : true,
	  "secure" : false,
	  "body" : {
	    "charset" : "UTF-8",
	    "type" : "STRING",
	    "string" : "{\"routing_key\":\"SERVICE_KEY\",\"event_action\":\"trigger\",\"payload\":{\"summary\":\"HealthCheck failed\",\"source\":\"testing source\",\"severity\":\"info\",\"timestamp\":null,\"component\":null,\"group\":null,\"class\":null,\"custom_details\":null}}"
	  }
	}


08:29:08.376 [nioEventLoopGroup-28-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x67330d01, /127.0.0.1:55616 => /127.0.0.1:39789] WRITE: DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: UnpooledHeapByteBuf(ridx: 0, widx: 72, cap: 72/72))
HTTP/1.1 200 OK
Server: MockServer
Date: Fri Jul 31 08:29:07 UTC 2020
Content-Type: application/json; charset=utf-8
Content-Length: 72
Connection: keep-alive, 72B
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 7b 22 73 74 61 74 75 73 22 3a 22 73 75 63 63 65 |{"status":"succe|
|00000010| 73 73 22 2c 22 6d 65 73 73 61 67 65 22 3a 22 45 |ss","message":"E|
|00000020| 76 65 6e 74 20 70 72 6f 63 65 73 73 65 64 22 2c |vent processed",|
|00000030| 22 64 65 64 75 70 5f 6b 65 79 22 3a 22 44 45 44 |"dedup_key":"DED|
|00000040| 55 50 5f 4b 45 59 22 7d                         |UP_KEY"}        |
+--------+-------------------------------------------------+----------------+
08:29:08.377 [nioEventLoopGroup-28-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x67330d01, /127.0.0.1:55616 => /127.0.0.1:39789] FLUSH
2020-07-31 08:29:08 DEBUG wire:72 - http-outgoing-6 << "HTTP/1.1 200 OK[\r][\n]"
2020-07-31 08:29:08 DEBUG wire:72 - http-outgoing-6 << "Server: MockServer[\r][\n]"
2020-07-31 08:29:08 DEBUG wire:72 - http-outgoing-6 << "Date: Fri Jul 31 08:29:07 UTC 2020[\r][\n]"
2020-07-31 08:29:08 DEBUG wire:72 - http-outgoing-6 << "Content-Type: application/json; charset=utf-8[\r][\n]"
2020-07-31 08:29:08 DEBUG wire:72 - http-outgoing-6 << "Content-Length: 72[\r][\n]"
2020-07-31 08:29:08 DEBUG wire:72 - http-outgoing-6 << "Connection: keep-alive[\r][\n]"
2020-07-31 08:29:08 DEBUG wire:72 - http-outgoing-6 << "[\r][\n]"
2020-07-31 08:29:08 DEBUG wire:86 - http-outgoing-6 << "{"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}"
2020-07-31 08:29:08 DEBUG headers:124 - http-outgoing-6 << HTTP/1.1 200 OK
2020-07-31 08:29:08 DEBUG headers:127 - http-outgoing-6 << Server: MockServer
2020-07-31 08:29:08 DEBUG headers:127 - http-outgoing-6 << Date: Fri Jul 31 08:29:07 UTC 2020
2020-07-31 08:29:08 DEBUG headers:127 - http-outgoing-6 << Content-Type: application/json; charset=utf-8
2020-07-31 08:29:08 DEBUG headers:127 - http-outgoing-6 << Content-Length: 72
2020-07-31 08:29:08 DEBUG headers:127 - http-outgoing-6 << Connection: keep-alive
2020-07-31 08:29:08 DEBUG MainClientExec:284 - Connection can be kept alive indefinitely
2020-07-31 08:29:08 DEBUG PoolingHttpClientConnectionManager:314 - Connection [id: 6][route: {}->http://localhost:39789] can be kept alive indefinitely
2020-07-31 08:29:08 DEBUG PoolingHttpClientConnectionManager:320 - Connection released: [id: 6][route: {}->http://localhost:39789][total kept alive: 1; route allocated: 1 of 20; total allocated: 1 of 200]
2020-07-31 08:29:08 DEBUG MainClientExec:144 - Cancelling request execution
08:29:08.382 [main] DEBUG c.g.d.p.c.events.HttpApiServiceImpl - {"status":"success","message":"Event processed","dedup_key":"DEDUP_KEY"}
08:29:08.383 [main] DEBUG o.m.client.netty.NettyHttpClient - Sending request: {
  "method" : "PUT",
  "path" : "/stop"
}
08:29:08.395 [nioEventLoopGroup-28-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xd612113e, /127.0.0.1:55658 => /127.0.0.1:39789] RECEIVED, HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
PUT /stop HTTP/1.1
Host: localhost:39789
Accept-Encoding: gzip,deflate
Content-Length: 0
Connection: keep-alive, 0B
08:29:08.396 [nioEventLoopGroup-28-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xd612113e, /127.0.0.1:55658 => /127.0.0.1:39789] WRITE, DefaultFullHttpResponse(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)
HTTP/1.1 202 Accepted
Content-Length: 0
Connection: keep-alive
Content-Type: text/plain, 0B
08:29:08.396 [nioEventLoopGroup-28-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xd612113e, /127.0.0.1:55658 => /127.0.0.1:39789] FLUSH
08:29:08.396 [nioEventLoopGroup-28-3] DEBUG i.n.handler.logging.LoggingHandler - [id: 0xd612113e, /127.0.0.1:55658 => /127.0.0.1:39789] CLOSE()
08:29:08.398 [main] DEBUG o.m.client.netty.NettyHttpClient - Received response: {
  "statusCode" : 202,
  "headers" : [ {
    "name" : "Connection",
    "values" : [ "keep-alive" ]
  }, {
    "name" : "Content-Length",
    "values" : [ "0" ]
  }, {
    "name" : "Content-Type",
    "values" : [ "text/plain" ]
  } ]
}
08:29:08.398 [nioEventLoopGroup-28-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 5 thread-local buffer(s) from thread: nioEventLoopGroup-28-1
08:29:08.398 [nioEventLoopGroup-30-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 2 thread-local buffer(s) from thread: nioEventLoopGroup-30-1
08:29:08.399 [nioEventLoopGroup-28-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x67330d01, /127.0.0.1:55616 :> /127.0.0.1:39789] INACTIVE
08:29:08.399 [nioEventLoopGroup-28-2] DEBUG i.n.handler.logging.LoggingHandler - [id: 0x67330d01, /127.0.0.1:55616 :> /127.0.0.1:39789] UNREGISTERED
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.76 sec - in com.github.dikhan.pagerduty.client.events.HttpApiServiceImplTest
Running com.github.dikhan.pagerduty.client.events.ApiServiceFactoryTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.github.dikhan.pagerduty.client.events.ApiServiceFactoryTest

Results :

Tests run: 28, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:report (report) @ pagerduty-client ---
[INFO] Loading execution data file /tmp/tmppy4d3qbv/pagerduty-client/target/jacoco.exec
[INFO] Analyzed bundle 'pagerduty-client' with 980 classes
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  35.424 s
[INFO] Finished at: 2020-07-31T08:29:10Z
[INFO] ------------------------------------------------------------------------
