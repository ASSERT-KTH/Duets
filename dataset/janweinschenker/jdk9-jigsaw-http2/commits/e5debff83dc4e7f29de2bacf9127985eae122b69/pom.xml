<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                      http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>com.holisticon.jdk9</groupId>
	<artifactId>http2-jigsaw-showcase</artifactId>
	<version>1.0</version>

	<properties>
		<java.version>9</java.version>
		<java.9.executable>/Library/Java/JavaVirtualMachines/jdk-9.jdk/Contents/Home/bin/java</java.9.executable>
		<additionalRuntimeArgLine>-addmods java.xml.bind</additionalRuntimeArgLine>
	</properties>
	<profiles>
		<profile>
			<id>session</id>
			<build>
				<plugins>
					<plugin>
						<groupId>org.codehaus.mojo</groupId>
						<artifactId>exec-maven-plugin</artifactId>
						<version>1.5.0</version>
						<executions>
							<execution>
								<goals>
									<goal>exec</goal>
								</goals>
							</execution>
						</executions>
						<configuration>
							<executable>${java.9.executable}</executable>
							<arguments>
								<argument>-classpath</argument>
								<classpath />
								<argument>com.holisticon.jdk9.http2.Session</argument>
							</arguments>
						</configuration>
					</plugin>
				</plugins>
			</build>
		</profile>
		<profile>
			<id>cancelclient</id>
			<build>
				<plugins>
					<plugin>
						<groupId>org.codehaus.mojo</groupId>
						<artifactId>exec-maven-plugin</artifactId>
						<version>1.5.0</version>
						<executions>
							<execution>
								<goals>
									<goal>exec</goal>
								</goals>
							</execution>
						</executions>
						<configuration>
							<executable>${java.9.executable}</executable>
							<arguments>
								<argument>-classpath</argument>
								<classpath />
								<argument>com.holisticon.jdk9.http2.CancelClient</argument>
							</arguments>
						</configuration>
					</plugin>
				</plugins>
			</build>
		</profile>
	</profiles>
	<build>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				 <artifactId>maven-toolchains-plugin</artifactId>
				<executions>
					<execution>
						<goals>
							<goal>toolchain</goal>
						</goals>
					</execution>
				</executions>
				<configuration>
					<toolchains>
						<jdk>
							<version>1.9</version>
						</jdk>
					</toolchains>
				</configuration>
			</plugin>
			<!-- -->
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<version>3.5.1</version>
				<configuration>
					<verbose>true</verbose>
					<fork>true</fork>
					<source>9</source>
					<target>1.9</target>
				</configuration>
			</plugin>
			<!-- <plugin> <groupId>org.codehaus.mojo</groupId> <artifactId>exec-maven-plugin</artifactId> 
				<version>1.5.0</version> <executions> <execution> <goals> <goal>exec</goal> 
				</goals> </execution> </executions> <configuration> <executable>${java.9.executable}</executable> 
				<arguments> <argument>-classpath</argument> <classpath /> <argument>com.holisticon.jdk9.http2.Session</argument> 
				</arguments> </configuration> </plugin> -->
			<plugin>
				<artifactId>maven-clean-plugin</artifactId>
				<version>3.0.0</version>
				<configuration>
					<filesets>
						<fileset>
							<directory>${basedir}/downloads/ResponseAsync</directory>
							<includes>
								<include>**/*.*</include>
							</includes>
							<excludes>
								<eclude>
									info.md
								</eclude>
							</excludes>
							<followSymlinks>false</followSymlinks>
						</fileset>
						<fileset>
							<directory>${basedir}/downloads/ResponseAsyncMulti</directory>
							<includes>
								<include>**/*.*</include>
							</includes>
							<excludes>
								<eclude>
									info.md
								</eclude>
							</excludes>
							<followSymlinks>false</followSymlinks>
						</fileset>
					</filesets>
				</configuration>
			</plugin>
		</plugins>
	</build>
	<dependencies>
	</dependencies>
	<pluginRepositories>
		<pluginRepository>
			<id>apache.snapshots</id>
			<url>http://repository.apache.org/snapshots/</url>
		</pluginRepository>
	</pluginRepositories>
</project>