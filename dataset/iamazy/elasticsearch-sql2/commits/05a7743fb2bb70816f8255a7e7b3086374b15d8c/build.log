[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for io.github.iamazy.elasticsearch.dsl:elasticsearch-sql:jar:7.2.0.1
[WARNING] 'version' contains an expression but should be a constant. @ io.github.iamazy.elasticsearch.dsl:elasticsearch-sql:${elasticsearch.version}.1, /tmp/tmpuatsgn8o/elasticsearch-sql2/pom.xml, line 5, column 12
[WARNING] 'build.plugins.plugin.(groupId:artifactId)' must be unique but found duplicate declaration of plugin org.apache.maven.plugins:maven-compiler-plugin @ io.github.iamazy.elasticsearch.dsl:elasticsearch-sql:${elasticsearch.version}.1, /tmp/tmpuatsgn8o/elasticsearch-sql2/pom.xml, line 214, column 15
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] Inspecting build with total of 1 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] 
[INFO] --------< io.github.iamazy.elasticsearch.dsl:elasticsearch-sql >--------
[INFO] Building elasticsearch-sql 7.2.0.1
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.7:copy-resources (copy-resources) @ elasticsearch-sql ---
[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 1 resource
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ elasticsearch-sql ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmpuatsgn8o/elasticsearch-sql2/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ elasticsearch-sql ---
[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ elasticsearch-sql ---
[INFO] Changes detected - recompiling the module!
[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[INFO] Compiling 91 source files to /tmp/tmpuatsgn8o/elasticsearch-sql2/target/classes
[INFO] /tmp/tmpuatsgn8o/elasticsearch-sql2/src/main/java/io/github/iamazy/elasticsearch/dsl/sql/parser/query/method/expr/AbstractParameterizedMethodExpression.java: Some input files use or override a deprecated API.
[INFO] /tmp/tmpuatsgn8o/elasticsearch-sql2/src/main/java/io/github/iamazy/elasticsearch/dsl/sql/parser/query/method/expr/AbstractParameterizedMethodExpression.java: Recompile with -Xlint:deprecation for details.
[INFO] /tmp/tmpuatsgn8o/elasticsearch-sql2/src/main/java/io/github/iamazy/elasticsearch/dsl/sql/parser/aggs/GroupByAggregationParser.java: /tmp/tmpuatsgn8o/elasticsearch-sql2/src/main/java/io/github/iamazy/elasticsearch/dsl/sql/parser/aggs/GroupByAggregationParser.java uses unchecked or unsafe operations.
[INFO] /tmp/tmpuatsgn8o/elasticsearch-sql2/src/main/java/io/github/iamazy/elasticsearch/dsl/sql/parser/aggs/GroupByAggregationParser.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] >>> maven-source-plugin:3.0.1:jar (default) > generate-sources @ elasticsearch-sql >>>
[INFO] 
[INFO] --- maven-resources-plugin:2.7:copy-resources (copy-resources) @ elasticsearch-sql ---
[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 1 resource
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ elasticsearch-sql ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmpuatsgn8o/elasticsearch-sql2/target/jacoco.exec
[INFO] 
[INFO] <<< maven-source-plugin:3.0.1:jar (default) < generate-sources @ elasticsearch-sql <<<
[INFO] 
[INFO] 
[INFO] --- maven-source-plugin:3.0.1:jar (default) @ elasticsearch-sql ---
[INFO] Building jar: /tmp/tmpuatsgn8o/elasticsearch-sql2/target/elasticsearch-sql-7.2.0.1-sources.jar
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ elasticsearch-sql ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /tmp/tmpuatsgn8o/elasticsearch-sql2/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ elasticsearch-sql ---
[INFO] Changes detected - recompiling the module!
[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[INFO] Compiling 7 source files to /tmp/tmpuatsgn8o/elasticsearch-sql2/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ elasticsearch-sql ---
[INFO] Surefire report directory: /tmp/tmpuatsgn8o/elasticsearch-sql2/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.github.iamazy.elasticsearch.dsl.sql.NestedAggTest
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "match_all" : {
      "boost" : 1.0
    }
  },
  "aggregations" : {
    "distance_geo_distance" : {
      "geo_distance" : {
        "field" : "distance",
        "origin" : {
          "lat" : 0.0,
          "lon" : 11.0
        },
        "ranges" : [ {
          "key" : "1.0-3.0",
          "from" : 1.0,
          "to" : 3.0
        } ],
        "keyed" : false,
        "unit" : "km",
        "distance_type" : "ARC"
      }
    }
  }
}
{
  "from" : 0,
  "size" : 0,
  "query" : {
    "bool" : {
      "filter" : [ {
        "bool" : {
          "must" : [ {
            "nested" : {
              "query" : {
                "nested" : {
                  "query" : {
                    "term" : {
                      "product.apple.type" : {
                        "value" : "AirPod",
                        "boost" : 1.0
                      }
                    }
                  },
                  "path" : "product.apple",
                  "ignore_unmapped" : false,
                  "score_mode" : "avg",
                  "boost" : 1.0
                }
              },
              "path" : "product",
              "ignore_unmapped" : false,
              "score_mode" : "avg",
              "boost" : 1.0
            }
          } ],
          "adjust_pure_negative" : true,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  },
  "aggregations" : {
    "product_nested" : {
      "nested" : {
        "path" : "product"
      },
      "aggregations" : {
        "product.apple_nested" : {
          "nested" : {
            "path" : "product.apple"
          },
          "aggregations" : {
            "product.apple.type_terms" : {
              "terms" : {
                "field" : "product.apple.type",
                "size" : 20,
                "shard_size" : 40,
                "min_doc_count" : 1,
                "shard_min_doc_count" : 1,
                "show_term_doc_count_error" : false,
                "order" : [ {
                  "_count" : "desc"
                }, {
                  "_key" : "asc"
                } ]
              }
            },
            "product.apple.name_terms" : {
              "terms" : {
                "field" : "product.apple.name",
                "size" : 2,
                "shard_size" : 4,
                "min_doc_count" : 1,
                "shard_min_doc_count" : 1,
                "show_term_doc_count_error" : false,
                "order" : [ {
                  "_count" : "desc"
                }, {
                  "_key" : "asc"
                } ]
              }
            }
          }
        }
      }
    }
  }
}
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "match_all" : {
      "boost" : 1.0
    }
  },
  "aggregations" : {
    "productName_terms" : {
      "terms" : {
        "field" : "productName",
        "size" : 10,
        "shard_size" : 20,
        "min_doc_count" : 1,
        "shard_min_doc_count" : 1,
        "show_term_doc_count_error" : false,
        "order" : [ {
          "_count" : "desc"
        }, {
          "_key" : "asc"
        } ]
      },
      "aggregations" : {
        "provider_terms" : {
          "terms" : {
            "field" : "provider",
            "size" : 10,
            "shard_size" : 20,
            "min_doc_count" : 1,
            "shard_min_doc_count" : 1,
            "show_term_doc_count_error" : false,
            "order" : [ {
              "_count" : "desc"
            }, {
              "_key" : "asc"
            } ]
          }
        },
        "provider_cardinality" : {
          "cardinality" : {
            "field" : "provider"
          }
        }
      }
    }
  }
}
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "match_all" : {
      "boost" : 1.0
    }
  },
  "aggregations" : {
    "country_terms" : {
      "terms" : {
        "field" : "country",
        "size" : 10000,
        "shard_size" : 20000,
        "min_doc_count" : 1,
        "shard_min_doc_count" : 1,
        "show_term_doc_count_error" : false,
        "order" : [ {
          "_count" : "desc"
        }, {
          "_key" : "asc"
        } ]
      },
      "aggregations" : {
        "province_terms" : {
          "terms" : {
            "field" : "province",
            "size" : 10000,
            "shard_size" : 20000,
            "min_doc_count" : 1,
            "shard_min_doc_count" : 1,
            "show_term_doc_count_error" : false,
            "order" : [ {
              "_count" : "desc"
            }, {
              "_key" : "asc"
            } ]
          }
        }
      }
    }
  }
}
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.877 sec - in io.github.iamazy.elasticsearch.dsl.sql.NestedAggTest
Running io.github.iamazy.elasticsearch.dsl.sql.SqlParserSelectFieldTest
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "bool" : {
      "filter" : [ {
        "bool" : {
          "must" : [ {
            "query_string" : {
              "query" : "苹果",
              "fields" : [ "name^1.0", "weight*^1.0" ],
              "type" : "best_fields",
              "default_operator" : "or",
              "analyzer" : "ik_smart",
              "max_determinized_states" : 10000,
              "enable_position_increments" : true,
              "fuzziness" : "AUTO",
              "fuzzy_prefix_length" : 0,
              "fuzzy_max_expansions" : 50,
              "phrase_slop" : 1,
              "escape" : false,
              "auto_generate_synonyms_phrase_query" : true,
              "fuzzy_transpositions" : true,
              "boost" : 1.0
            }
          } ],
          "adjust_pure_negative" : true,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  },
  "highlight" : {
    "pre_tags" : [ "<span style=\"color:red\">" ],
    "post_tags" : [ "</span>" ],
    "require_field_match" : false,
    "fields" : {
      "*" : {
        "fragment_size" : 500,
        "number_of_fragments" : 0
      }
    }
  }
}
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "match_all" : {
      "boost" : 1.0
    }
  },
  "sort" : [ {
    "minPrice" : {
      "order" : "desc"
    }
  }, {
    "advicePrice" : {
      "order" : "asc"
    }
  } ]
}
[apple-aaa-01-.*]
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "bool" : {
      "filter" : [ {
        "bool" : {
          "must" : [ {
            "has_parent" : {
              "query" : {
                "bool" : {
                  "must" : [ {
                    "range" : {
                      "weight" : {
                        "from" : 100,
                        "to" : 400,
                        "include_lower" : true,
                        "include_upper" : true,
                        "boost" : 1.0
                      }
                    }
                  } ],
                  "adjust_pure_negative" : true,
                  "boost" : 1.0
                }
              },
              "parent_type" : "vegetable",
              "score" : false,
              "ignore_unmapped" : false,
              "boost" : 1.0
            }
          } ],
          "adjust_pure_negative" : true,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  }
}
{
  "from" : 0,
  "size" : 10,
  "query" : {
    "bool" : {
      "filter" : [ {
        "bool" : {
          "should" : [ {
            "match_phrase" : {
              "name" : {
                "query" : "苹果",
                "slop" : 0,
                "zero_terms_query" : "NONE",
                "boost" : 1.0
              }
            }
          }, {
            "nested" : {
              "query" : {
                "nested" : {
                  "query" : {
                    "match_phrase" : {
                      "aaa.bbb.mac" : {
                        "query" : "0x10192j",
                        "slop" : 0,
                        "zero_terms_query" : "NONE",
                        "boost" : 1.0
                      }
                    }
                  },
                  "path" : "aaa.bbb",
                  "ignore_unmapped" : false,
                  "score_mode" : "avg",
                  "boost" : 1.0,
                  "inner_hits" : {
                    "name" : "null_highlighter",
                    "ignore_unmapped" : false,
                    "from" : 0,
                    "size" : 3,
                    "version" : false,
                    "seq_no_primary_term" : false,
                    "explain" : false,
                    "track_scores" : false,
                    "highlight" : {
                      "pre_tags" : [ "<span style=\"color:red\">" ],
                      "post_tags" : [ "</span>" ],
                      "require_field_match" : false,
                      "fields" : {
                        "aaa.bbb.mac" : {
                          "fragment_size" : 500,
                          "number_of_fragments" : 0
                        }
                      }
                    }
                  }
                }
              },
              "path" : "aaa",
              "ignore_unmapped" : false,
              "score_mode" : "avg",
              "boost" : 1.0
            }
          } ],
          "adjust_pure_negative" : true,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  },
  "sort" : [ {
    "lastModified" : {
      "order" : "desc"
    }
  } ]
}
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "bool" : {
      "filter" : [ {
        "bool" : {
          "must" : [ {
            "has_child" : {
              "query" : {
                "bool" : {
                  "must" : [ {
                    "terms" : {
                      "price" : [ 10, 20, 30 ],
                      "boost" : 1.0
                    }
                  } ],
                  "adjust_pure_negative" : true,
                  "boost" : 1.0
                }
              },
              "type" : "apple",
              "score_mode" : "none",
              "min_children" : 1,
              "max_children" : 4,
              "ignore_unmapped" : false,
              "boost" : 1.0
            }
          } ],
          "adjust_pure_negative" : true,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  },
  "_source" : {
    "includes" : [ "name*" ],
    "excludes" : [ "age" ]
  }
}
{
  "from" : 0,
  "size" : 0,
  "query" : {
    "bool" : {
      "filter" : [ {
        "bool" : {
          "must" : [ {
            "fuzzy" : {
              "bbb" : {
                "value" : "fdsfdf",
                "fuzziness" : "AUTO",
                "prefix_length" : 0,
                "max_expansions" : 50,
                "transpositions" : true,
                "boost" : 1.0
              }
            }
          }, {
            "exists" : {
              "field" : "name",
              "boost" : 1.0
            }
          }, {
            "exists" : {
              "field" : "color",
              "boost" : 1.0
            }
          }, {
            "nested" : {
              "query" : {
                "match" : {
                  "aaaaa.bb" : {
                    "query" : "fdsfdsfdsf",
                    "operator" : "OR",
                    "prefix_length" : 0,
                    "max_expansions" : 50,
                    "fuzzy_transpositions" : true,
                    "lenient" : false,
                    "zero_terms_query" : "NONE",
                    "auto_generate_synonyms_phrase_query" : true,
                    "boost" : 1.0
                  }
                }
              },
              "path" : "aaaaa",
              "ignore_unmapped" : false,
              "score_mode" : "avg",
              "boost" : 1.0,
              "inner_hits" : {
                "name" : "match_highlighter",
                "ignore_unmapped" : false,
                "from" : 0,
                "size" : 3,
                "version" : false,
                "seq_no_primary_term" : false,
                "explain" : false,
                "track_scores" : false,
                "highlight" : {
                  "pre_tags" : [ "<span style=\"color:red\">" ],
                  "post_tags" : [ "</span>" ],
                  "require_field_match" : false,
                  "fields" : {
                    "aaaaa.bb" : {
                      "fragment_size" : 500,
                      "number_of_fragments" : 0
                    }
                  }
                }
              }
            }
          } ],
          "adjust_pure_negative" : true,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  },
  "aggregations" : {
    "weight_terms" : {
      "terms" : {
        "field" : "weight",
        "size" : 5000,
        "shard_size" : 10000,
        "min_doc_count" : 1,
        "shard_min_doc_count" : 1,
        "show_term_doc_count_error" : false,
        "order" : [ {
          "_count" : "desc"
        }, {
          "_key" : "asc"
        } ]
      }
    },
    "category_terms" : {
      "terms" : {
        "field" : "category",
        "size" : 100,
        "shard_size" : 200,
        "min_doc_count" : 1,
        "shard_min_doc_count" : 1,
        "show_term_doc_count_error" : false,
        "order" : [ {
          "_count" : "desc"
        }, {
          "_key" : "asc"
        } ]
      }
    }
  },
  "highlight" : {
    "pre_tags" : [ "<span style=\"color:red\">" ],
    "post_tags" : [ "</span>" ],
    "require_field_match" : false,
    "fields" : {
      "name" : {
        "fragment_size" : 500,
        "number_of_fragments" : 0
      },
      "bbb" : {
        "fragment_size" : 500,
        "number_of_fragments" : 0
      }
    }
  }
}
{
  "from" : 0,
  "size" : 0,
  "query" : {
    "bool" : {
      "filter" : [ {
        "bool" : {
          "must" : [ {
            "nested" : {
              "query" : {
                "term" : {
                  "macInfo.name" : {
                    "value" : "0xsdfs",
                    "boost" : 1.0
                  }
                }
              },
              "path" : "macInfo",
              "ignore_unmapped" : false,
              "score_mode" : "avg",
              "boost" : 1.0,
              "inner_hits" : {
                "name" : "term_highlighter",
                "ignore_unmapped" : false,
                "from" : 0,
                "size" : 3,
                "version" : false,
                "seq_no_primary_term" : false,
                "explain" : false,
                "track_scores" : false,
                "highlight" : {
                  "pre_tags" : [ "<span style=\"color:red\">" ],
                  "post_tags" : [ "</span>" ],
                  "require_field_match" : false,
                  "fields" : {
                    "macInfo.name" : {
                      "fragment_size" : 500,
                      "number_of_fragments" : 0
                    }
                  }
                }
              }
            }
          } ],
          "adjust_pure_negative" : true,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  }
}
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "bool" : {
      "must" : [ {
        "match" : {
          "name" : {
            "query" : "苹果",
            "operator" : "OR",
            "prefix_length" : 21,
            "max_expansions" : 50,
            "fuzzy_transpositions" : true,
            "lenient" : false,
            "zero_terms_query" : "NONE",
            "auto_generate_synonyms_phrase_query" : true,
            "boost" : 2.0
          }
        }
      }, {
        "term" : {
          "weight" : {
            "value" : "80",
            "boost" : 1.0
          }
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  },
  "highlight" : {
    "pre_tags" : [ "<span style=\"color:red\">" ],
    "post_tags" : [ "</span>" ],
    "require_field_match" : false,
    "fields" : {
      "name" : {
        "fragment_size" : 500,
        "number_of_fragments" : 0
      }
    }
  }
}
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.351 sec - in io.github.iamazy.elasticsearch.dsl.sql.SqlParserSelectFieldTest
Running io.github.iamazy.elasticsearch.dsl.sql.ScrollTest
{
  "from" : 20,
  "size" : 10,
  "query" : {
    "match_all" : {
      "boost" : 1.0
    }
  },
  "sort" : [ {
    "lastModified" : {
      "order" : "desc"
    }
  } ]
}
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec - in io.github.iamazy.elasticsearch.dsl.sql.ScrollTest
Running io.github.iamazy.elasticsearch.dsl.sql.DeleteTest
{
  "size" : 1000,
  "query" : {
    "bool" : {
      "must" : [ {
        "match_all" : {
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  },
  "_source" : false
}
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "bool" : {
      "must" : [ {
        "term" : {
          "productName" : {
            "value" : "iphone6s",
            "boost" : 2.0
          }
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  }
}
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec - in io.github.iamazy.elasticsearch.dsl.sql.DeleteTest
Running io.github.iamazy.elasticsearch.dsl.sql.ScoreTest
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "bool" : {
      "must" : [ {
        "boosting" : {
          "positive" : {
            "bool" : {
              "must" : [ {
                "term" : {
                  "name" : {
                    "value" : "apple",
                    "boost" : 1.0
                  }
                }
              } ],
              "adjust_pure_negative" : true,
              "boost" : 1.0
            }
          },
          "negative" : {
            "bool" : {
              "must" : [ {
                "range" : {
                  "weight" : {
                    "from" : 100,
                    "to" : null,
                    "include_lower" : false,
                    "include_upper" : true,
                    "boost" : 1.0
                  }
                }
              } ],
              "adjust_pure_negative" : true,
              "boost" : 1.0
            }
          },
          "negative_boost" : 0.2,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  },
  "highlight" : {
    "pre_tags" : [ "<span style=\"color:red\">" ],
    "post_tags" : [ "</span>" ],
    "require_field_match" : false,
    "fields" : {
      "name" : {
        "fragment_size" : 500,
        "number_of_fragments" : 0
      },
      "weight" : {
        "fragment_size" : 500,
        "number_of_fragments" : 0
      }
    }
  }
}
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "bool" : {
      "must" : [ {
        "function_score" : {
          "query" : {
            "bool" : {
              "must" : [ {
                "term" : {
                  "name" : {
                    "value" : "a",
                    "boost" : 1.0
                  }
                }
              } ],
              "adjust_pure_negative" : true,
              "boost" : 1.0
            }
          },
          "functions" : [ {
            "filter" : {
              "bool" : {
                "must" : [ {
                  "term" : {
                    "naame" : {
                      "value" : "ddd",
                      "boost" : 1.0
                    }
                  }
                } ],
                "adjust_pure_negative" : true,
                "boost" : 1.0
              }
            },
            "script_score" : {
              "script" : {
                "source" : "fsdfsdf0",
                "lang" : "painless",
                "params" : {
                  "a" : "1",
                  "b" : "2"
                }
              }
            }
          }, {
            "filter" : {
              "bool" : {
                "must" : [ {
                  "range" : {
                    "age" : {
                      "from" : 90,
                      "to" : null,
                      "include_lower" : false,
                      "include_upper" : true,
                      "boost" : 1.0
                    }
                  }
                } ],
                "adjust_pure_negative" : true,
                "boost" : 1.0
              }
            },
            "random_score" : {
              "seed" : 101092339,
              "field" : "date"
            }
          }, {
            "filter" : {
              "bool" : {
                "must" : [ {
                  "range" : {
                    "a" : {
                      "from" : 1,
                      "to" : null,
                      "include_lower" : false,
                      "include_upper" : true,
                      "boost" : 1.0
                    }
                  }
                } ],
                "adjust_pure_negative" : true,
                "boost" : 1.0
              }
            },
            "weight" : 3.0
          }, {
            "filter" : {
              "bool" : {
                "must" : [ {
                  "range" : {
                    "b" : {
                      "from" : null,
                      "to" : 4,
                      "include_lower" : true,
                      "include_upper" : false,
                      "boost" : 1.0
                    }
                  }
                } ],
                "adjust_pure_negative" : true,
                "boost" : 1.0
              }
            },
            "weight" : 4.0
          }, {
            "filter" : {
              "bool" : {
                "must" : [ {
                  "term" : {
                    "c" : {
                      "value" : "aa",
                      "boost" : 1.0
                    }
                  }
                } ],
                "adjust_pure_negative" : true,
                "boost" : 1.0
              }
            },
            "weight" : 5.0
          }, {
            "filter" : {
              "bool" : {
                "must" : [ {
                  "exists" : {
                    "field" : "d",
                    "boost" : 1.0
                  }
                } ],
                "adjust_pure_negative" : true,
                "boost" : 1.0
              }
            },
            "weight" : 9.0
          } ],
          "score_mode" : "multiply",
          "max_boost" : 3.4028235E38,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  },
  "highlight" : {
    "pre_tags" : [ "<span style=\"color:red\">" ],
    "post_tags" : [ "</span>" ],
    "require_field_match" : false,
    "fields" : {
      "name" : {
        "fragment_size" : 500,
        "number_of_fragments" : 0
      }
    }
  }
}
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec - in io.github.iamazy.elasticsearch.dsl.sql.ScoreTest
Running io.github.iamazy.elasticsearch.dsl.sql.DescTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.github.iamazy.elasticsearch.dsl.sql.DescTest
Running io.github.iamazy.elasticsearch.dsl.sql.ScriptQueryTest
{
  "from" : 0,
  "size" : 15,
  "query" : {
    "bool" : {
      "filter" : [ {
        "bool" : {
          "must" : [ {
            "script" : {
              "script" : {
                "source" : "if (ctx._source.user == \"kimchy\") {ctx._source.likes++;}",
                "lang" : "painless",
                "params" : {
                  "gender" : "male",
                  "name" : "iamazy",
                  "age" : 23
                }
              },
              "boost" : 1.0
            }
          } ],
          "adjust_pure_negative" : true,
          "boost" : 1.0
        }
      } ],
      "adjust_pure_negative" : true,
      "boost" : 1.0
    }
  }
}
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec - in io.github.iamazy.elasticsearch.dsl.sql.ScriptQueryTest

Results :

Tests run: 19, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:report (report) @ elasticsearch-sql ---
[INFO] Loading execution data file /tmp/tmpuatsgn8o/elasticsearch-sql2/target/jacoco.exec
[INFO] Analyzed bundle 'elasticsearch-sql' with 445 classes
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  26.918 s
[INFO] Finished at: 2020-07-30T20:02:52Z
[INFO] ------------------------------------------------------------------------
