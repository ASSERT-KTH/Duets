[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 1 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] 
[INFO] ------------------------< me.magnet:consultant >------------------------
[INFO] Building consultant 2.0.7-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ consultant ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmp2q11vrop/consultant/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ consultant ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /tmp/tmp2q11vrop/consultant/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ consultant ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 22 source files to /tmp/tmp2q11vrop/consultant/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ consultant ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ consultant ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 14 source files to /tmp/tmp2q11vrop/consultant/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ consultant ---
[INFO] Surefire report directory: /tmp/tmp2q11vrop/consultant/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running me.magnet.consultant.NetworkDistanceStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.702 sec - in me.magnet.consultant.NetworkDistanceStrategyTest
Running me.magnet.consultant.PathTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.571 sec - in me.magnet.consultant.PathTest
Running me.magnet.consultant.RandomizedStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.018 sec - in me.magnet.consultant.RandomizedStrategyTest
Running me.magnet.consultant.KeyValueEntryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in me.magnet.consultant.KeyValueEntryTest
Running me.magnet.consultant.RandomizedWeightedDistanceStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec - in me.magnet.consultant.RandomizedWeightedDistanceStrategyTest
Running me.magnet.consultant.ConfigUpdaterTest
30 Jul 22:49:48.952 [Time-limited test] ERROR me.magnet.consultant.ConfigUpdater (128) - Error occurred while retrieving/publishing new config from Consul: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token
 at [Source: (ByteArrayInputStream); line: 1, column: 1]
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token
 at [Source: (ByteArrayInputStream); line: 1, column: 1]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1343)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1139)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1093)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:332)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:265)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:245)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:27)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4014)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3078)
	at me.magnet.consultant.ConfigUpdater.run(ConfigUpdater.java:104)
	at me.magnet.consultant.ConfigUpdaterTest.verifyThatUpdaterIsRescheduledAfterException(ConfigUpdaterTest.java:175)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
30 Jul 22:49:49.458 [pool-7-thread-1] ERROR me.magnet.consultant.ConfigUpdater (128) - Error occurred while retrieving/publishing new config from Consul: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token
 at [Source: (ByteArrayInputStream); line: 1, column: 1]
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token
 at [Source: (ByteArrayInputStream); line: 1, column: 1]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1343)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1139)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1093)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:332)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:265)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:245)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:27)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4014)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3078)
	at me.magnet.consultant.ConfigUpdater.run(ConfigUpdater.java:104)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
30 Jul 22:49:49.959 [pool-7-thread-1] ERROR me.magnet.consultant.ConfigUpdater (128) - Error occurred while retrieving/publishing new config from Consul: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token
 at [Source: (ByteArrayInputStream); line: 1, column: 1]
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token
 at [Source: (ByteArrayInputStream); line: 1, column: 1]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1343)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1139)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1093)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:332)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:265)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:245)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:27)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4014)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3078)
	at me.magnet.consultant.ConfigUpdater.run(ConfigUpdater.java:104)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.867 sec - in me.magnet.consultant.ConfigUpdaterTest
Running me.magnet.consultant.PropertiesUtilTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in me.magnet.consultant.PropertiesUtilTest
Running me.magnet.consultant.ServiceIdentifierTest
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.047 sec - in me.magnet.consultant.ServiceIdentifierTest
Running me.magnet.consultant.PathParserTest
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in me.magnet.consultant.PathParserTest
Running me.magnet.consultant.ConsultantTest
30 Jul 22:49:52.242 [Time-limited test] INFO  me.magnet.consultant.Consultant (513) - Fetching initial configuration from Consul for serviceID: oauth[dc=eu-central,host=app1,instance=91ba1a7a-146b-4a51-80b2-7fb494d6a042]
30 Jul 22:49:52.766 [Time-limited test] INFO  me.magnet.consultant.Consultant (513) - Fetching initial configuration from Consul for serviceID: oauth[dc=eu-central,host=web-1,instance=master]
30 Jul 22:49:56.797 [Time-limited test] INFO  me.magnet.consultant.Consultant (513) - Fetching initial configuration from Consul for serviceID: oauth[dc=eu-central,host=web-1,instance=master]
30 Jul 22:49:57.309 [Time-limited test] INFO  me.magnet.consultant.Consultant (513) - Fetching initial configuration from Consul for serviceID: oauth[dc=eu-central,host=web-1,instance=master]
30 Jul 22:49:57.324 [Time-limited test] INFO  me.magnet.consultant.Consultant (513) - Fetching initial configuration from Consul for serviceID: oauth[dc=eu-central,host=web-1,instance=master]
30 Jul 22:49:57.335 [Time-limited test] INFO  me.magnet.consultant.Consultant (513) - Fetching initial configuration from Consul for serviceID: oauth[dc=eu-central,host=web-1,instance=master]
30 Jul 22:49:57.848 [Time-limited test] INFO  me.magnet.consultant.Consultant (513) - Fetching initial configuration from Consul for serviceID: oauth[dc=eu-central,host=web-1,instance=master]
30 Jul 22:50:00.366 [Time-limited test] INFO  me.magnet.consultant.Consultant (513) - Fetching initial configuration from Consul for serviceID: oauth[dc=eu-central,host=web-1,instance=master]
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.763 sec - in me.magnet.consultant.ConsultantTest
Running me.magnet.consultant.RoundRobinStrategyTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.012 sec - in me.magnet.consultant.RoundRobinStrategyTest

Results :

Tests run: 74, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:report (report) @ consultant ---
[INFO] Loading execution data file /tmp/tmp2q11vrop/consultant/target/jacoco.exec
[INFO] Analyzed bundle 'consultant' with 275 classes
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  36.575 s
[INFO] Finished at: 2020-07-30T22:50:02Z
[INFO] ------------------------------------------------------------------------
