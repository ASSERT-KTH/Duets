[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for io.appform.dropwizard.sharding:db-sharding-bundle:jar:1.3.13-8
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 214, column 15
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-javadoc-plugin is missing. @ line 226, column 15
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] Inspecting build with total of 1 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] 
[INFO] ---------< io.appform.dropwizard.sharding:db-sharding-bundle >----------
[INFO] Building Dropwizard Database Sharding Bundle 1.3.13-8
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (enforce-no-snapshots) @ db-sharding-bundle ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ db-sharding-bundle ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ db-sharding-bundle ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ db-sharding-bundle ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 35 source files to /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/target/classes
[INFO] /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/src/main/java/io/appform/dropwizard/sharding/dao/LookupDao.java: Some input files use or override a deprecated API.
[INFO] /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/src/main/java/io/appform/dropwizard/sharding/dao/LookupDao.java: Recompile with -Xlint:deprecation for details.
[INFO] /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/src/main/java/io/appform/dropwizard/sharding/dao/RelationalDao.java: /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/src/main/java/io/appform/dropwizard/sharding/dao/RelationalDao.java uses unchecked or unsafe operations.
[INFO] /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/src/main/java/io/appform/dropwizard/sharding/dao/RelationalDao.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ db-sharding-bundle ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.0:testCompile (default-testCompile) @ db-sharding-bundle ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 29 source files to /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/target/test-classes
[INFO] /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/src/test/java/io/appform/dropwizard/sharding/dao/CacheableLookupDaoTest.java: /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/src/test/java/io/appform/dropwizard/sharding/dao/CacheableLookupDaoTest.java uses unchecked or unsafe operations.
[INFO] /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/src/test/java/io/appform/dropwizard/sharding/dao/CacheableLookupDaoTest.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ db-sharding-bundle ---
[INFO] Surefire report directory: /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.appform.dropwizard.sharding.BalancedDBShardingBundleWithAnnotationTest
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [file:/tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/target/classes/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/jdbl/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]
[main] INFO org.eclipse.jetty.util.log - Logging initialized @2411ms to org.eclipse.jetty.util.log.Slf4jLog
[main] INFO org.reflections.Reflections - Reflections took 142 ms to scan 1 urls, producing 2 keys and 14 values 
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] INFO org.hibernate.Version - HHH000412: Hibernate Core {5.2.18.Final}
[main] INFO org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Audit, io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem, io.appform.dropwizard.sharding.dao.testdata.entities.Phone, io.appform.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.appform.dropwizard.sharding.dao.testdata.entities.TestEntity, io.appform.dropwizard.sharding.dao.testdata.entities.Transaction]
[main] INFO org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.4.3.Final
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Audit, io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem, io.appform.dropwizard.sharding.dao.testdata.entities.Phone, io.appform.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.appform.dropwizard.sharding.dao.testdata.entities.TestEntity, io.appform.dropwizard.sharding.dao.testdata.entities.Transaction]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO org.reflections.Reflections - Reflections took 9 ms to scan 1 urls, producing 2 keys and 14 values 
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Audit, io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem, io.appform.dropwizard.sharding.dao.testdata.entities.Phone, io.appform.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.appform.dropwizard.sharding.dao.testdata.entities.TestEntity, io.appform.dropwizard.sharding.dao.testdata.entities.Transaction]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Audit, io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem, io.appform.dropwizard.sharding.dao.testdata.entities.Phone, io.appform.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.appform.dropwizard.sharding.dao.testdata.entities.TestEntity, io.appform.dropwizard.sharding.dao.testdata.entities.Transaction]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    116602 nanoseconds spent acquiring 2 JDBC connections;
    77075 nanoseconds spent releasing 2 JDBC connections;
    10959561 nanoseconds spent preparing 3 JDBC statements;
    2232494 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    12403851 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    124396 nanoseconds spent acquiring 2 JDBC connections;
    79974 nanoseconds spent releasing 2 JDBC connections;
    476059 nanoseconds spent preparing 1 JDBC statements;
    279874 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    607431 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    113249 nanoseconds spent acquiring 2 JDBC connections;
    177449 nanoseconds spent releasing 2 JDBC connections;
    1153315 nanoseconds spent preparing 3 JDBC statements;
    2837635 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    11958040 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    108652 nanoseconds spent acquiring 2 JDBC connections;
    95479 nanoseconds spent releasing 2 JDBC connections;
    494699 nanoseconds spent preparing 1 JDBC statements;
    195337 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    4912392 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    48881 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    120258 nanoseconds spent acquiring 2 JDBC connections;
    73853 nanoseconds spent releasing 2 JDBC connections;
    173185 nanoseconds spent preparing 2 JDBC statements;
    509515 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1265109 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    13979 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    91816 nanoseconds spent acquiring 2 JDBC connections;
    72522 nanoseconds spent releasing 2 JDBC connections;
    63323 nanoseconds spent preparing 1 JDBC statements;
    165407 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    279432 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    10942 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    101567 nanoseconds spent acquiring 2 JDBC connections;
    79482 nanoseconds spent releasing 2 JDBC connections;
    447788 nanoseconds spent preparing 2 JDBC statements;
    294855 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    354036 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    11536 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    116002 nanoseconds spent acquiring 2 JDBC connections;
    99568 nanoseconds spent releasing 2 JDBC connections;
    2428593 nanoseconds spent preparing 1 JDBC statements;
    280816 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    389197 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    14222 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    96736 nanoseconds spent acquiring 2 JDBC connections;
    70173 nanoseconds spent releasing 2 JDBC connections;
    414821 nanoseconds spent preparing 2 JDBC statements;
    700277 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    2564430 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 1 collections);
    13212 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    96402 nanoseconds spent acquiring 2 JDBC connections;
    69171 nanoseconds spent releasing 2 JDBC connections;
    88902 nanoseconds spent preparing 1 JDBC statements;
    360452 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    325536 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    10879 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.849 sec - in io.appform.dropwizard.sharding.BalancedDBShardingBundleWithAnnotationTest
Running io.appform.dropwizard.sharding.LegacyDBShardingBundleWithNamespaceTest
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..498]=0, [499..999]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..498]=0, [499..999]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    91488 nanoseconds spent acquiring 2 JDBC connections;
    61265 nanoseconds spent releasing 2 JDBC connections;
    367853 nanoseconds spent preparing 3 JDBC statements;
    952077 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    530306 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    73351 nanoseconds spent acquiring 2 JDBC connections;
    63427 nanoseconds spent releasing 2 JDBC connections;
    319087 nanoseconds spent preparing 1 JDBC statements;
    123781 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    361327 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    85846 nanoseconds spent acquiring 2 JDBC connections;
    60945 nanoseconds spent releasing 2 JDBC connections;
    833856 nanoseconds spent preparing 3 JDBC statements;
    832260 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    3207199 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    71564 nanoseconds spent acquiring 2 JDBC connections;
    69975 nanoseconds spent releasing 2 JDBC connections;
    277487 nanoseconds spent preparing 1 JDBC statements;
    130192 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    261821 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    10344 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    70339 nanoseconds spent acquiring 2 JDBC connections;
    95832 nanoseconds spent releasing 2 JDBC connections;
    97852 nanoseconds spent preparing 2 JDBC statements;
    412636 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1004975 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    10335 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    85977 nanoseconds spent acquiring 2 JDBC connections;
    79419 nanoseconds spent releasing 2 JDBC connections;
    88752 nanoseconds spent preparing 1 JDBC statements;
    176687 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    315366 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    12379 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    77744 nanoseconds spent acquiring 2 JDBC connections;
    73840 nanoseconds spent releasing 2 JDBC connections;
    397707 nanoseconds spent preparing 2 JDBC statements;
    254192 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    2088828 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    10032 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    102926 nanoseconds spent acquiring 2 JDBC connections;
    61311 nanoseconds spent releasing 2 JDBC connections;
    588391 nanoseconds spent preparing 1 JDBC statements;
    507274 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    386829 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    10646 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    105788 nanoseconds spent acquiring 2 JDBC connections;
    82778 nanoseconds spent releasing 2 JDBC connections;
    237205 nanoseconds spent preparing 2 JDBC statements;
    822986 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1947976 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 1 collections);
    13557 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    77742 nanoseconds spent acquiring 2 JDBC connections;
    56528 nanoseconds spent releasing 2 JDBC connections;
    62183 nanoseconds spent preparing 1 JDBC statements;
    207794 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    375874 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    11809 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.287 sec - in io.appform.dropwizard.sharding.LegacyDBShardingBundleWithNamespaceTest
Running io.appform.dropwizard.sharding.BalancedDBShardingBundleWithNamespaceTest
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    87435 nanoseconds spent acquiring 2 JDBC connections;
    52136 nanoseconds spent releasing 2 JDBC connections;
    329723 nanoseconds spent preparing 3 JDBC statements;
    965073 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    594330 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    75160 nanoseconds spent acquiring 2 JDBC connections;
    57971 nanoseconds spent releasing 2 JDBC connections;
    298667 nanoseconds spent preparing 1 JDBC statements;
    133738 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    306816 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    77898 nanoseconds spent acquiring 2 JDBC connections;
    57452 nanoseconds spent releasing 2 JDBC connections;
    500726 nanoseconds spent preparing 3 JDBC statements;
    790629 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    5324986 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    107281 nanoseconds spent acquiring 2 JDBC connections;
    50199 nanoseconds spent releasing 2 JDBC connections;
    305766 nanoseconds spent preparing 1 JDBC statements;
    120994 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    265844 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    12839 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    91278 nanoseconds spent acquiring 2 JDBC connections;
    56640 nanoseconds spent releasing 2 JDBC connections;
    95328 nanoseconds spent preparing 2 JDBC statements;
    440927 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1061131 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    10422 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    68080 nanoseconds spent acquiring 2 JDBC connections;
    50562 nanoseconds spent releasing 2 JDBC connections;
    71241 nanoseconds spent preparing 1 JDBC statements;
    164644 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    345603 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    10334 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    72459 nanoseconds spent acquiring 2 JDBC connections;
    52395 nanoseconds spent releasing 2 JDBC connections;
    331181 nanoseconds spent preparing 2 JDBC statements;
    229299 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    2628726 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    10564 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    79960 nanoseconds spent acquiring 2 JDBC connections;
    53111 nanoseconds spent releasing 2 JDBC connections;
    503817 nanoseconds spent preparing 1 JDBC statements;
    204109 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    295465 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    10769 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    71230 nanoseconds spent acquiring 2 JDBC connections;
    49172 nanoseconds spent releasing 2 JDBC connections;
    96928 nanoseconds spent preparing 2 JDBC statements;
    455173 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    930338 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 1 collections);
    10794 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    78717 nanoseconds spent acquiring 2 JDBC connections;
    55385 nanoseconds spent releasing 2 JDBC connections;
    47002 nanoseconds spent preparing 1 JDBC statements;
    198063 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    415269 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    9861 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.342 sec - in io.appform.dropwizard.sharding.BalancedDBShardingBundleWithNamespaceTest
Running io.appform.dropwizard.sharding.LegacyDBShardingBundleWithAnnotationTest
[main] INFO org.reflections.Reflections - Reflections took 11 ms to scan 1 urls, producing 2 keys and 14 values 
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..498]=0, [499..999]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Audit, io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem, io.appform.dropwizard.sharding.dao.testdata.entities.Phone, io.appform.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.appform.dropwizard.sharding.dao.testdata.entities.TestEntity, io.appform.dropwizard.sharding.dao.testdata.entities.Transaction]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Audit, io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem, io.appform.dropwizard.sharding.dao.testdata.entities.Phone, io.appform.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.appform.dropwizard.sharding.dao.testdata.entities.TestEntity, io.appform.dropwizard.sharding.dao.testdata.entities.Transaction]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO org.reflections.Reflections - Reflections took 5 ms to scan 1 urls, producing 2 keys and 14 values 
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..498]=0, [499..999]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Audit, io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem, io.appform.dropwizard.sharding.dao.testdata.entities.Phone, io.appform.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.appform.dropwizard.sharding.dao.testdata.entities.TestEntity, io.appform.dropwizard.sharding.dao.testdata.entities.Transaction]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Audit, io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem, io.appform.dropwizard.sharding.dao.testdata.entities.Phone, io.appform.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.appform.dropwizard.sharding.dao.testdata.entities.TestEntity, io.appform.dropwizard.sharding.dao.testdata.entities.Transaction]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    92829 nanoseconds spent acquiring 2 JDBC connections;
    44366 nanoseconds spent releasing 2 JDBC connections;
    379957 nanoseconds spent preparing 3 JDBC statements;
    766619 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    499719 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    67748 nanoseconds spent acquiring 2 JDBC connections;
    33219 nanoseconds spent releasing 2 JDBC connections;
    361909 nanoseconds spent preparing 1 JDBC statements;
    143080 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    246442 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    58907 nanoseconds spent acquiring 2 JDBC connections;
    37396 nanoseconds spent releasing 2 JDBC connections;
    308316 nanoseconds spent preparing 3 JDBC statements;
    13356770 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    14872747 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    55036 nanoseconds spent acquiring 2 JDBC connections;
    33785 nanoseconds spent releasing 2 JDBC connections;
    214700 nanoseconds spent preparing 1 JDBC statements;
    95794 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    222457 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    10432 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    73241 nanoseconds spent acquiring 2 JDBC connections;
    59173 nanoseconds spent releasing 2 JDBC connections;
    102117 nanoseconds spent preparing 2 JDBC statements;
    12694625 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1821107 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    9973 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    78168 nanoseconds spent acquiring 2 JDBC connections;
    36181 nanoseconds spent releasing 2 JDBC connections;
    46982 nanoseconds spent preparing 1 JDBC statements;
    119239 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    221905 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    11286 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    64020 nanoseconds spent acquiring 2 JDBC connections;
    40624 nanoseconds spent releasing 2 JDBC connections;
    271118 nanoseconds spent preparing 2 JDBC statements;
    198456 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    321062 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    10210 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    68748 nanoseconds spent acquiring 2 JDBC connections;
    37614 nanoseconds spent releasing 2 JDBC connections;
    432600 nanoseconds spent preparing 1 JDBC statements;
    236435 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    284581 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    10824 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    63947 nanoseconds spent acquiring 2 JDBC connections;
    38015 nanoseconds spent releasing 2 JDBC connections;
    89540 nanoseconds spent preparing 2 JDBC statements;
    423350 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    895492 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 1 collections);
    10132 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    66609 nanoseconds spent acquiring 2 JDBC connections;
    37308 nanoseconds spent releasing 2 JDBC connections;
    37906 nanoseconds spent preparing 1 JDBC statements;
    166161 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    262660 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    10003 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.578 sec - in io.appform.dropwizard.sharding.LegacyDBShardingBundleWithAnnotationTest
Running io.appform.dropwizard.sharding.BalancedDBShardingBundleWithEntityTest
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..498]=0, [499..999]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..498]=0, [499..999]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    70980 nanoseconds spent acquiring 2 JDBC connections;
    25498 nanoseconds spent releasing 2 JDBC connections;
    269036 nanoseconds spent preparing 3 JDBC statements;
    5655419 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    567364 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    68229 nanoseconds spent acquiring 2 JDBC connections;
    21652 nanoseconds spent releasing 2 JDBC connections;
    244145 nanoseconds spent preparing 1 JDBC statements;
    109542 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    278044 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    71370 nanoseconds spent acquiring 2 JDBC connections;
    25667 nanoseconds spent releasing 2 JDBC connections;
    346186 nanoseconds spent preparing 3 JDBC statements;
    504802 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    2637605 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    61497 nanoseconds spent acquiring 2 JDBC connections;
    20999 nanoseconds spent releasing 2 JDBC connections;
    203312 nanoseconds spent preparing 1 JDBC statements;
    81490 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    278981 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    11276 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    57584 nanoseconds spent acquiring 2 JDBC connections;
    20055 nanoseconds spent releasing 2 JDBC connections;
    76901 nanoseconds spent preparing 2 JDBC statements;
    306788 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    779074 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    9770 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    51480 nanoseconds spent acquiring 2 JDBC connections;
    18248 nanoseconds spent releasing 2 JDBC connections;
    34203 nanoseconds spent preparing 1 JDBC statements;
    93661 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    231691 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    9899 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    82541 nanoseconds spent acquiring 2 JDBC connections;
    22613 nanoseconds spent releasing 2 JDBC connections;
    259340 nanoseconds spent preparing 2 JDBC statements;
    167509 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    319728 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    12885 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    94825 nanoseconds spent acquiring 2 JDBC connections;
    25396 nanoseconds spent releasing 2 JDBC connections;
    2081682 nanoseconds spent preparing 1 JDBC statements;
    179592 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    263984 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    13463 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    119455 nanoseconds spent acquiring 2 JDBC connections;
    26357 nanoseconds spent releasing 2 JDBC connections;
    108426 nanoseconds spent preparing 2 JDBC statements;
    389608 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    868539 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 1 collections);
    12421 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    46979 nanoseconds spent acquiring 2 JDBC connections;
    17320 nanoseconds spent releasing 2 JDBC connections;
    36993 nanoseconds spent preparing 1 JDBC statements;
    161700 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    239010 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    10169 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.307 sec - in io.appform.dropwizard.sharding.BalancedDBShardingBundleWithEntityTest
Running io.appform.dropwizard.sharding.LegacyDBShardingBundleWithEntityTest
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..498]=0, [499..999]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..498]=0, [499..999]=1]
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.dropwizard.hibernate.SessionFactoryFactory - Entity classes: [io.appform.dropwizard.sharding.dao.testdata.entities.Order, io.appform.dropwizard.sharding.dao.testdata.entities.OrderItem]
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@73128b78
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@61c1539e
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@5233a315
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@7624ed3d
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@118ae1ca
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@7a3c0dc6
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@35d8229f
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@64c47c1c
[main] INFO org.hibernate.type.BasicTypeRegistry - HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@228655ff
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    69926 nanoseconds spent acquiring 2 JDBC connections;
    23244 nanoseconds spent releasing 2 JDBC connections;
    701905 nanoseconds spent preparing 3 JDBC statements;
    589681 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    478587 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    68385 nanoseconds spent acquiring 2 JDBC connections;
    20679 nanoseconds spent releasing 2 JDBC connections;
    204776 nanoseconds spent preparing 1 JDBC statements;
    91571 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    263628 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    66184 nanoseconds spent acquiring 2 JDBC connections;
    22038 nanoseconds spent releasing 2 JDBC connections;
    325789 nanoseconds spent preparing 3 JDBC statements;
    450270 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1916438 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    68563 nanoseconds spent acquiring 2 JDBC connections;
    22176 nanoseconds spent releasing 2 JDBC connections;
    197215 nanoseconds spent preparing 1 JDBC statements;
    87276 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    231653 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    13121 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    75361 nanoseconds spent acquiring 2 JDBC connections;
    22909 nanoseconds spent releasing 2 JDBC connections;
    133183 nanoseconds spent preparing 2 JDBC statements;
    305977 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    850823 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    17188 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    75857 nanoseconds spent acquiring 2 JDBC connections;
    24031 nanoseconds spent releasing 2 JDBC connections;
    11225491 nanoseconds spent preparing 1 JDBC statements;
    115026 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    241665 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    14737 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    70899 nanoseconds spent acquiring 2 JDBC connections;
    23421 nanoseconds spent releasing 2 JDBC connections;
    253697 nanoseconds spent preparing 2 JDBC statements;
    172722 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    324455 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    11493 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    56349 nanoseconds spent acquiring 2 JDBC connections;
    22739 nanoseconds spent releasing 2 JDBC connections;
    391898 nanoseconds spent preparing 1 JDBC statements;
    168470 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    268519 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    11006 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    70859 nanoseconds spent acquiring 2 JDBC connections;
    23457 nanoseconds spent releasing 2 JDBC connections;
    97787 nanoseconds spent preparing 2 JDBC statements;
    4121021 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1062078 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 1 collections);
    12447 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
[main] INFO org.hibernate.engine.internal.StatisticalLoggingSessionEventListener - Session Metrics {
    77551 nanoseconds spent acquiring 2 JDBC connections;
    22745 nanoseconds spent releasing 2 JDBC connections;
    44621 nanoseconds spent preparing 1 JDBC statements;
    173550 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    259713 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    11926 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.245 sec - in io.appform.dropwizard.sharding.LegacyDBShardingBundleWithEntityTest
Running io.appform.dropwizard.sharding.dao.WrapperDaoTest
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@54277081] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@27e74960] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5c024753] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6d46bd78] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.152 sec - in io.appform.dropwizard.sharding.dao.WrapperDaoTest
Running io.appform.dropwizard.sharding.dao.RelationalDaoTest
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@c18d63c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@24e49fd6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4aab5a9e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@749a687f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_2]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@390a2f60] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3492979d] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_3]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@63c1f7a1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@19944fd7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_4]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@27931e5e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1c1ef0fe] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_5]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@9e9ed77] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@381720ba] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_6]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@13778e0a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@27c42d92] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_7]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@d474f22] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@39053bab] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_8]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5239e578] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@11fabdef] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_9]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@64cd08d7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@38677f09] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_10]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7a7b79a6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@43fe562f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_11]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7395e4e1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@63e529f2] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_12]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@500aec06] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@425f0db9] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_13]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@38621130] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2785aeb1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_14]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@78ba97dc] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@45015dd6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_15]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6fc4f23c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@61f92da4] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..63]=0, [64..127]=1, [128..191]=2, [192..255]=3, [256..319]=4, [320..383]=5, [384..447]=6, [448..511]=7, [512..575]=8, [576..639]=9, [640..703]=10, [704..767]=11, [768..831]=12, [832..895]=13, [896..959]=14, [960..1023]=15]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_2]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_2
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_3]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_3
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_4]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_4
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_5]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_5
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_6]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_6
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_7]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_7
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_8]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_8
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_9]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_9
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_10]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_10
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_11]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_11
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_12]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_12
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_13]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_13
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_14]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_14
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_15]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_15
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.541 sec - in io.appform.dropwizard.sharding.dao.RelationalDaoTest
Running io.appform.dropwizard.sharding.dao.LookupDaoTest
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ec3650] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1cbd44f3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@59c9ad9a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@705bb1ed] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
Hibernate: 
    select
        transactio_.transaction_id,
        transactio_.amount as amount2_3_,
        transactio_.phone_id as phone_id4_3_,
        transactio_.to as to3_3_ 
    from
        transactions transactio_ 
    where
        transactio_.transaction_id=?
Hibernate: 
    insert 
    into
        transactions
        (amount, phone_id, to, transaction_id) 
    values
        (?, ?, ?, ?)
Hibernate: 
    insert 
    into
        audits
        (id, text, transaction_id) 
    values
        (null, ?, ?)
Hibernate: 
    insert 
    into
        audits
        (id, text, transaction_id) 
    values
        (null, ?, ?)
Hibernate: 
    select
        transactio_.transaction_id,
        transactio_.amount as amount2_3_,
        transactio_.phone_id as phone_id4_3_,
        transactio_.to as to3_3_ 
    from
        transactions transactio_ 
    where
        transactio_.transaction_id=?
Hibernate: 
    insert 
    into
        transactions
        (amount, phone_id, to, transaction_id) 
    values
        (?, ?, ?, ?)
Hibernate: 
    insert 
    into
        audits
        (id, text, transaction_id) 
    values
        (null, ?, ?)
Hibernate: 
    insert 
    into
        audits
        (id, text, transaction_id) 
    values
        (null, ?, ?)
Hibernate: 
    select
        this_.id as id1_0_2_,
        this_.text as text2_0_2_,
        this_.transaction_id as transact3_0_2_,
        transactio2_.transaction_id as transact1_3_0_,
        transactio2_.amount as amount2_3_0_,
        transactio2_.phone_id as phone_id4_3_0_,
        transactio2_.to as to3_3_0_,
        phone3_.id as id1_1_1_,
        phone3_.phone as phone2_1_1_ 
    from
        audits this_ 
    left outer join
        transactions transactio2_ 
            on this_.transaction_id=transactio2_.transaction_id 
    left outer join
        phones phone3_ 
            on transactio2_.phone_id=phone3_.id 
    where
        this_.transaction_id=? limit ?
Hibernate: 
    select
        this_.id as id1_0_2_,
        this_.text as text2_0_2_,
        this_.transaction_id as transact3_0_2_,
        transactio2_.transaction_id as transact1_3_0_,
        transactio2_.amount as amount2_3_0_,
        transactio2_.phone_id as phone_id4_3_0_,
        transactio2_.to as to3_3_0_,
        phone3_.id as id1_1_1_,
        phone3_.phone as phone2_1_1_ 
    from
        audits this_ 
    left outer join
        transactions transactio2_ 
            on this_.transaction_id=transactio2_.transaction_id 
    left outer join
        phones phone3_ 
            on transactio2_.phone_id=phone3_.id limit ?
Hibernate: 
    select
        this_.id as id1_0_2_,
        this_.text as text2_0_2_,
        this_.transaction_id as transact3_0_2_,
        transactio2_.transaction_id as transact1_3_0_,
        transactio2_.amount as amount2_3_0_,
        transactio2_.phone_id as phone_id4_3_0_,
        transactio2_.to as to3_3_0_,
        phone3_.id as id1_1_1_,
        phone3_.phone as phone2_1_1_ 
    from
        audits this_ 
    left outer join
        transactions transactio2_ 
            on this_.transaction_id=transactio2_.transaction_id 
    left outer join
        phones phone3_ 
            on transactio2_.phone_id=phone3_.id limit ?
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@13f443e8] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2fa29b32] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1eba2f5f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@13ffcb99] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
Hibernate: 
    select
        count(*) as y0_ 
    from
        test_entity this_ 
    where
        this_.text=?
Hibernate: 
    select
        count(*) as y0_ 
    from
        test_entity this_ 
    where
        this_.text=?
Hibernate: 
    select
        testentity_.ext_id,
        testentity_.text as text2_2_ 
    from
        test_entity testentity_ 
    where
        testentity_.ext_id=?
Hibernate: 
    insert 
    into
        test_entity
        (text, ext_id) 
    values
        (?, ?)
Hibernate: 
    select
        testentity_.ext_id,
        testentity_.text as text2_2_ 
    from
        test_entity testentity_ 
    where
        testentity_.ext_id=?
Hibernate: 
    insert 
    into
        test_entity
        (text, ext_id) 
    values
        (?, ?)
Hibernate: 
    select
        count(*) as y0_ 
    from
        test_entity this_ 
    where
        this_.text=?
Hibernate: 
    select
        count(*) as y0_ 
    from
        test_entity this_ 
    where
        this_.text=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=? for update
            
Hibernate: 
    delete 
    from
        test_entity 
    where
        ext_id=?
Hibernate: 
    select
        count(*) as y0_ 
    from
        test_entity this_ 
    where
        this_.text=?
Hibernate: 
    select
        count(*) as y0_ 
    from
        test_entity this_ 
    where
        this_.text=?
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5a2ad61] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5259f1e5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5fbb0b8f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6099c9b2] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
Hibernate: 
    select
        testentity_.ext_id,
        testentity_.text as text2_2_ 
    from
        test_entity testentity_ 
    where
        testentity_.ext_id=?
Hibernate: 
    insert 
    into
        test_entity
        (text, ext_id) 
    values
        (?, ?)
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
Hibernate: 
    select
        testentity_.ext_id,
        testentity_.text as text2_2_ 
    from
        test_entity testentity_ 
    where
        testentity_.ext_id=?
Hibernate: 
    update
        test_entity 
    set
        text=? 
    where
        ext_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
Hibernate: 
    update
        test_entity 
    set
        text=? 
    where
        ext_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@58d79a3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@39e5bbf7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@727b6abf] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@695ad870] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
Hibernate: 
    select
        testentity_.ext_id,
        testentity_.text as text2_2_ 
    from
        test_entity testentity_ 
    where
        testentity_.ext_id=?
Hibernate: 
    insert 
    into
        test_entity
        (text, ext_id) 
    values
        (?, ?)
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5473efcd] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4064bb33] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@777e9e69] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@77fcc6ae] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id in (
            ?
        )
Hibernate: 
    select
        testentity_.ext_id,
        testentity_.text as text2_2_ 
    from
        test_entity testentity_ 
    where
        testentity_.ext_id=?
Hibernate: 
    insert 
    into
        test_entity
        (text, ext_id) 
    values
        (?, ?)
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id in (
            ?
        )
Hibernate: 
    select
        testentity_.ext_id,
        testentity_.text as text2_2_ 
    from
        test_entity testentity_ 
    where
        testentity_.ext_id=?
Hibernate: 
    insert 
    into
        test_entity
        (text, ext_id) 
    values
        (?, ?)
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id in (
            ?, ?
        )
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@162bc2e6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@69e91a1d] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7e768f40] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@9d51ac2] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
Hibernate: 
    insert 
    into
        phones
        (id, phone) 
    values
        (null, ?)
Hibernate: 
    select
        transactio_.transaction_id,
        transactio_.amount as amount2_3_,
        transactio_.phone_id as phone_id4_3_,
        transactio_.to as to3_3_ 
    from
        transactions transactio_ 
    where
        transactio_.transaction_id=?
Hibernate: 
    insert 
    into
        transactions
        (amount, phone_id, to, transaction_id) 
    values
        (?, ?, ?, ?)
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.transaction_id as transact1_3_1_,
        this_.amount as amount2_3_1_,
        this_.phone_id as phone_id4_3_1_,
        this_.to as to3_3_1_,
        phone2_.id as id1_1_0_,
        phone2_.phone as phone2_1_0_ 
    from
        transactions this_ 
    left outer join
        phones phone2_ 
            on this_.phone_id=phone2_.id 
    where
        this_.transaction_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.transaction_id as transact1_3_1_,
        this_.amount as amount2_3_1_,
        this_.phone_id as phone_id4_3_1_,
        this_.to as to3_3_1_,
        phone2_.id as id1_1_0_,
        phone2_.phone as phone2_1_0_ 
    from
        transactions this_ 
    left outer join
        phones phone2_ 
            on this_.phone_id=phone2_.id 
    where
        this_.transaction_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.transaction_id as transact1_3_1_,
        this_.amount as amount2_3_1_,
        this_.phone_id as phone_id4_3_1_,
        this_.to as to3_3_1_,
        phone2_.id as id1_1_0_,
        phone2_.phone as phone2_1_0_ 
    from
        transactions this_ 
    left outer join
        phones phone2_ 
            on this_.phone_id=phone2_.id 
    where
        this_.transaction_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.transaction_id as transact1_3_1_,
        this_.amount as amount2_3_1_,
        this_.phone_id as phone_id4_3_1_,
        this_.to as to3_3_1_,
        phone2_.id as id1_1_0_,
        phone2_.phone as phone2_1_0_ 
    from
        transactions this_ 
    left outer join
        phones phone2_ 
            on this_.phone_id=phone2_.id 
    where
        this_.transaction_id=?
Hibernate: 
    select
        transactio_.transaction_id,
        transactio_.amount as amount2_3_,
        transactio_.phone_id as phone_id4_3_,
        transactio_.to as to3_3_ 
    from
        transactions transactio_ 
    where
        transactio_.transaction_id=?
Hibernate: 
    insert 
    into
        audits
        (id, text, transaction_id) 
    values
        (null, ?, ?)
Hibernate: 
    select
        transactio_.transaction_id,
        transactio_.amount as amount2_3_,
        transactio_.phone_id as phone_id4_3_,
        transactio_.to as to3_3_ 
    from
        transactions transactio_ 
    where
        transactio_.transaction_id=?
Hibernate: 
    insert 
    into
        audits
        (id, text, transaction_id) 
    values
        (null, ?, ?)
Hibernate: 
    select
        transactio_.transaction_id,
        transactio_.amount as amount2_3_,
        transactio_.phone_id as phone_id4_3_,
        transactio_.to as to3_3_ 
    from
        transactions transactio_ 
    where
        transactio_.transaction_id=?
Hibernate: 
    insert 
    into
        audits
        (id, text, transaction_id) 
    values
        (null, ?, ?)
Hibernate: 
    select
        count(*) as y0_ 
    from
        audits this_ 
    where
        this_.transaction_id=?
Hibernate: 
    select
        this_.id as id1_0_2_,
        this_.text as text2_0_2_,
        this_.transaction_id as transact3_0_2_,
        transactio2_.transaction_id as transact1_3_0_,
        transactio2_.amount as amount2_3_0_,
        transactio2_.phone_id as phone_id4_3_0_,
        transactio2_.to as to3_3_0_,
        phone3_.id as id1_1_1_,
        phone3_.phone as phone2_1_1_ 
    from
        audits this_ 
    left outer join
        transactions transactio2_ 
            on this_.transaction_id=transactio2_.transaction_id 
    left outer join
        phones phone3_ 
            on transactio2_.phone_id=phone3_.id 
    where
        this_.transaction_id=? limit ?
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@57c5f175] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@16b19909] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
Hibernate: 
    
    drop table audits if exists
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@205ce235] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table phones if exists
Hibernate: 
    
    drop table test_entity if exists
Hibernate: 
    
    drop table transactions if exists
Hibernate: 
    
    create table audits (
       id bigint generated by default as identity,
        text varchar(255),
        transaction_id varchar(255),
        primary key (id)
    )
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@113e24cd] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table phones (
       id bigint generated by default as identity,
        phone varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    
    create table test_entity (
       ext_id varchar(255) not null,
        text varchar(255) not null,
        primary key (ext_id)
    )
Hibernate: 
    
    create table transactions (
       transaction_id varchar(255) not null,
        amount double,
        to varchar(255) not null,
        phone_id bigint,
        primary key (transaction_id)
    )
Hibernate: 
    
    alter table phones 
       add constraint UK_9xh37c21j9wy1fysb709a8k48 unique (phone)
Hibernate: 
    
    alter table audits 
       add constraint FKkf797u3xyfmu8mkywroxefn4d 
       foreign key (transaction_id) 
       references transactions
Hibernate: 
    
    alter table transactions 
       add constraint FKp5axogl1yyal10uu4x1d0bslh 
       foreign key (phone_id) 
       references phones
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
Hibernate: 
    select
        testentity_.ext_id,
        testentity_.text as text2_2_ 
    from
        test_entity testentity_ 
    where
        testentity_.ext_id=?
Hibernate: 
    insert 
    into
        test_entity
        (text, ext_id) 
    values
        (?, ?)
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=? for update
            
Hibernate: 
    delete 
    from
        test_entity 
    where
        ext_id=?
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: 
    select
        this_.ext_id as ext_id1_2_0_,
        this_.text as text2_2_0_ 
    from
        test_entity this_ 
    where
        this_.ext_id=?
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.303 sec - in io.appform.dropwizard.sharding.dao.LookupDaoTest
Running io.appform.dropwizard.sharding.dao.locktest.LockTest
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7a351051] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@511266c5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@566e5c99] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2e1da05c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
[main] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Unique index or primary key violation: "UK_1MSTC0JLTB8BHUGNF1J5EV1TF_INDEX_1 ON PUBLIC.SOME_TABLE(MY_ID) VALUES ('0', 1)"; SQL statement:
insert into some_table (id, my_id, name) values (null, ?, ?) [23505-196]
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@147c023] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@38055047] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7f3894e5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3f9f8488] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@77e96497] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@11465fd8] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@39db8a43] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@700714fe] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7309368a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@70a1e782] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4441d906] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@75ec3734] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@386caf85] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2fc0aa65] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@38e350e8] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ef75c3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2fbba454] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@26353025] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@68070e79] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@27cb8ea1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@86ba7b4] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@39d9a6d7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@273d3665] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@f951082] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@41f89bca] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@256dcf9c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@701d134f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@102355af] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3952b4e7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@61d1042c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@53c166cc] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@70783e99] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.95 sec - in io.appform.dropwizard.sharding.dao.locktest.LockTest
Running io.appform.dropwizard.sharding.dao.CacheableLookupDaoTest
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1ccb9bb9] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4b43ee03] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1fe68ca6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2d09bc9b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@46f7ea1c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5cd865cf] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7b391a6b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@116bc1a5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@263d8ef5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@360090f6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@496fcd34] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3623c467] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7a8cf65f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2eb6332a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] WARN org.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
[main] INFO org.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
[main] INFO org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {}
[main] INFO org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[main] INFO org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)
[main] INFO org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2b0d0ef] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@23f9e962] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[main] INFO org.hibernate.tool.schema.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@55764e19'
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..511]=0, [512..1023]=1]
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] WARN org.hibernate.orm.deprecation - HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
[main] INFO org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
[main] ERROR org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl - Connection leak detected: there are 5 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.51 sec - in io.appform.dropwizard.sharding.dao.CacheableLookupDaoTest
Running io.appform.dropwizard.sharding.ShardInfoProviderTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.appform.dropwizard.sharding.ShardInfoProviderTest
Running io.appform.dropwizard.sharding.sharding.ShardManagerTest
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..123]=0, [124..247]=1, [248..371]=2, [372..495]=3, [496..619]=4, [620..743]=5, [744..867]=6, [868..999]=7]
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..123]=0, [124..247]=1, [248..371]=2, [372..495]=3, [496..619]=4, [620..743]=5, [744..867]=6, [868..999]=7]
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.992 sec - in io.appform.dropwizard.sharding.sharding.ShardManagerTest
Running io.appform.dropwizard.sharding.sharding.LegacyShardManagerTest
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..30]=0, [31..61]=1, [62..92]=2, [93..123]=3, [124..154]=4, [155..185]=5, [186..216]=6, [217..247]=7, [248..278]=8, [279..309]=9, [310..340]=10, [341..371]=11, [372..402]=12, [403..433]=13, [434..464]=14, [465..495]=15, [496..526]=16, [527..557]=17, [558..588]=18, [589..619]=19, [620..650]=20, [651..681]=21, [682..712]=22, [713..743]=23, [744..774]=24, [775..805]=25, [806..836]=26, [837..867]=27, [868..898]=28, [899..929]=29, [930..960]=30, [961..999]=31]
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..61]=0, [62..123]=1, [124..185]=2, [186..247]=3, [248..309]=4, [310..371]=5, [372..433]=6, [434..495]=7, [496..557]=8, [558..619]=9, [620..681]=10, [682..743]=11, [744..805]=12, [806..867]=13, [868..929]=14, [930..999]=15]
[main] INFO io.appform.dropwizard.sharding.sharding.LegacyShardManager - Buckets to shard allocation: [[0..14]=0, [15..29]=1, [30..44]=2, [45..59]=3, [60..74]=4, [75..89]=5, [90..104]=6, [105..119]=7, [120..134]=8, [135..149]=9, [150..164]=10, [165..179]=11, [180..194]=12, [195..209]=13, [210..224]=14, [225..239]=15, [240..254]=16, [255..269]=17, [270..284]=18, [285..299]=19, [300..314]=20, [315..329]=21, [330..344]=22, [345..359]=23, [360..374]=24, [375..389]=25, [390..404]=26, [405..419]=27, [420..434]=28, [435..449]=29, [450..464]=30, [465..479]=31, [480..494]=32, [495..509]=33, [510..524]=34, [525..539]=35, [540..554]=36, [555..569]=37, [570..584]=38, [585..599]=39, [600..614]=40, [615..629]=41, [630..644]=42, [645..659]=43, [660..674]=44, [675..689]=45, [690..704]=46, [705..719]=47, [720..734]=48, [735..749]=49, [750..764]=50, [765..779]=51, [780..794]=52, [795..809]=53, [810..824]=54, [825..839]=55, [840..854]=56, [855..869]=57, [870..884]=58, [885..899]=59, [900..914]=60, [915..929]=61, [930..944]=62, [945..999]=63]
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec - in io.appform.dropwizard.sharding.sharding.LegacyShardManagerTest
Running io.appform.dropwizard.sharding.sharding.BalancedShardManagerTest
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..31]=0, [32..63]=1, [64..95]=2, [96..127]=3, [128..159]=4, [160..191]=5, [192..223]=6, [224..255]=7, [256..287]=8, [288..319]=9, [320..351]=10, [352..383]=11, [384..415]=12, [416..447]=13, [448..479]=14, [480..511]=15, [512..543]=16, [544..575]=17, [576..607]=18, [608..639]=19, [640..671]=20, [672..703]=21, [704..735]=22, [736..767]=23, [768..799]=24, [800..831]=25, [832..863]=26, [864..895]=27, [896..927]=28, [928..959]=29, [960..991]=30, [992..1023]=31]
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..15]=0, [16..31]=1, [32..47]=2, [48..63]=3, [64..79]=4, [80..95]=5, [96..111]=6, [112..127]=7, [128..143]=8, [144..159]=9, [160..175]=10, [176..191]=11, [192..207]=12, [208..223]=13, [224..239]=14, [240..255]=15, [256..271]=16, [272..287]=17, [288..303]=18, [304..319]=19, [320..335]=20, [336..351]=21, [352..367]=22, [368..383]=23, [384..399]=24, [400..415]=25, [416..431]=26, [432..447]=27, [448..463]=28, [464..479]=29, [480..495]=30, [496..511]=31, [512..527]=32, [528..543]=33, [544..559]=34, [560..575]=35, [576..591]=36, [592..607]=37, [608..623]=38, [624..639]=39, [640..655]=40, [656..671]=41, [672..687]=42, [688..703]=43, [704..719]=44, [720..735]=45, [736..751]=46, [752..767]=47, [768..783]=48, [784..799]=49, [800..815]=50, [816..831]=51, [832..847]=52, [848..863]=53, [864..879]=54, [880..895]=55, [896..911]=56, [912..927]=57, [928..943]=58, [944..959]=59, [960..975]=60, [976..991]=61, [992..1007]=62, [1008..1023]=63]
[main] INFO io.appform.dropwizard.sharding.sharding.BalancedShardManager - Buckets to shard allocation: [[0..63]=0, [64..127]=1, [128..191]=2, [192..255]=3, [256..319]=4, [320..383]=5, [384..447]=6, [448..511]=7, [512..575]=8, [576..639]=9, [640..703]=10, [704..767]=11, [768..831]=12, [832..895]=13, [896..959]=14, [960..1023]=15]
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in io.appform.dropwizard.sharding.sharding.BalancedShardManagerTest

Results :

Tests run: 51, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:report (report) @ db-sharding-bundle ---
[INFO] Loading execution data file /tmp/tmpxw3l80tm/dropwizard-db-sharding-bundle/target/jacoco.exec
[INFO] Analyzed bundle 'Dropwizard Database Sharding Bundle' with 2546 classes
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  57.041 s
[INFO] Finished at: 2020-07-30T20:54:28Z
[INFO] ------------------------------------------------------------------------
