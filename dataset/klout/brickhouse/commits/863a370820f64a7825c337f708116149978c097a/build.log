[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for com.klout:brickhouse:jar:0.7.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 79, column 15
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-jar-plugin is missing. @ line 87, column 15
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 113, column 15
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-javadoc-plugin is missing. @ line 99, column 15
[WARNING] Reporting configuration should be done in <reporting> section, not in maven-site-plugin <configuration> as reportPlugins parameter. @ line 47, column 24
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] 
[INFO] ------------------------< com.klout:brickhouse >------------------------
[INFO] Building Brickhouse 0.7.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[WARNING] Could not transfer metadata asm:asm/maven-metadata.xml from/to local.repository (file:../../local.repository/trunk): Cannot access file:../../local.repository/trunk with type legacy using the available connector factories: BasicRepositoryConnectorFactory
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ brickhouse ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmpj53tynzy/brickhouse/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ brickhouse ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ brickhouse ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 103 source files to /tmp/tmpj53tynzy/brickhouse/target/classes
[WARNING] /tmp/tmpj53tynzy/brickhouse/src/main/java/brickhouse/hive/hook/PrintQueryHook.java: /tmp/tmpj53tynzy/brickhouse/src/main/java/brickhouse/hive/hook/PrintQueryHook.java uses or overrides a deprecated API.
[WARNING] /tmp/tmpj53tynzy/brickhouse/src/main/java/brickhouse/hive/hook/PrintQueryHook.java: Recompile with -Xlint:deprecation for details.
[WARNING] /tmp/tmpj53tynzy/brickhouse/src/main/java/brickhouse/udf/json/InspectorHandle.java: Some input files use unchecked or unsafe operations.
[WARNING] /tmp/tmpj53tynzy/brickhouse/src/main/java/brickhouse/udf/json/InspectorHandle.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ brickhouse ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ brickhouse ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 10 source files to /tmp/tmpj53tynzy/brickhouse/target/test-classes
[WARNING] /tmp/tmpj53tynzy/brickhouse/src/test/java/brickhouse/udf/timeseries/TimeSeriesTest.java: /tmp/tmpj53tynzy/brickhouse/src/test/java/brickhouse/udf/timeseries/TimeSeriesTest.java uses or overrides a deprecated API.
[WARNING] /tmp/tmpj53tynzy/brickhouse/src/test/java/brickhouse/udf/timeseries/TimeSeriesTest.java: Recompile with -Xlint:deprecation for details.
[WARNING] /tmp/tmpj53tynzy/brickhouse/src/test/java/brickhouse/udf/collect/CollectMaxTest.java: Some input files use unchecked or unsafe operations.
[WARNING] /tmp/tmpj53tynzy/brickhouse/src/test/java/brickhouse/udf/collect/CollectMaxTest.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ brickhouse ---
[INFO] Surefire report directory: /tmp/tmpj53tynzy/brickhouse/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running brickhouse.udf.collect.ArrayUnionUDFTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.953 sec - in brickhouse.udf.collect.ArrayUnionUDFTest
Running brickhouse.udf.collect.CollectMaxTest
20/07/30 21:30:38 ERROR collect.CollectMaxUDAF:  CollectMaxUDAF.init() - Mode= PARTIAL1
20/07/30 21:30:38 ERROR collect.CollectMaxUDAF:  ObjectInspector[ 0 ] = org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableStringObjectInspector@71ae31b0
20/07/30 21:30:38 ERROR collect.CollectMaxUDAF:  ObjectInspector[ 1 ] = org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableStringObjectInspector@71ae31b0
 key is  Key # 0
 val is 0
 key is  Key # 1
 val is 1
 key is  Key # 2
 val is 2
 key is  Key # 3
 val is 3
 key is  Key # 4
 val is 4
 key is  Key # 5
 val is 5
 key is  Key # 6
 val is 6
 key is  Key # 7
 val is 7
 key is  Key # 8
 val is 8
 key is  Key # 9
 val is 9
 key is  Key # 10
 val is 10
 key is  Key # 11
 val is 11
 key is  Key # 12
 val is 12
 key is  Key # 13
 val is 13
 key is  Key # 14
 val is 14
 key is  Key # 15
 val is 15
 key is  Key # 16
 val is 16
 key is  Key # 17
 val is 17
 key is  Key # 18
 val is 18
 key is  Key # 19
 val is 19
 key is  Key # 0
 val is 0
 key is  Key # 1
 val is 1
 key is  Key # 2
 val is 2
 key is  Key # 3
 val is 3
 key is  Key # 4
 val is 4
 key is  Key # 5
 val is 5
 key is  Key # 6
 val is 6
 key is  Key # 7
 val is 7
 key is  Key # 8
 val is 8
 key is  Key # 9
 val is 9
 key is  Key # 10
 val is 10
 key is  Key # 11
 val is 11
 key is  Key # 12
 val is 12
 key is  Key # 13
 val is 13
 key is  Key # 14
 val is 14
 key is  Key # 15
 val is 15
 key is  Key # 16
 val is 16
 key is  Key # 17
 val is 17
 key is  Key # 18
 val is 18
 key is  Key # 19
 val is 19
 key is  Key # 349
 val is 4
 key is  Key # 239
 val is 6
 key is  Key # 330
 val is 35
 key is  Key # 306
 val is 102
 key is  Key # 127
 val is 107
 key is  Key # 613
 val is 116
 key is  Key # 973
 val is 128
 key is  Key # 687
 val is 131
 key is  Key # 592
 val is 141
 key is  Key # 907
 val is 149
 key is  Key # 947
 val is 153
 key is  Key # 142
 val is 153
 key is  Key # 680
 val is 154
 key is  Key # 774
 val is 155
 key is  Key # 972
 val is 157
 key is  Key # 585
 val is 159
 key is  Key # 45
 val is 162
 key is  Key # 361
 val is 163
 key is  Key # 523
 val is 178
 key is  Key # 890
 val is 183
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.088 sec - in brickhouse.udf.collect.CollectMaxTest
Running brickhouse.udf.collect.CollectDistinctUDFTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.032 sec - in brickhouse.udf.collect.CollectDistinctUDFTest
Running brickhouse.udf.json.JsonSplitUDFTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.95 sec - in brickhouse.udf.json.JsonSplitUDFTest
Running brickhouse.udf.json.JsonUDFTest
thisTextHasUnderscores
this_text_is_in_camel_case
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in brickhouse.udf.json.JsonUDFTest
Running brickhouse.udf.timeseries.TimeSeriesTest
20/07/30 21:30:39 INFO timeseries.MovingAvgUDF: Moving Average Object input type is org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector@33188612 element = org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaDoubleObjectInspector@7a2ab862
 mvn Avg 0 == 63.8413206534525
 mvn Avg 1 == 63.7775086237634
 mvn Avg 2 == 63.81383562068411
 mvn Avg 3 == 63.38349237757457
 mvn Avg 4 == 63.147449643952385
 mvn Avg 5 == 62.94959442182623
 mvn Avg 6 == 62.85214506070097
 mvn Avg 7 == 62.62516851091157
 mvn Avg 8 == 62.3007531971244
 mvn Avg 9 == 61.87657385749093
 mvn Avg 10 == 61.82455119151343
 mvn Avg 11 == 61.704593122270886
 mvn Avg 12 == 61.534702295362024
 mvn Avg 13 == 61.32102327579532
 mvn Avg 14 == 60.996633702494776
 mvn Avg 15 == 60.749358094931715
 mvn Avg 16 == 60.81945101136409
 mvn Avg 17 == 60.975908787403064
 mvn Avg 18 == 61.2635959951029
 mvn Avg 19 == 61.66848982241229
 mvn Avg 20 == 62.061323060728924
 mvn Avg 21 == 62.607700396458576
 mvn Avg 22 == 63.18213341522922
 mvn Avg 23 == 63.47231207449569
 mvn Avg 24 == 63.56526734707758
 mvn Avg 25 == 63.5815989934603
 mvn Avg 26 == 61.41295018120109
 mvn Avg 27 == 61.410002777478674
 mvn Avg 28 == 61.3229983729276
 mvn Avg 29 == 61.25878191481651
 mvn Avg 30 == 61.156912702329414
 mvn Avg 31 == 60.99699531811196
 mvn Avg 32 == 60.736503661145456
 mvn Avg 33 == 62.554540276092794
 mvn Avg 34 == 62.24421510037343
 mvn Avg 35 == 62.00993120811841
 mvn Avg 36 == 61.716414953968204
 mvn Avg 37 == 61.549462137498814
 mvn Avg 38 == 61.43554891279315
 mvn Avg 39 == 61.304877849206775
 mvn Avg 40 == 61.32606307257923
 mvn Avg 41 == 61.28112383949033
 mvn Avg 42 == 61.1352939857939
 mvn Avg 43 == 61.239322517446666
 Joe's Salt = 0044:44
 Jerome's Salt = 5034:995034
 Barack's Salt = 2055:2055
 Score List size = 44
20/07/30 21:30:40 INFO timeseries.MovingStdevUDF: Moving Standard Deviation Object input type is org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector@daf22f0 element = org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaStringObjectInspector@5286c33a
 rolling std dev 0 == 0.0
 rolling std dev 1 == 0.06381202968699744
 rolling std dev 2 == 0.08639651022317994
 rolling std dev 3 == 0.8970134831400172
 rolling std dev 4 == 0.055408030621403453
 rolling std dev 5 == 0.12148019914110647
 rolling std dev 6 == 0.15356529137965808
 rolling std dev 7 == 0.007482044631923408
 rolling std dev 8 == 0.40484770368201745
 rolling std dev 9 == 0.2627775802365777
 rolling std dev 10 == 0.4055348746580146
 rolling std dev 11 == 0.18236588082663427
 rolling std dev 12 == 0.2962448509724806
 rolling std dev 13 == 3.0662371940388874E-4
 rolling std dev 14 == 0.39496898258627994
 rolling std dev 15 == 0.1349488236178242
 rolling std dev 16 == 0.84801225374957
 rolling std dev 17 == 0.7078118832811862
 rolling std dev 18 == 0.27693712999985265
 rolling std dev 19 == 0.11397831768427556
 rolling std dev 20 == 0.041905444460686316
 rolling std dev 21 == 0.1424353583792893
 rolling std dev 22 == 0.036753933016461175
 rolling std dev 23 == 0.14687800453367236
 rolling std dev 24 == 0.017530030019628308
 rolling std dev 25 == 0.008754438559550147
 rolling std dev 26 == 7.533453287579804
 rolling std dev 27 == 7.538049485478931
 rolling std dev 28 == 0.15176414454736778
 rolling std dev 29 == 0.04300387963676083
 rolling std dev 30 == 0.2786626448408069
 rolling std dev 31 == 0.18563857118647314
 rolling std dev 32 == 0.34325551633136436
 rolling std dev 33 == 0.2586043358918445
 rolling std dev 34 == 0.08878321817488175
 rolling std dev 35 == 0.11438034761805377
 rolling std dev 36 == 0.16430938706678333
 rolling std dev 37 == 0.16430938706539952
 rolling std dev 38 == 2.3360154559928683E-6
 rolling std dev 39 == 0.4019079524139415
 rolling std dev 40 == 0.27289266848729477
 rolling std dev 41 == 0.1426523794910933
 rolling std dev 42 == 0.23873682454830478
 rolling std dev 43 == 0.710194961677537
20/07/30 21:30:40 INFO timeseries.MovingStdevUDF: Moving Standard Deviation Object input type is org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector@33188612 element = org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaDoubleObjectInspector@7a2ab862
 rolling std dev 0 == 0.0
 rolling std dev 1 == 0.06381202968699744
 rolling std dev 2 == 0.07317070109868795
 rolling std dev 3 == 0.7480650936212956
 rolling std dev 4 == 0.818868607176777
 rolling std dev 5 == 0.8686320324487523
 rolling std dev 6 == 0.8388748861326906
 rolling std dev 7 == 0.7508540957819255
 rolling std dev 8 == 0.6992734005664352
 rolling std dev 9 == 0.47252376558145476
 rolling std dev 10 == 0.4658912263517806
 rolling std dev 11 == 0.46101130290565084
 rolling std dev 12 == 0.5466425268838222
 rolling std dev 13 == 0.509534339433709
 rolling std dev 14 == 0.5354287989054185
 rolling std dev 15 == 0.6579578361406938
 rolling std dev 16 == 0.6970799613751553
 rolling std dev 17 == 0.9576998053104153
 rolling std dev 18 == 1.279384272835996
 rolling std dev 19 == 1.4905122798425987
 rolling std dev 20 == 1.562995054844348
 rolling std dev 21 == 1.4005956008998803
 rolling std dev 22 == 0.7839485187850843
 rolling std dev 23 == 0.30016487352442195
 rolling std dev 24 == 0.1460260461199145
 rolling std dev 25 == 0.1295646952545092
 rolling std dev 26 == 5.3039649508511815
 rolling std dev 27 == 5.30279800296594
 rolling std dev 28 == 5.267645696249108
 rolling std dev 29 == 5.240546167036343
 rolling std dev 30 == 5.203976017402305
 rolling std dev 31 == 5.147199263363436
 rolling std dev 32 == 5.0597523629657895
 rolling std dev 33 == 0.8163161480034308
 rolling std dev 34 == 0.8104479977866101
 rolling std dev 35 == 0.7345357189200081
 rolling std dev 36 == 0.5557876753452325
 rolling std dev 37 == 0.3728489080587077
 rolling std dev 38 == 0.18276319422741735
 rolling std dev 39 == 0.2739234474876261
 rolling std dev 40 == 0.2668507994404702
 rolling std dev 41 == 0.288265001860194
 rolling std dev 42 == 0.3607238380286455
 rolling std dev 43 == 0.46314149094417484
 Score List size = 44
20/07/30 21:30:40 INFO timeseries.MovingAvgUDF: Moving Average Object input type is org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector@daf22f0 element = org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaStringObjectInspector@5286c33a
 mvn Avg 0 == 63.8413206534525
 mvn Avg 1 == 63.7775086237634
 mvn Avg 2 == 63.81383562068411
 mvn Avg 3 == 63.230882952281924
 mvn Avg 4 == 62.72741032407837
 mvn Avg 5 == 62.085353222968344
 mvn Avg 6 == 62.14368197153616
 mvn Avg 7 == 62.16008400335718
 mvn Avg 8 == 61.987574365480064
 mvn Avg 9 == 61.53750281319401
 mvn Avg 10 == 61.36277587368625
 mvn Avg 11 == 61.33637014942019
 mvn Avg 12 == 61.28765291133425
 mvn Avg 13 == 60.96878350152726
 mvn Avg 14 == 60.508178690546266
 mvn Avg 15 == 60.155104564476005
 mvn Avg 16 == 60.36716752952113
 mvn Avg 17 == 61.31441773847224
 mvn Avg 18 == 62.53625858315292
 mvn Avg 19 == 63.26874347044669
 mvn Avg 20 == 63.50141680595424
 mvn Avg 21 == 63.64442229370949
 mvn Avg 22 == 63.686939614382176
 mvn Avg 23 == 63.65947522831027
 mvn Avg 24 == 63.548740623249955
 mvn Avg 25 == 63.4683449323588
 mvn Avg 26 == 58.46356571942596
 mvn Avg 27 == 58.472466143556794
 mvn Avg 28 == 58.374354179133185
 mvn Avg 29 == 63.32721365948481
 mvn Avg 30 == 63.06893171962866
 mvn Avg 31 == 62.78806682868015
 mvn Avg 32 == 62.249695673793006
 mvn Avg 33 == 61.724696724873844
 mvn Avg 34 == 61.38264563550021
 mvn Avg 35 == 61.34568512207007
 mvn Avg 36 == 61.37158790786077
 mvn Avg 37 == 61.4478414729212
 mvn Avg 38 == 61.4478414729212
 mvn Avg 39 == 61.28944242934964
 mvn Avg 40 == 61.20343224006149
 mvn Avg 41 == 61.0223204644603
 mvn Avg 42 == 60.949989440773386
 mvn Avg 43 == 61.16919327921814
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.078 sec - in brickhouse.udf.timeseries.TimeSeriesTest
Running brickhouse.udf.hll.HyperLogLogUDAFTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec - in brickhouse.udf.hll.HyperLogLogUDAFTest
Running brickhouse.udf.bloom.BloomTest
20/07/30 21:30:40 INFO bloom.BloomFactory: Creating new Bloom filter C = 10.098865286222745 N =  100000 K = 7
 Added 0 elements.
 Added 10000 elements.
 Added 20000 elements.
 Added 30000 elements.
 Added 40000 elements.
20/07/30 21:30:40 INFO bloom.BloomFactory: Creating new Bloom filter C = 10.098865286222745 N =  100000 K = 7
 Added 0 elements.
 Added 10000 elements.
 Added 20000 elements.
 Added 30000 elements.
 Added 40000 elements.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.321 sec - in brickhouse.udf.bloom.BloomTest
Running brickhouse.udf.date.AddISOPeriodUDFTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.144 sec - in brickhouse.udf.date.AddISOPeriodUDFTest
Running brickhouse.analytics.uniques.SketchSetTest
 Directory is /tmp/tmpj53tynzy/brickhouse
 Estimated Reach = 9740.0 count = 9777
 Difference is 0.0037843919402679757
 Estimated Reach = 9740.0 count = 9777
 Difference is 0.0037843919402679757
 First Key is -9222350475190368248
 Last Key is 246283697399603130
 Estimated Reach = 6506.0 num Hashes  = 6555 ; Ratio = 0.9925247902364607
Similarity with self = 1.0
Similarity with different  = -2.7188555101314443E-4
Similarity with mixed = 0.3081459798530066
 Estimate reach = 6838.0 size = 6857 ratio = 0.9972291089397696
 Estimate reach = 6840.0 size = 6858 ratio = 0.9973753280839895
 Estimate reach = 6840.0 size = 6858 ratio = 0.9973753280839895
 Estimate reach = 6843.0 size = 6859 ratio = 0.9976672984400058
 Estimate reach = 6843.0 size = 6859 ratio = 0.9976672984400058
 Estimate reach = 6843.0 size = 6860 ratio = 0.9975218658892129
 Estimated cardinality is 1045656.0 ; Expected 1048576 ; Difference was 2920 ; diff ratio is 0.00278472900390625
 Estimated cardinality is 1045656.0
 Estimated cardinality is 517390.0 ; Expected 524288 ; Difference was 6898 ; diff ratio is 0.013156890869140625
 Number of hashes one = 479240
 Estimated Card 1 = 485398.0
 Number of hashes two = 493417
 Estimated Card 2 = 486661.0
 Sum of hashes  = 972059.0
 Estimated Combined Card = 973745.0
 New Card = 973745.0
 Number of hashes one = 186226
 Estimated Card 1 = 186502.0
 Number of hashes two = 445784
 Estimated Card 2 = 440823.0
 Number of hashes three = 93210
 Estimated Card 3= 93371.0
 Combine 1 = 628025.0
 1 +2 632010
 Combine 3 = 534615.0
 2  + 3 538994
 Overlap = 719109.0
 All hashes = 725220
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 11.647 sec - in brickhouse.analytics.uniques.SketchSetTest

Results :

Tests run: 35, Failures: 0, Errors: 0, Skipped: 1

[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:report (report) @ brickhouse ---
[INFO] Loading execution data file /tmp/tmpj53tynzy/brickhouse/target/jacoco.exec
[INFO] Analyzed bundle 'Brickhouse' with 496 classes
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  40.387 s
[INFO] Finished at: 2020-07-30T21:30:56Z
[INFO] ------------------------------------------------------------------------
