[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 1 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] 
[INFO] -----------< fr.pilato.elasticsearch:elasticsearch-beyonder >-----------
[INFO] Building Elasticsearch Beyonder 7.6-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ elasticsearch-beyonder ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmp7ae57an1/elasticsearch-beyonder/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ elasticsearch-beyonder ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ elasticsearch-beyonder ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 11 source files to /tmp/tmp7ae57an1/elasticsearch-beyonder/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ elasticsearch-beyonder ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 19 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ elasticsearch-beyonder ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 7 source files to /tmp/tmp7ae57an1/elasticsearch-beyonder/target/test-classes
[WARNING] /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/BeyonderTransportIT.java:[27,42] org.elasticsearch.transport.client.PreBuiltTransportClient in org.elasticsearch.transport.client has been deprecated
[WARNING] No processor claimed any of these annotations: org.junit.Test,org.junit.AfterClass,org.junit.BeforeClass,org.junit.Before
[WARNING] /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/BeyonderTransportIT.java:[27,42] org.elasticsearch.transport.client.PreBuiltTransportClient in org.elasticsearch.transport.client has been deprecated
[WARNING] /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/BeyonderTransportIT.java:[27,42] org.elasticsearch.transport.client.PreBuiltTransportClient in org.elasticsearch.transport.client has been deprecated
[WARNING] /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/BeyonderTransportIT.java:[58,22] org.elasticsearch.transport.client.PreBuiltTransportClient in org.elasticsearch.transport.client has been deprecated
[WARNING] /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/BeyonderTransportIT.java:[100,30] start(org.elasticsearch.client.Client,java.lang.String) in fr.pilato.elasticsearch.tools.ElasticsearchBeyonder has been deprecated
[WARNING] /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/BeyonderTransportIT.java:[107,22] isTemplateExist(org.elasticsearch.client.Client,java.lang.String) in fr.pilato.elasticsearch.tools.template.TemplateElasticsearchUpdater has been deprecated
[WARNING] /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/BeyonderTransportIT.java:[119,22] isIndexExist(org.elasticsearch.client.Client,java.lang.String) in fr.pilato.elasticsearch.tools.index.IndexElasticsearchUpdater has been deprecated
[INFO] /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/AbstractBeyonderTest.java: /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/AbstractBeyonderTest.java uses unchecked or unsafe operations.
[INFO] /tmp/tmp7ae57an1/elasticsearch-beyonder/src/test/java/fr/pilato/elasticsearch/tools/AbstractBeyonderTest.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ elasticsearch-beyonder ---
[INFO] Surefire report directory: /tmp/tmp7ae57an1/elasticsearch-beyonder/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running fr.pilato.elasticsearch.tools.ResourceListTest
20:34:30,011 TRACE [f.p.e.t.ResourceList] Reading classpath resources from \.json
20:34:30,017 TRACE [f.p.e.t.ResourceList] did not find any resource. returning empty array
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.64 sec - in fr.pilato.elasticsearch.tools.ResourceListTest
Running fr.pilato.elasticsearch.tools.BeyonderUnitTest
20:34:30,032 INFO  [f.p.e.t.AbstractBeyonderTest] --> scanning: [models/settingsanalyzer]
20:34:30,035 DEBUG [f.p.e.t.i.IndexFinder] Looking for indices in classpath under [models/settingsanalyzer].
20:34:30,036 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/settingsanalyzer/
20:34:30,037 TRACE [f.p.e.t.ResourceList] found a file resource: file:/tmp/tmp7ae57an1/elasticsearch-beyonder/target/test-classes/models/settingsanalyzer/
20:34:30,038 TRACE [f.p.e.t.i.IndexFinder]  - resource [twitter].
20:34:30,039 TRACE [f.p.e.t.i.IndexFinder]  - found [twitter].
20:34:30,039 INFO  [f.p.e.t.AbstractBeyonderTest]   --> indices found: [twitter]
20:34:30,048 DEBUG [f.p.e.t.AbstractBeyonderTest]   --> index [twitter]:
20:34:30,053 TRACE [f.p.e.t.i.IndexSettingsReader] Reading [_settings.json] for [twitter] in [models/settingsanalyzer]...
20:34:30,061 TRACE [f.p.e.t.SettingsReader] Reading file [models/settingsanalyzer/twitter/_settings.json]...
20:34:30,100 DEBUG [f.p.e.t.AbstractBeyonderTest]     --> Settings: [{
	"settings" : {
		"analysis":{
			"analyzer":{
                "custom_uax_url_email":{
                    "type":"custom",
                    "tokenizer" : "uax_url_email",
                    "filter" : ["lowercase", "stop"]
                },
				"francais":{
					"type":"custom",
					"tokenizer":"standard",
					"filter":["lowercase", "stop_francais", "fr_stemmer", "asciifolding", "elision"]
				}
			},
			"filter":{
				"stop_francais":{
					"type":"stop",
					"stopwords":["_french_"]
				},
				"fr_stemmer" : {
					"type" : "stemmer",
					"name" : "french"
				}
			}
		}
	},
	"mappings": {
		"properties" : {
			"message" : {"type" : "text", "store" : true, "analyzer": "francais"},
			"author" : {"type" : "text", "store" : false, "analyzer": "custom_uax_url_email"}
		}
	}
}
]
20:34:30,101 DEBUG [f.p.e.t.t.TemplateFinder] Looking for templates in classpath under [models/settingsanalyzer].
20:34:30,101 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/settingsanalyzer/_template/
20:34:30,102 TRACE [f.p.e.t.ResourceList] did not find any resource. returning empty array
20:34:30,102 INFO  [f.p.e.t.AbstractBeyonderTest]   --> templates found: []
20:34:30,104 INFO  [f.p.e.t.AbstractBeyonderTest] --> scanning: [models/oneindexnotype]
20:34:30,104 DEBUG [f.p.e.t.i.IndexFinder] Looking for indices in classpath under [models/oneindexnotype].
20:34:30,104 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/oneindexnotype/
20:34:30,105 TRACE [f.p.e.t.ResourceList] found a file resource: file:/tmp/tmp7ae57an1/elasticsearch-beyonder/target/test-classes/models/oneindexnotype/
20:34:30,105 TRACE [f.p.e.t.i.IndexFinder]  - resource [twitter].
20:34:30,105 TRACE [f.p.e.t.i.IndexFinder]  - found [twitter].
20:34:30,106 INFO  [f.p.e.t.AbstractBeyonderTest]   --> indices found: [twitter]
20:34:30,106 DEBUG [f.p.e.t.AbstractBeyonderTest]   --> index [twitter]:
20:34:30,106 TRACE [f.p.e.t.i.IndexSettingsReader] Reading [_settings.json] for [twitter] in [models/oneindexnotype]...
20:34:30,107 TRACE [f.p.e.t.SettingsReader] Reading file [models/oneindexnotype/twitter/_settings.json]...
20:34:30,107 DEBUG [f.p.e.t.AbstractBeyonderTest]     --> Settings: [{
}]
20:34:30,107 DEBUG [f.p.e.t.t.TemplateFinder] Looking for templates in classpath under [models/oneindexnotype].
20:34:30,107 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/oneindexnotype/_template/
20:34:30,108 TRACE [f.p.e.t.ResourceList] did not find any resource. returning empty array
20:34:30,109 INFO  [f.p.e.t.AbstractBeyonderTest]   --> templates found: []
20:34:30,109 INFO  [f.p.e.t.AbstractBeyonderTest] --> scanning: [models/template]
20:34:30,109 DEBUG [f.p.e.t.i.IndexFinder] Looking for indices in classpath under [models/template].
20:34:30,110 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/template/
20:34:30,110 TRACE [f.p.e.t.ResourceList] found a file resource: file:/tmp/tmp7ae57an1/elasticsearch-beyonder/target/test-classes/models/template/
20:34:30,110 TRACE [f.p.e.t.i.IndexFinder]  - resource [_template].
20:34:30,110 INFO  [f.p.e.t.AbstractBeyonderTest]   --> indices found: []
20:34:30,110 DEBUG [f.p.e.t.t.TemplateFinder] Looking for templates in classpath under [models/template].
20:34:30,110 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/template/_template/
20:34:30,111 TRACE [f.p.e.t.ResourceList] found a file resource: file:/tmp/tmp7ae57an1/elasticsearch-beyonder/target/test-classes/models/template/_template/
20:34:30,111 TRACE [f.p.e.t.t.TemplateFinder]  - found [twitter_template].
20:34:30,111 INFO  [f.p.e.t.AbstractBeyonderTest]   --> templates found: [twitter_template]
20:34:30,111 DEBUG [f.p.e.t.AbstractBeyonderTest]     --> template: [twitter_template]
20:34:30,112 TRACE [f.p.e.t.SettingsReader] Reading file [models/template/_template/twitter_template.json]...
20:34:30,112 DEBUG [f.p.e.t.AbstractBeyonderTest]       --> Template: [{
    "template" : "twee*",
    "settings" : {
        "number_of_shards" : 1
    },
    "mappings" : {
        "properties" : {
            "message" : {
                "type" : "text",
                "store" : true
            }
        }
    }
}
]
20:34:30,113 INFO  [f.p.e.t.AbstractBeyonderTest] --> scanning: [models/bad-classpath-7/doesnotexist]
20:34:30,113 DEBUG [f.p.e.t.i.IndexFinder] Looking for indices in classpath under [models/bad-classpath-7/doesnotexist].
20:34:30,113 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/bad-classpath-7/doesnotexist/
20:34:30,114 TRACE [f.p.e.t.ResourceList] did not find any resource. returning empty array
20:34:30,114 INFO  [f.p.e.t.AbstractBeyonderTest]   --> indices found: []
20:34:30,114 DEBUG [f.p.e.t.t.TemplateFinder] Looking for templates in classpath under [models/bad-classpath-7/doesnotexist].
20:34:30,114 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/bad-classpath-7/doesnotexist/_template/
20:34:30,114 TRACE [f.p.e.t.ResourceList] did not find any resource. returning empty array
20:34:30,115 INFO  [f.p.e.t.AbstractBeyonderTest]   --> templates found: []
20:34:30,115 INFO  [f.p.e.t.AbstractBeyonderTest] --> scanning: [models/oneindexonetype]
20:34:30,115 DEBUG [f.p.e.t.i.IndexFinder] Looking for indices in classpath under [models/oneindexonetype].
20:34:30,115 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/oneindexonetype/
20:34:30,115 TRACE [f.p.e.t.ResourceList] found a file resource: file:/tmp/tmp7ae57an1/elasticsearch-beyonder/target/test-classes/models/oneindexonetype/
20:34:30,116 TRACE [f.p.e.t.i.IndexFinder]  - resource [twitter].
20:34:30,116 TRACE [f.p.e.t.i.IndexFinder]  - found [twitter].
20:34:30,116 INFO  [f.p.e.t.AbstractBeyonderTest]   --> indices found: [twitter]
20:34:30,116 DEBUG [f.p.e.t.AbstractBeyonderTest]   --> index [twitter]:
20:34:30,116 TRACE [f.p.e.t.i.IndexSettingsReader] Reading [_settings.json] for [twitter] in [models/oneindexonetype]...
20:34:30,116 TRACE [f.p.e.t.SettingsReader] Reading file [models/oneindexonetype/twitter/_settings.json]...
20:34:30,117 DEBUG [f.p.e.t.AbstractBeyonderTest]     --> Settings: [{
  "mappings": {
    "properties" : {
      "message" : {"type" : "text", "store" : true}
    }
  }
}
]
20:34:30,117 DEBUG [f.p.e.t.t.TemplateFinder] Looking for templates in classpath under [models/oneindexonetype].
20:34:30,117 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/oneindexonetype/_template/
20:34:30,117 TRACE [f.p.e.t.ResourceList] did not find any resource. returning empty array
20:34:30,117 INFO  [f.p.e.t.AbstractBeyonderTest]   --> templates found: []
20:34:30,118 TRACE [f.p.e.t.i.IndexSettingsReader] Reading [_settings.json] for [twitter] in [models/variablereplacement]...
20:34:30,118 TRACE [f.p.e.t.SettingsReader] Reading file [models/variablereplacement/twitter/_settings.json]...
20:34:30,980 INFO  [f.p.e.t.AbstractBeyonderTest] --> scanning: [null]
20:34:30,980 DEBUG [f.p.e.t.i.IndexFinder] Looking for indices in classpath under [elasticsearch].
20:34:30,980 TRACE [f.p.e.t.ResourceList] Reading classpath resources from elasticsearch/
20:34:30,980 TRACE [f.p.e.t.ResourceList] found a file resource: file:/tmp/tmp7ae57an1/elasticsearch-beyonder/target/test-classes/elasticsearch/
20:34:30,981 TRACE [f.p.e.t.i.IndexFinder]  - resource [twitter].
20:34:30,981 TRACE [f.p.e.t.i.IndexFinder]  - found [twitter].
20:34:30,981 INFO  [f.p.e.t.AbstractBeyonderTest]   --> indices found: [twitter]
20:34:30,981 DEBUG [f.p.e.t.AbstractBeyonderTest]   --> index [twitter]:
20:34:30,981 TRACE [f.p.e.t.i.IndexSettingsReader] Reading [_settings.json] for [twitter] in [elasticsearch]...
20:34:30,982 TRACE [f.p.e.t.SettingsReader] Reading file [elasticsearch/twitter/_settings.json]...
20:34:30,982 DEBUG [f.p.e.t.AbstractBeyonderTest]     --> Settings: [{
  "mappings": {
    "properties" : {
      "message" : {"type" : "text", "store" : true}
    }
  }
}
]
20:34:30,982 DEBUG [f.p.e.t.t.TemplateFinder] Looking for templates in classpath under [elasticsearch].
20:34:30,982 TRACE [f.p.e.t.ResourceList] Reading classpath resources from elasticsearch/_template/
20:34:30,983 TRACE [f.p.e.t.ResourceList] did not find any resource. returning empty array
20:34:30,983 INFO  [f.p.e.t.AbstractBeyonderTest]   --> templates found: []
20:34:30,983 INFO  [f.p.e.t.AbstractBeyonderTest] --> scanning: [models/update-settings/step1]
20:34:30,983 DEBUG [f.p.e.t.i.IndexFinder] Looking for indices in classpath under [models/update-settings/step1].
20:34:30,983 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/update-settings/step1/
20:34:30,984 TRACE [f.p.e.t.ResourceList] found a file resource: file:/tmp/tmp7ae57an1/elasticsearch-beyonder/target/test-classes/models/update-settings/step1/
20:34:30,984 TRACE [f.p.e.t.i.IndexFinder]  - resource [twitter].
20:34:30,984 TRACE [f.p.e.t.i.IndexFinder]  - found [twitter].
20:34:30,984 INFO  [f.p.e.t.AbstractBeyonderTest]   --> indices found: [twitter]
20:34:30,984 DEBUG [f.p.e.t.AbstractBeyonderTest]   --> index [twitter]:
20:34:30,984 TRACE [f.p.e.t.i.IndexSettingsReader] Reading [_settings.json] for [twitter] in [models/update-settings/step1]...
20:34:30,984 TRACE [f.p.e.t.SettingsReader] Reading file [models/update-settings/step1/twitter/_settings.json]...
20:34:30,985 DEBUG [f.p.e.t.AbstractBeyonderTest]     --> Settings: [{
  "settings" : {
    "number_of_shards" : 1,
    "number_of_replicas" : 0
  },
  "mappings" : {
    "properties" : {
      "message" : {"type" : "text", "store" : true, "analyzer" : "simple" }
    }
  }
}
]
20:34:30,985 DEBUG [f.p.e.t.t.TemplateFinder] Looking for templates in classpath under [models/update-settings/step1].
20:34:30,997 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/update-settings/step1/_template/
20:34:30,998 TRACE [f.p.e.t.ResourceList] did not find any resource. returning empty array
20:34:30,998 INFO  [f.p.e.t.AbstractBeyonderTest]   --> templates found: []
20:34:30,998 INFO  [f.p.e.t.AbstractBeyonderTest] --> scanning: [models/update-settings/step2]
20:34:30,998 DEBUG [f.p.e.t.i.IndexFinder] Looking for indices in classpath under [models/update-settings/step2].
20:34:30,998 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/update-settings/step2/
20:34:30,998 TRACE [f.p.e.t.ResourceList] found a file resource: file:/tmp/tmp7ae57an1/elasticsearch-beyonder/target/test-classes/models/update-settings/step2/
20:34:30,999 TRACE [f.p.e.t.i.IndexFinder]  - resource [twitter].
20:34:31,008 TRACE [f.p.e.t.i.IndexFinder]  - found [twitter].
20:34:31,008 INFO  [f.p.e.t.AbstractBeyonderTest]   --> indices found: [twitter]
20:34:31,009 DEBUG [f.p.e.t.AbstractBeyonderTest]   --> index [twitter]:
20:34:31,009 TRACE [f.p.e.t.i.IndexSettingsReader] Reading [_settings.json] for [twitter] in [models/update-settings/step2]...
20:34:31,009 TRACE [f.p.e.t.SettingsReader] Reading file [models/update-settings/step2/twitter/_settings.json]...
20:34:31,009 TRACE [f.p.e.t.SettingsReader] Can not find [models/update-settings/step2/twitter/_settings.json] in class loader.
20:34:31,009 DEBUG [f.p.e.t.AbstractBeyonderTest]     --> Settings: [null]
20:34:31,009 DEBUG [f.p.e.t.t.TemplateFinder] Looking for templates in classpath under [models/update-settings/step2].
20:34:31,009 TRACE [f.p.e.t.ResourceList] Reading classpath resources from models/update-settings/step2/_template/
20:34:31,010 TRACE [f.p.e.t.ResourceList] did not find any resource. returning empty array
20:34:31,010 INFO  [f.p.e.t.AbstractBeyonderTest]   --> templates found: []
Tests run: 8, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.981 sec - in fr.pilato.elasticsearch.tools.BeyonderUnitTest

Results :

Tests run: 10, Failures: 0, Errors: 0, Skipped: 1

[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:report (report) @ elasticsearch-beyonder ---
[INFO] Loading execution data file /tmp/tmp7ae57an1/elasticsearch-beyonder/target/jacoco.exec
[INFO] Analyzed bundle 'Elasticsearch Beyonder' with 377 classes
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  01:15 min
[INFO] Finished at: 2020-07-30T20:34:33Z
[INFO] ------------------------------------------------------------------------
