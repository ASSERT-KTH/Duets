[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[INFO] 
[INFO] ------------------< org.jasig.portlet:email-preview >-------------------
[INFO] Building Email Preview Portlet 2.3.1-SNAPSHOT
[INFO] --------------------------------[ war ]---------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4.1:enforce (enforce-maven) @ email-preview ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4.1:enforce (enforce-versions) @ email-preview ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ email-preview ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmpdjn_bp_x/email-preview/target/jacoco.exec
[INFO] 
[INFO] --- maven-jaxb2-plugin:0.14.0:generate (default) @ email-preview ---
[INFO] Sources are not up-to-date, XJC will be executed.
[WARNING] Episode file [/tmp/tmpdjn_bp_x/email-preview/target/generated-sources/xjc/META-INF/sun-jaxb.episode] is not writable, could not add if-exists attributes.
[INFO] 
[INFO] --- lesscss-maven-plugin:1.7.0.1.1:compile (default) @ email-preview ---
[INFO] Compiling LESS source: email-preview.less...
done
[INFO] Finished compilation to /tmp/tmpdjn_bp_x/email-preview/target/email-preview-2.3.1-SNAPSHOT/css in 1880 ms
[INFO] Complete Less compile job finished in 1908 ms
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ email-preview ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 10 resources
[INFO] Copying 1 resource
[INFO] 
[INFO] --- yuicompressor-maven-plugin:0.7.1:compress (default) @ email-preview ---
[INFO] logback.xml (4439b) -> logback.min.xml (0b)[0%]
[INFO] emailMobile.css (3945b) -> emailMobile.min.css (2893b)[73%]
[INFO] quickselect.css (574b) -> quickselect.min.css (346b)[60%]
[INFO] email.css (5790b) -> email.min.css (4192b)[72%]
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
linkMessages=$("#email-list-table .right-content-email-toggle .subject");for( ---> var  <--- i=0;i<linkMessages.length;
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
addEventListener("click",hideAndShowRightMessage);}} ---> var  <--- lastRequestedStart;var lastRequestedSize;var displayMessage=function (
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
,hideAndShowRightMessage);}}var lastRequestedStart; ---> var  <--- lastRequestedSize;var displayMessage=function (that,element
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
;}}var lastRequestedStart;var lastRequestedSize; ---> var  <--- displayMessage=function (that,element){if
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
(element).attr("messageId"); ---> var  <--- message=getMessage(that,messageId);if
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
,messageId);if(message){ ---> var  <--- html=message.content.html?message.
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
("markMessageUnreadButton").hide();} ---> var  <--- mostRecentCache=that.cache[lastRequestedStart][lastRequestedSize
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
.cache[lastRequestedStart][lastRequestedSize]; ---> var  <--- cacheIndex=-1;for(var i in 
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
;var cacheIndex=-1;for( ---> var  <--- i in mostRecentCache){var msg=mostRecentCache[
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
;for(var i in mostRecentCache){ ---> var  <--- msg=mostRecentCache[i];if(msg
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
markMessagesAsRead){msg.unread=false; ---> var  <--- unreadCount=parseInt(that.locate("unreadMessageCount")
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
refreshView();}removeActiveClassOnEmailList(); ---> var  <--- selectedUnreadMessageDisplayed=$(".email-row").find("span.subject[messageId='"
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
){if(cacheIndex>0){ ---> var  <--- previousMsg=mostRecentCache[cacheIndex-1];$
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
cacheIndex<mostRecentCache.length-1){ ---> var  <--- nextMsg=mostRecentCache[cacheIndex+1];$
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
that);}return false;}; ---> var  <--- account={};var clearCache="false";
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
;};var account={}; ---> var  <--- clearCache="false";var getEmail=function (that
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
={};var clearCache="false"; ---> var  <--- getEmail=function (that,start,size,
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
lastRequestedSize=size;return messages;}; ---> var  <--- getEmailFunction=function (that){return function (
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
sortDir,folderName);};}; ---> var  <--- getMessage=function (that,messageId){var 
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
}});return message;}; ---> var  <--- showEmailList=function (that){that.locate
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
;var p=$("#right-content-email"); ---> var  <--- position=p.position();overrideA11nRole(
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
".email-list","application","section");}; ---> var  <--- showLoadingMessage=function (that){that.locate
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
"loadingMessage").show();}; ---> var  <--- showSpinner=function (that){$(".outer-spinner"
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
"loadingMessage").hide();}; ---> var  <--- showEmailMessage=function (that){that.locate
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
;var cont=$(".email-container"); ---> var  <--- position1=cont.offset();var positionAfterSticky
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
var position1=cont.offset(); ---> var  <--- positionAfterSticky=position1.top-90;var position2
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
var positionAfterSticky=position1.top-90; ---> var  <--- position2=cont.scrollTop();$(
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
{scrollTop:positionAfterSticky});}; ---> var  <--- showErrorMessage=function (that,httpStatus,customMessage)
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
"errorMessage").show();}; ---> var  <--- getClasses=function (idx,message){var 
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
+=" attached";}return classes;}; ---> var  <--- removeMessages=function (messages,cache){that
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
=[];showLoadingMessage(that); ---> var  <--- batchOptions={batchSize:that.options.batchSize
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
);showEmailList(that);}; ---> var  <--- doDelete=function (data){showLoadingMessage(that
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
$.ajax(ajaxOptions);}; ---> var  <--- doToggleSeen=function (data,seenValue){showLoadingMessage
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
$.ajax(ajaxOptions);}; ---> var  <--- getFoldersList=function (){showLoadingMessage(that)
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
);if(select.prop){ ---> var  <--- options=select.prop("options");}
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
.prop("options");}else{ ---> var  <--- options=select.attr("options");}
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:The variable options has already been declared in the same scope...
prop("options");}else{var  ---> options <--- =select.attr("options");}var 
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
=select.attr("options");} ---> var  <--- selected;$.each(response,function (
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:Try to use a single 'var' statement per scope.
).show();}else{ ---> var  <--- anchor=that.locate("deleteMessagesLink");anchor
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:The symbol hideAndShowMessage is declared but is apparently never used.
This code can probably be written in a more compact way.
,5);break ;}}function  ---> hideAndShowMessage <--- (){var linkMessages=$("#email-list-table .right-content-email-toggle .subject")
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:The symbol position is declared but is apparently never used.
This code can probably be written in a more compact way.
var p=$("#right-content-email");var  ---> position <--- =p.position();overrideA11nRole(".email-list"
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:The symbol position2 is declared but is apparently never used.
This code can probably be written in a more compact way.
positionAfterSticky=position1.top-90;var  ---> position2 <--- =cont.scrollTop();$("html, body"
[WARNING] .../src/main/webapp/js/email-browser.js:line -1:column -1:The symbol removeMessages is declared but is apparently never used.
This code can probably be written in a more compact way.
" attached";}return classes;};var  ---> removeMessages <--- =function (messages,cache){that.
[INFO] email-browser.js (40559b) -> email-browser.min.js (14745b)[36%]
[WARNING] .../src/main/webapp/js/email-admin-config.js:line -1:column -1:Try to use a single 'var' statement per scope.
();});}); ---> var  <--- hideAll=function hideAll(){portletDiv.find
[WARNING] .../src/main/webapp/js/email-admin-config.js:line -1:column -1:The function hideAll has already been declared in the same scope...
);});var hideAll=function  ---> hideAll <--- (){portletDiv.find(".plt-email-exchange").
[WARNING] .../src/main/webapp/js/email-admin-config.js:line -1:column -1:Try to use a single 'var' statement per scope.
).addClass("hidden");}; ---> var  <--- hideProtocolAndOptionIrrelevant=function (){hideAll();
[INFO] email-admin-config.js (2340b) -> email-admin-config.min.js (796b)[34%]
[WARNING] .../src/main/webapp/js/jquery.quickselect.js:line -1:column -1:Using JScript conditional comments is not recommended. Moreover, using JScript conditional comments reduces the level of compression.
 --->  quickselect - v2.2.0 - 2016-11-30
* http://quick-select.wstone.io/
* Copyright (c) 2016 Will Stone; Licensed MIT  <--- (function (factory){if(typeof define
[WARNING] .../src/main/webapp/js/jquery.quickselect.js:line -1:column -1:Invalid hint syntax: use strict
$,window,document,undefined){ ---> "use strict" <--- ;var pluginName="quickselect",defaults={activeButtonClass
[WARNING] .../src/main/webapp/js/jquery.quickselect.js:line -1:column -1:Try to use a single 'var' statement per scope.
,buttonTag=this.settings.buttonTag; ---> var  <--- wrapper=$('<div class="'+namespace+"__wrapper "+
[WARNING] .../src/main/webapp/js/jquery.quickselect.js:line -1:column -1:Try to use a single 'var' statement per scope.
}).get():breakOutValues; ---> var  <--- disabled=($(el).is(
[WARNING] .../src/main/webapp/js/jquery.quickselect.js:line -1:column -1:Try to use a single 'var' statement per scope.
(":disabled")?" disabled ":""); ---> var  <--- btnClass=buttonClass+" "+($(el
[WARNING] .../src/main/webapp/js/jquery.quickselect.js:line -1:column -1:Try to use a single 'var' statement per scope.
wrapper)).removeClass(activeButtonClass); ---> var  <--- moreButtonLabel=selectDefaultText;if($.inArray(
[INFO] jquery.quickselect.js (5725b) -> jquery.quickselect.min.js (2390b)[41%]
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
initView("unicon.batchedpager",container,options); ---> var  <--- batchedModelFilter=function (model,pagerModel,perm)
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
{var limit=computePageLimit(pagerModel); ---> var  <--- start=pagerModel.pageIndex*pagerModel.pageSize;
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
+that.options.batchSize)){ ---> var  <--- m=new Array();if(pagerModel
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
.model,that.pager);} ---> var  <--- togo=[];var end=Math.
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
);}var togo=[]; ---> var  <--- end=Math.min(limit-that.
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
that.options.batchSize);for( ---> var  <--- i=pagerModel.pageIndex*pagerModel.pageSize-
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
;i<end;++i){ ---> var  <--- index=perm?perm[i]:i
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
]};}return togo;}; ---> var  <--- batchedSorter=function (overallThat,model){if
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
pager.options.dataModel,data); ---> var  <--- newModel=fluid.copy(that.pager.
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
.state={batchStart:0}; ---> var  <--- data=that.options.dataFunction(0,
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
0,that.options.batchSize); ---> var  <--- pagerOptions=options.pagerOptions;pagerOptions.dataModel=
[WARNING] .../src/main/webapp/js/batched-pager.js:line -1:column -1:Try to use a single 'var' statement per scope.
fluid.pager(container,pagerOptions); ---> var  <--- newModel=fluid.copy(that.pager.
[INFO] batched-pager.js (6378b) -> batched-pager.min.js (2406b)[37%]
[INFO] total input (69750b) -> output (27768b)[39%]
[INFO] nb warnings: 64, nb errors: 0
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ email-preview ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 536 source files to /tmp/tmpdjn_bp_x/email-preview/target/classes
[INFO] /tmp/tmpdjn_bp_x/email-preview/src/main/java/org/jasig/portlet/emailpreview/dao/exchange/TestingDontUseTrustEveryoneNtlmAuthHttpClient.java: Some input files use or override a deprecated API.
[INFO] /tmp/tmpdjn_bp_x/email-preview/src/main/java/org/jasig/portlet/emailpreview/dao/exchange/TestingDontUseTrustEveryoneNtlmAuthHttpClient.java: Recompile with -Xlint:deprecation for details.
[INFO] /tmp/tmpdjn_bp_x/email-preview/src/main/java/org/jasig/portlet/emailpreview/service/auth/BaseCredentialsAuthenticationService.java: Some input files use unchecked or unsafe operations.
[INFO] /tmp/tmpdjn_bp_x/email-preview/src/main/java/org/jasig/portlet/emailpreview/service/auth/BaseCredentialsAuthenticationService.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- gmaven-plugin:1.5:generateTestStubs (default) @ email-preview ---
[INFO] Generated 2 Java stubs
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ email-preview ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ email-preview ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 11 source files to /tmp/tmpdjn_bp_x/email-preview/target/test-classes
[INFO] /tmp/tmpdjn_bp_x/email-preview/src/test/java/org/jasig/portlet/emailpreview/util/MessageUtilsTest.java: Some input files use or override a deprecated API.
[INFO] /tmp/tmpdjn_bp_x/email-preview/src/test/java/org/jasig/portlet/emailpreview/util/MessageUtilsTest.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- gmaven-plugin:1.5:testCompile (default) @ email-preview ---
[INFO] Compiled 3 Groovy classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ email-preview ---
[INFO] Surefire report directory: /tmp/tmpdjn_bp_x/email-preview/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.jasig.portlet.emailpreview.EmailQuotaTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.123 sec - in org.jasig.portlet.emailpreview.EmailQuotaTest
Running org.jasig.portlet.emailpreview.service.auth.CachedPasswordAuthenticationServiceTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.433 sec - in org.jasig.portlet.emailpreview.service.auth.CachedPasswordAuthenticationServiceTest
Running org.jasig.portlet.emailpreview.service.link.SimpleEmailLinkServiceImplTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in org.jasig.portlet.emailpreview.service.link.SimpleEmailLinkServiceImplTest
Running org.jasig.portlet.emailpreview.service.link.LinkServiceRegistryImplTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.jasig.portlet.emailpreview.service.link.LinkServiceRegistryImplTest
Running org.jasig.portlet.emailpreview.util.EmailAccountUtilsTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.022 sec - in org.jasig.portlet.emailpreview.util.EmailAccountUtilsTest
Running org.jasig.portlet.emailpreview.util.MessageUtilsGroovyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.067 sec - in org.jasig.portlet.emailpreview.util.MessageUtilsGroovyTest
Running org.jasig.portlet.emailpreview.util.MessageUtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec - in org.jasig.portlet.emailpreview.util.MessageUtilsTest
Running org.jasig.portlet.emailpreview.EmailMessageTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec - in org.jasig.portlet.emailpreview.EmailMessageTest
Running org.jasig.portlet.emailpreview.dao.SimpleServiceBrokerTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.203 sec - in org.jasig.portlet.emailpreview.dao.SimpleServiceBrokerTest
Running org.jasig.portlet.emailpreview.dao.EmailAccountDaoImplIntegrationTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.658 sec - in org.jasig.portlet.emailpreview.dao.EmailAccountDaoImplIntegrationTest

Results :

Tests run: 21, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:report (report) @ email-preview ---
[INFO] Loading execution data file /tmp/tmpdjn_bp_x/email-preview/target/jacoco.exec
[INFO] Analyzed bundle 'Email Preview Portlet' with 998 classes
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  46.499 s
[INFO] Finished at: 2020-07-30T15:44:56Z
[INFO] ------------------------------------------------------------------------
