[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------------< com.pdwu:easycloud >-------------------------
[INFO] Building easycloud Maven Webapp 1.0-SNAPSHOT
[INFO] --------------------------------[ war ]---------------------------------
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ easycloud ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmpb2nsx57v/EasyCloud/server/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ easycloud ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 11 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ easycloud ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 41 source files to /tmp/tmpb2nsx57v/EasyCloud/server/target/classes
[WARNING] /tmp/tmpb2nsx57v/EasyCloud/server/src/main/java/com/pdwu/easycloud/file/controller/DownloadController.java: /tmp/tmpb2nsx57v/EasyCloud/server/src/main/java/com/pdwu/easycloud/file/controller/DownloadController.java uses unchecked or unsafe operations.
[WARNING] /tmp/tmpb2nsx57v/EasyCloud/server/src/main/java/com/pdwu/easycloud/file/controller/DownloadController.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ easycloud ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /tmp/tmpb2nsx57v/EasyCloud/server/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ easycloud ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 24 source files to /tmp/tmpb2nsx57v/EasyCloud/server/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ easycloud ---
[INFO] Surefire report directory: /tmp/tmpb2nsx57v/EasyCloud/server/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.pdwu.easycloud.user.interceptor.LoginInterceptorTest
2020-07-30 20:00:22 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:23 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6c806c8b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6dfcffb5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@184fb68d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71d8cfe7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e530163, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@14d8444b]
2020-07-30 20:00:23 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/spring-context.xml]
2020-07-30 20:00:23 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/spring-mybatis.xml]
2020-07-30 20:00:23 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2020-07-30 20:00:24 [org.springframework.web.context.support.GenericWebApplicationContext:583] [INFO] - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@407873d3: startup date [Thu Jul 30 20:00:24 UTC 2020]; root of context hierarchy
2020-07-30 20:00:24 [org.springframework.context.annotation.ConfigurationClassParser:458] [INFO] - Properties location [file:/home/myAppConf/easycloud.app.properties] not resolvable: /home/myAppConf/easycloud.app.properties (No such file or directory)
2020-07-30 20:00:24 [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer:185] [INFO] - Properties resource not found: /home/myAppConf/easycloud.db.properties (No such file or directory)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/download]}" onto public void com.pdwu.easycloud.file.controller.DownloadController.download(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/preview]}" onto public void com.pdwu.easycloud.file.controller.DownloadController.preview(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.lang.Long,java.lang.Long) throws java.io.IOException
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/share/{shareLink}]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.PublicShareController.getShareFile(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/login],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/logout]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.logout(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:25 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/register],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.register(java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:26 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@407873d3: startup date [Thu Jul 30 20:00:24 UTC 2020]; root of context hierarchy
2020-07-30 20:00:26 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@407873d3: startup date [Thu Jul 30 20:00:24 UTC 2020]; root of context hierarchy
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:33] [DEBUG] - preHandle.RequestURI: /api/usr/xxx
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:39] [DEBUG] - preHandle.getTokenFromRequest.token: 
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:33] [DEBUG] - preHandle.RequestURI: /api/pub/xxx
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:39] [DEBUG] - preHandle.getTokenFromRequest.token: 
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:33] [DEBUG] - preHandle.RequestURI: /api/usr/xxx
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:39] [DEBUG] - preHandle.getTokenFromRequest.token: token222
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:33] [DEBUG] - preHandle.RequestURI: /api/pub/xxx
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:39] [DEBUG] - preHandle.getTokenFromRequest.token: token222
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:33] [DEBUG] - preHandle.RequestURI: /api/usr/xxx
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:39] [DEBUG] - preHandle.getTokenFromRequest.token: token111
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:33] [DEBUG] - preHandle.RequestURI: /api/pub/xxx
2020-07-30 20:00:27 [com.pdwu.easycloud.user.interceptor.LoginInterceptor:39] [DEBUG] - preHandle.getTokenFromRequest.token: token111
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.128 sec - in com.pdwu.easycloud.user.interceptor.LoginInterceptorTest
Running com.pdwu.easycloud.user.service.impl.UserServiceImplTest
2020-07-30 20:00:27 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:27 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@219912ec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@23ea8293, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@40fef04c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1e2ffb8e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@77c894d5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@417ea5]
2020-07-30 20:00:27 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/spring-context.xml]
2020-07-30 20:00:27 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/spring-mybatis.xml]
2020-07-30 20:00:27 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2020-07-30 20:00:27 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/db-test.xml]
2020-07-30 20:00:27 [org.springframework.beans.factory.support.DefaultListableBeanFactory:828] [INFO] - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Generic bean: class [org.apache.commons.dbcp.BasicDataSource]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=close; defined in class path resource [spring/spring-mybatis.xml]] with [Root bean: class [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2020-07-30 20:00:27 [org.springframework.web.context.support.GenericWebApplicationContext:583] [INFO] - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@378a9271: startup date [Thu Jul 30 20:00:27 UTC 2020]; root of context hierarchy
2020-07-30 20:00:27 [org.springframework.context.annotation.ConfigurationClassParser:458] [INFO] - Properties location [file:/home/myAppConf/easycloud.app.properties] not resolvable: /home/myAppConf/easycloud.app.properties (No such file or directory)
2020-07-30 20:00:27 [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer:185] [INFO] - Properties resource not found: /home/myAppConf/easycloud.db.properties (No such file or directory)
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory:185] [INFO] - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:441] [INFO] - Executing SQL script from class path resource [db/h2/createTable.sql]
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: SET MODE MySQL
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: DROP TABLE IF EXISTS user_info
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: CREATE TABLE user_info ( user_id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, account VARCHAR(10) NOT NULL, password VARCHAR(64) NOT NULL, create_time DATETIME(3) NOT NULL, last_time DATETIME(3) NOT NULL ) ENGINE = INNODB AUTO_INCREMENT = 10001 DEFAULT CHARSET = utf8
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: DROP TABLE IF EXISTS user_token
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: CREATE TABLE user_token ( user_id BIGINT UNSIGNED, token VARCHAR(32) NOT NULL, status TINYINT DEFAULT 0, create_time DATETIME(3) NOT NULL, last_time DATETIME(3) NOT NULL ) ENGINE = INNODB DEFAULT CHARSET = utf8
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: DROP TABLE IF EXISTS file_info
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: CREATE TABLE file_info ( file_id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, user_id BIGINT UNSIGNED, md5 VARCHAR(32) NOT NULL, path VARCHAR(100) NOT NULL, name VARCHAR(60) NOT NULL, size INT UNSIGNED DEFAULT 0, status TINYINT DEFAULT 0, create_time DATETIME(3) NOT NULL, last_time DATETIME(3) NOT NULL ) ENGINE = INNODB AUTO_INCREMENT = 101 DEFAULT CHARSET = utf8
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: DROP TABLE IF EXISTS share_info
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: CREATE TABLE share_info ( share_id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, user_id BIGINT UNSIGNED, file_id BIGINT UNSIGNED, password VARCHAR(10), shortlink VARCHAR(32), status TINYINT DEFAULT 0, create_time DATETIME(3) NOT NULL, last_time DATETIME(3) NOT NULL ) ENGINE = INNODB AUTO_INCREMENT = 100001 DEFAULT CHARSET = utf8
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.init.ScriptUtils:507] [INFO] - Executed SQL script from class path resource [db/h2/createTable.sql] in 122 ms.
2020-07-30 20:00:28 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/download]}" onto public void com.pdwu.easycloud.file.controller.DownloadController.download(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/preview]}" onto public void com.pdwu.easycloud.file.controller.DownloadController.preview(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.lang.Long,java.lang.Long) throws java.io.IOException
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/share/{shareLink}]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.PublicShareController.getShareFile(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/login],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/logout]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.logout(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/register],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.register(java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@378a9271: startup date [Thu Jul 30 20:00:27 UTC 2020]; root of context hierarchy
2020-07-30 20:00:29 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@378a9271: startup date [Thu Jul 30 20:00:27 UTC 2020]; root of context hierarchy
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.logout]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn2: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn2: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn2: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn2: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.logout]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn3: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn3: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==>  Preparing: UPDATE user_token SET status=? WHERE token = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==> Parameters: 1(Integer), nothisToken(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn3: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn3: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.logout]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn4: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn4: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==>  Preparing: UPDATE user_token SET status=? WHERE token = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==> Parameters: 1(Integer), 14d8aa790b4444aa9796c92cf8af28d9(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn4: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn4: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn6: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn6: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn6: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn6: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn7: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn7: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM user_info WHERE account = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - ==> Parameters: newUser(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.insertUser:159] [DEBUG] - ==>  Preparing: INSERT INTO user_info (account, password, create_time, last_time) VALUES (?, ?, ?, ?) 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.insertUser:159] [DEBUG] - ==> Parameters: newUser(String), 4df9893cb445c220389e50308f347e63(String), 2020-07-30 20:00:29.722(Timestamp), 2020-07-30 20:00:29.722(Timestamp)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.insertUser:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn7: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn7: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn8: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn8: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM user_info WHERE account = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - ==> Parameters: xiaoming(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn8: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn8: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn10: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn10: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn10: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn10: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn11: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn11: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn11: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn11: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn12: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn12: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn12: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn12: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn13: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn13: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE account = ? AND password = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==> Parameters: nothisaccount(String), 34819d7beeabb9260a5c854bc85b3e44(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn13: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn13: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn14: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn14: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE account = ? AND password = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==> Parameters: xiaoming(String), 982f495c7b7ec63a8ff17d2c0b7f8562(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn14: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn14: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.UserServiceImpl.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn15: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn15: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE account = ? AND password = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==> Parameters: xiaoming(String), 81c93a6d22daaa5fdb4dbd4267e5e06e(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.insertToken:159] [DEBUG] - ==>  Preparing: INSERT INTO user_token (user_id, token, create_time, last_time, status) VALUES (?, ?, ?, ?, ?) 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.insertToken:159] [DEBUG] - ==> Parameters: 10010(Long), 9625caea1606484d9731d62979bbc8c5(String), 2020-07-30 20:00:29.792(Timestamp), 2020-07-30 20:00:29.792(Timestamp), 0(Integer)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.insertToken:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn15: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn15: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE user_id = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==> Parameters: 10010(Long)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE account = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==> Parameters: zhangsan(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE user_id = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==> Parameters: 9999(Long)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.316 sec - in com.pdwu.easycloud.user.service.impl.UserServiceImplTest
Running com.pdwu.easycloud.user.service.impl.TokenServiceImplTest
2020-07-30 20:00:29 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:29 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@40ac6287, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1b0468d1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ea8c907, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5634f783, org.springframework.test.context.transaction.TransactionalTestExecutionListener@75af0f98, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4d55b31c]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.addToken]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn20: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn20: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.insertToken:159] [DEBUG] - ==>  Preparing: INSERT INTO user_token (user_id, token, create_time, last_time, status) VALUES (?, ?, ?, ?, ?) 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.insertToken:159] [DEBUG] - ==> Parameters: 10055(Long), d934149a3a5245e19c17a200f5d83f3f(String), 2020-07-30 20:00:29.874(Timestamp), 2020-07-30 20:00:29.874(Timestamp), 0(Integer)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.insertToken:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn20: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn20: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.checkTokenValid]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn22: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn22: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn22: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn22: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn22: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.checkTokenValid]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn23: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn23: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn23: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==>  Preparing: SELECT user_id,token,create_time,last_time,status FROM user_token WHERE token = ? AND status = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==> Parameters: nothistoken(String), 0(Integer)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn23: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn23: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.checkTokenValid]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn24: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn24: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn24: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==>  Preparing: SELECT user_id,token,create_time,last_time,status FROM user_token WHERE token = ? AND status = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==> Parameters: 12d8aa790b4444aa9796c92cf8af28d9(String), 0(Integer)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn24: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn24: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.checkTokenValid]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn25: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn25: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn25: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==>  Preparing: SELECT user_id,token,create_time,last_time,status FROM user_token WHERE token = ? AND status = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==> Parameters: 14d8aa790b4444aa9796c92cf8af28d9(String), 0(Integer)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn25: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn25: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.checkTokenValid]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn26: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn26: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn26: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==>  Preparing: SELECT user_id,token,create_time,last_time,status FROM user_token WHERE token = ? AND status = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==> Parameters: 19d8aa790b4444aa9796c92cf8af28d9(String), 0(Integer)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn26: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn26: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.updateTokenStatus]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn28: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn28: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn28: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn28: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.updateTokenStatus]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn29: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn29: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==>  Preparing: UPDATE user_token SET status=? WHERE token = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==> Parameters: 1(Integer), 14d8aa790b4444aa9796c92cf8af28d9(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn29: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn29: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.updateTokenStatus]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn30: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn30: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==>  Preparing: UPDATE user_token SET status=? WHERE token = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==> Parameters: 1(Integer), 12d8aa790b4444aa9796c92cf8af28d9(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn30: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn30: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.user.service.impl.TokenServiceImpl.updateTokenStatus]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn31: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn31: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==>  Preparing: UPDATE user_token SET status=? WHERE token = ? 
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==> Parameters: 1(Integer), faopsfjaf(String)
2020-07-30 20:00:29 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn31: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn31: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:29 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.114 sec - in com.pdwu.easycloud.user.service.impl.TokenServiceImplTest
Running com.pdwu.easycloud.user.controller.UserControllerTest
2020-07-30 20:00:29 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:29 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3aff6f9e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4239d51b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3400a4a9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@603c041c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@217e141a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2de39c23]
2020-07-30 20:00:30 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/login],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:30 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/logout]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.logout(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:30 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/register],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.register(java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@3001de8c
2020-07-30 20:00:30 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:30 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:30 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 1 ms

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/usr/logout
       Parameters = {token=[token1233]}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.user.controller.UserController
           Method = public java.lang.Object com.pdwu.easycloud.user.controller.UserController.logout(javax.servlet.http.HttpServletRequest,java.lang.String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":""}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/usr/logout
       Parameters = {}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.user.controller.UserController
           Method = public java.lang.Object com.pdwu.easycloud.user.controller.UserController.logout(javax.servlet.http.HttpServletRequest,java.lang.String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":""}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:30 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/login],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:30 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/logout]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.logout(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:30 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/register],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.register(java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@5429db71
2020-07-30 20:00:30 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:30 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:30 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms
2020-07-30 20:00:30 [com.pdwu.easycloud.user.controller.UserController:65] [DEBUG] - /register request: {password=zhansanPsd, account=zhangsan}
2020-07-30 20:00:30 [com.pdwu.easycloud.user.controller.UserController:65] [DEBUG] - /register request: {password=lisiPsd, account=lisi}

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/pub/register
       Parameters = {}
          Headers = {Content-Type=[application/json]}

Handler:
             Type = com.pdwu.easycloud.user.controller.UserController
           Method = public java.lang.Object com.pdwu.easycloud.user.controller.UserController.register(java.util.Map<java.lang.String, java.lang.String>)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":""}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:30 [com.pdwu.easycloud.user.controller.UserController:65] [DEBUG] - /register request: {password=, account=}

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/pub/register
       Parameters = {}
          Headers = {Content-Type=[application/json]}

Handler:
             Type = com.pdwu.easycloud.user.controller.UserController
           Method = public java.lang.Object com.pdwu.easycloud.user.controller.UserController.register(java.util.Map<java.lang.String, java.lang.String>)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":400,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:30 [com.pdwu.easycloud.user.controller.UserController:65] [DEBUG] - /register request: {password=, account=faf}

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/pub/register
       Parameters = {}
          Headers = {Content-Type=[application/json]}

Handler:
             Type = com.pdwu.easycloud.user.controller.UserController
           Method = public java.lang.Object com.pdwu.easycloud.user.controller.UserController.register(java.util.Map<java.lang.String, java.lang.String>)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":400,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:30 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/login],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:30 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/logout]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.logout(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:30 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/register],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.register(java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@3d573851
2020-07-30 20:00:30 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:30 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:30 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/pub/login
       Parameters = {}
          Headers = {Content-Type=[application/json]}

Handler:
             Type = com.pdwu.easycloud.user.controller.UserController
           Method = public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":{"userId":null,"account":"xiaoming","password":null,"createTime":"2017-12-15 06:06:07","lastTime":"2017-12-15 06:06:07","token":"12d8aa790b4444aa9796c92cf8af28d9"}}
    Forwarded URL = null
   Redirected URL = null
          Cookies = [[Cookie@6a0ab4cc name = 'easycloud_token', value = '12d8aa790b4444aa9796c92cf8af28d9', comment = [null], domain = [null], maxAge = 7200, path = '/', secure = false, version = 0, httpOnly = true]]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/pub/login
       Parameters = {}
          Headers = {Content-Type=[application/json]}

Handler:
             Type = com.pdwu.easycloud.user.controller.UserController
           Method = public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":400,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/pub/login
       Parameters = {}
          Headers = {Content-Type=[application/json]}

Handler:
             Type = com.pdwu.easycloud.user.controller.UserController
           Method = public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":400,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/pub/login
       Parameters = {}
          Headers = {Content-Type=[application/json]}

Handler:
             Type = com.pdwu.easycloud.user.controller.UserController
           Method = public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":400,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.464 sec - in com.pdwu.easycloud.user.controller.UserControllerTest
Running com.pdwu.easycloud.user.util.TokenUtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.pdwu.easycloud.user.util.TokenUtilsTest
Running com.pdwu.easycloud.user.dao.TokenDaoTest
2020-07-30 20:00:30 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:30 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@60b929b2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5ea45947, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3270506a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5ab4edb4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73e9abe9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f7bbab2]
2020-07-30 20:00:30 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/spring-context.xml]
2020-07-30 20:00:30 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/spring-mybatis.xml]
2020-07-30 20:00:30 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2020-07-30 20:00:30 [org.springframework.beans.factory.xml.XmlBeanDefinitionReader:317] [INFO] - Loading XML bean definitions from class path resource [spring/db-test.xml]
2020-07-30 20:00:30 [org.springframework.beans.factory.support.DefaultListableBeanFactory:828] [INFO] - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Generic bean: class [org.apache.commons.dbcp.BasicDataSource]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=close; defined in class path resource [spring/spring-mybatis.xml]] with [Root bean: class [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2020-07-30 20:00:30 [org.springframework.web.context.support.GenericWebApplicationContext:583] [INFO] - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3f384837: startup date [Thu Jul 30 20:00:30 UTC 2020]; root of context hierarchy
2020-07-30 20:00:30 [org.springframework.context.annotation.ConfigurationClassParser:458] [INFO] - Properties location [file:/home/myAppConf/easycloud.app.properties] not resolvable: /home/myAppConf/easycloud.app.properties (No such file or directory)
2020-07-30 20:00:30 [org.springframework.beans.factory.config.PropertyPlaceholderConfigurer:185] [INFO] - Properties resource not found: /home/myAppConf/easycloud.db.properties (No such file or directory)
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory:185] [INFO] - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:441] [INFO] - Executing SQL script from class path resource [db/h2/createTable.sql]
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: SET MODE MySQL
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: DROP TABLE IF EXISTS user_info
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: CREATE TABLE user_info ( user_id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, account VARCHAR(10) NOT NULL, password VARCHAR(64) NOT NULL, create_time DATETIME(3) NOT NULL, last_time DATETIME(3) NOT NULL ) ENGINE = INNODB AUTO_INCREMENT = 10001 DEFAULT CHARSET = utf8
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: DROP TABLE IF EXISTS user_token
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: CREATE TABLE user_token ( user_id BIGINT UNSIGNED, token VARCHAR(32) NOT NULL, status TINYINT DEFAULT 0, create_time DATETIME(3) NOT NULL, last_time DATETIME(3) NOT NULL ) ENGINE = INNODB DEFAULT CHARSET = utf8
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: DROP TABLE IF EXISTS file_info
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: CREATE TABLE file_info ( file_id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, user_id BIGINT UNSIGNED, md5 VARCHAR(32) NOT NULL, path VARCHAR(100) NOT NULL, name VARCHAR(60) NOT NULL, size INT UNSIGNED DEFAULT 0, status TINYINT DEFAULT 0, create_time DATETIME(3) NOT NULL, last_time DATETIME(3) NOT NULL ) ENGINE = INNODB AUTO_INCREMENT = 101 DEFAULT CHARSET = utf8
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: DROP TABLE IF EXISTS share_info
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:473] [DEBUG] - 0 returned as update count for SQL: CREATE TABLE share_info ( share_id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, user_id BIGINT UNSIGNED, file_id BIGINT UNSIGNED, password VARCHAR(10), shortlink VARCHAR(32), status TINYINT DEFAULT 0, create_time DATETIME(3) NOT NULL, last_time DATETIME(3) NOT NULL ) ENGINE = INNODB AUTO_INCREMENT = 100001 DEFAULT CHARSET = utf8
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.init.ScriptUtils:507] [INFO] - Executed SQL script from class path resource [db/h2/createTable.sql] in 39 ms.
2020-07-30 20:00:30 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/download]}" onto public void com.pdwu.easycloud.file.controller.DownloadController.download(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/preview]}" onto public void com.pdwu.easycloud.file.controller.DownloadController.preview(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.lang.Long,java.lang.Long) throws java.io.IOException
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/share/{shareLink}]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.PublicShareController.getShareFile(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/login],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.login(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/logout]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.logout(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:30 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/register],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.user.controller.UserController.register(java.util.Map<java.lang.String, java.lang.String>)
2020-07-30 20:00:31 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3f384837: startup date [Thu Jul 30 20:00:30 UTC 2020]; root of context hierarchy
2020-07-30 20:00:31 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3f384837: startup date [Thu Jul 30 20:00:30 UTC 2020]; root of context hierarchy
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.insertToken:159] [DEBUG] - ==>  Preparing: INSERT INTO user_token (user_id, token, create_time, last_time, status) VALUES (?, ?, ?, ?, ?) 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.insertToken:159] [DEBUG] - ==> Parameters: 10099(Long), 123455790b4444aa9796c92cf8af2yyy(String), 2020-07-30 20:00:31.152(Timestamp), 2020-07-30 20:00:31.152(Timestamp), 0(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.insertToken:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==>  Preparing: SELECT user_id,token,create_time,last_time,status FROM user_token WHERE token = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==> Parameters: 12d8aa790b4444aa9796c92cf8af28d9(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==>  Preparing: SELECT user_id,token,create_time,last_time,status FROM user_token WHERE token = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==> Parameters: xxxxaa790b4444aa9796c92cf8af2xxx(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==>  Preparing: SELECT user_id,token,create_time,last_time,status FROM user_token WHERE token = ? AND status = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==> Parameters: 13d8aa790b4444aa9796c92cf8af28d9(String), 0(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==>  Preparing: SELECT user_id,token,create_time,last_time,status FROM user_token WHERE token = ? AND status = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==> Parameters: 13d8aa790b4444aa9796c92cf8af28d9(String), 1(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==>  Preparing: SELECT user_id,token,create_time,last_time,status FROM user_token WHERE user_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - ==> Parameters: 10012(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.selectToken:159] [DEBUG] - <==      Total: 2
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==>  Preparing: UPDATE user_token SET status=? WHERE token = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==> Parameters: 1(Integer), ooooooopxxx(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==>  Preparing: UPDATE user_token SET status=? WHERE token = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - ==> Parameters: 1(Integer), 14d8aa790b4444aa9796c92cf8af28d9(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.TokenDao.updateTokenStatus:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.782 sec - in com.pdwu.easycloud.user.dao.TokenDaoTest
Running com.pdwu.easycloud.user.dao.UserDaoTest
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@699a6c01, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@119983dd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@11e32a5e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@33ada320, org.springframework.test.context.transaction.TransactionalTestExecutionListener@9ed2b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@54b7c6bb]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE account = ? AND password = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==> Parameters: xiaoming(String), thisispassword(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE account = ? AND password = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==> Parameters: xiaoming(String), xxx(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE account = ? AND password = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - ==> Parameters: xiaohong(String), sss(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserByAccountAndPassword:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM user_info WHERE account = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - ==> Parameters: xiaoming(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM user_info WHERE account = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - ==> Parameters: oop(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserAccountCount:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE user_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==> Parameters: 10010(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE account = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==> Parameters: zhangsan(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE user_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==> Parameters: 10099(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==>  Preparing: SELECT user_id, account, create_time, last_time FROM user_info WHERE user_id = ? AND account = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - ==> Parameters: 10012(String), lisi(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.selectUserInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.insertUser:159] [DEBUG] - ==>  Preparing: INSERT INTO user_info (account, password, create_time, last_time) VALUES (?, ?, ?, ?) 
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.insertUser:159] [DEBUG] - ==> Parameters: testUser(String), testInsertUserPsd(String), 2017-12-15 06:06:07.83(Timestamp), 2017-12-15 06:06:07.83(Timestamp)
2020-07-30 20:00:31 [com.pdwu.easycloud.user.dao.UserDao.insertUser:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.156 sec - in com.pdwu.easycloud.user.dao.UserDaoTest
Running com.pdwu.easycloud.file.service.impl.ShareServiceImplTest
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@72f80f99, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@37ba8ede, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e7010e2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5632152e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@64845cb6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7abe286]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.listUserShareInfos]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn56: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn56: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn56: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn56: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn56: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.listUserShareInfos]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn57: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn57: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn57: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.user_id = ? LIMIT ?,? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 10011(Long), 0(Integer), 10(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 3
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn57: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn57: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.listUserShareInfos]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn58: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn58: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn58: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.user_id = ? AND share_info.status = ? LIMIT ?,? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 10011(Long), 0(Integer), 0(Integer), 10(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 2
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn58: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn58: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.listUserShareInfos]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn59: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn59: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn59: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.user_id = ? AND share_info.status = ? LIMIT ?,? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 10011(Long), 1(Integer), 0(Integer), 10(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn59: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn59: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.getShareFileInfoById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn61: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn61: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn61: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn61: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn61: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.getShareFileInfoById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn62: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn62: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn62: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.share_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 100123(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn62: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn62: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.getShareFileInfoById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn63: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn63: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn63: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.share_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 100999(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn63: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn63: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.deleteShareInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn65: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn65: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn65: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn65: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.deleteShareInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn66: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn66: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==>  Preparing: DELETE FROM share_info WHERE share_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==> Parameters: 100123(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn66: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn66: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.deleteShareInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn67: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn67: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==>  Preparing: DELETE FROM share_info WHERE share_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==> Parameters: 100999(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn67: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn67: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM share_info 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==> Parameters: 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM share_info WHERE share_info.user_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==> Parameters: 10011(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM share_info WHERE share_info.user_id = ? AND share_info.status = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==> Parameters: 10011(Long), 1(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.deleteShareInfoByFileId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn73: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn73: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn73: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn73: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.deleteShareInfoByFileId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn74: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn74: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==>  Preparing: DELETE FROM share_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==> Parameters: 1055(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - <==    Updates: 2
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn74: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn74: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.deleteShareInfoByFileId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn75: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn75: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==>  Preparing: DELETE FROM share_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==> Parameters: 100999(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn75: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn75: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.insertShareInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn77: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn77: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn77: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn77: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.ShareServiceImpl.insertShareInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn78: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn78: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.insertShareInfo:159] [DEBUG] - ==>  Preparing: INSERT INTO share_info (user_id, file_id, status, create_time, last_time) VALUES (?, ?, ?, ?, ?) 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.insertShareInfo:159] [DEBUG] - ==> Parameters: 10099(Long), 105(Long), 1(Integer), 2020-07-30 20:00:31.6(Timestamp), 2020-07-30 20:00:31.6(Timestamp)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.insertShareInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.updateShareInfo:159] [DEBUG] - ==>  Preparing: UPDATE share_info SET last_time = ? , shortlink = ? WHERE share_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.updateShareInfo:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:31.603(Timestamp), http://localhost:8080/share/Bho(String), 104225(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.updateShareInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn78: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn78: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.254 sec - in com.pdwu.easycloud.file.service.impl.ShareServiceImplTest
Running com.pdwu.easycloud.file.service.impl.ShortLinkServiceImplTest
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3def083a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@47743d8a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2d411abb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@57daea, org.springframework.test.context.transaction.TransactionalTestExecutionListener@453cbc02, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@23424142]
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec - in com.pdwu.easycloud.file.service.impl.ShortLinkServiceImplTest
Running com.pdwu.easycloud.file.service.impl.DownloadServiceImplTest
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@27e788be, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22838912, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@57633a5b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6fbd56da, org.springframework.test.context.transaction.TransactionalTestExecutionListener@748481eb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4a714d70]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.DownloadServiceImpl.download]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn80: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn80: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn80: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 199(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn80: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn80: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.DownloadServiceImpl.download]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn81: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn81: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn81: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 101(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn81: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn81: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.DownloadServiceImpl.download]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn82: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn82: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn82: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 102(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn82: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn82: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.DownloadServiceImpl.download]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn83: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn83: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn83: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 103(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.share_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 100123(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn83: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn83: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.DownloadServiceImpl.download]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn84: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn84: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn84: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 102(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.share_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 100012(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn84: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn84: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.DownloadServiceImpl.download]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn85: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn85: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn85: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 102(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn85: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn85: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.049 sec - in com.pdwu.easycloud.file.service.impl.DownloadServiceImplTest
Running com.pdwu.easycloud.file.service.impl.FileServiceImplTest
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@760e0b3c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@9c2a5b5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@18204075, org.springframework.test.context.support.DirtiesContextTestExecutionListener@453f92db, org.springframework.test.context.transaction.TransactionalTestExecutionListener@436e26ab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5f1dcc7e]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.getFileInfoByMD5]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn87: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn87: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn87: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn87: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn87: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.getFileInfoByMD5]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn88: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn88: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn88: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE md5 = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 099b3b060154898840f0ebdfb46ec78f(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn88: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn88: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.listUserFiles]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn89: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn89: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn89: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn89: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn89: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.listUserFiles]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn90: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn90: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn90: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE user_id = ? LIMIT ?,? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 10011(Long), 0(Integer), 10(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 2
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn90: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn90: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.listUserFiles]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn91: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn91: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn91: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE user_id = ? AND status = ? LIMIT ?,? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 10011(Long), 1(Integer), 0(Integer), 10(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn91: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn91: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.listUserFiles]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn92: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn92: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn92: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE user_id = ? AND status = ? LIMIT ?,? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 10011(Long), 0(Integer), 0(Integer), 10(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn92: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn92: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.listUserFiles]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn93: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn93: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn93: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE user_id = ? LIMIT ?,? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 19999(Long), 0(Integer), 10(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn93: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn93: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.uploadFile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn94: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn94: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn94: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn94: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.uploadFile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn95: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn95: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn95: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn95: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.uploadFile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn96: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn96: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE md5 = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: c336d6ff2a7200046f45c08316cd95f7(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:31 [com.pdwu.easycloud.file.service.impl.FileServiceImpl:136] [DEBUG] - uploadFile path: D:\easycloud\userfiles\1596139231814.txt
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - ==>  Preparing: INSERT INTO file_info (user_id, md5, path, name, size, status, create_time, last_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?) 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - ==> Parameters: 10012(Long), c336d6ff2a7200046f45c08316cd95f7(String), D:\easycloud\userfiles\1596139231814.txt(String), filename.txt(String), 30(Long), 0(Integer), 2020-07-30 20:00:31.82(Timestamp), 2020-07-30 20:00:31.82(Timestamp)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn96: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn96: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.uploadFile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn97: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn97: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE md5 = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: c336d6ff2a7200046f45c08316cd95f7(String)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - ==>  Preparing: INSERT INTO file_info (user_id, md5, path, name, size, status, create_time, last_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?) 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - ==> Parameters: 10013(Long), c336d6ff2a7200046f45c08316cd95f7(String), D:\easycloud\userfiles\1596139231814.txt(String), filenameDiff.txt(String), 30(Long), 0(Integer), 2020-07-30 20:00:31.842(Timestamp), 2020-07-30 20:00:31.842(Timestamp)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn97: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn97: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.updateFileName]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn99: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn99: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn99: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn99: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.updateFileName]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn100: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn100: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn100: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn100: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.updateFileName]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn101: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn101: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==>  Preparing: UPDATE file_info SET last_time = ? , name = ? WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:31.887(Timestamp), ooop.jpg(String), 101(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn101: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn101: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.updateFileName]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn102: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn102: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==>  Preparing: UPDATE file_info SET last_time = ? , name = ? WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:31.892(Timestamp), xxx.png(String), 1007770(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn102: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn102: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.getFileInfoById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn104: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn104: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn104: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn104: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn104: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.getFileInfoById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn105: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:153] [DEBUG] - Setting JDBC Connection [conn105: url=jdbc:h2:mem:dataSource user=SA] read-only
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn105: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 103(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn105: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn105: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.insertFileInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn106: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn106: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn106: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn106: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.insertFileInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn107: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn107: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - ==>  Preparing: INSERT INTO file_info (user_id, md5, path, name, size, status, create_time, last_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?) 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - ==> Parameters: 10099(Long), 7b8b965ad4bca0e41ab51de7b31363a1(String), /file/10099/(String), 1513317967899.png(String), null, 0(Integer), 2020-07-30 20:00:31.914(Timestamp), 2020-07-30 20:00:31.914(Timestamp)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn107: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn107: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.deleteFileInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn109: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn109: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn109: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn109: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.deleteFileInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn110: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn110: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==>  Preparing: UPDATE file_info SET last_time = ? , status = ? WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:31.922(Timestamp), 1(Integer), 101(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==>  Preparing: DELETE FROM share_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==> Parameters: 101(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn110: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn110: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:367] [DEBUG] - Creating new transaction with name [com.pdwu.easycloud.file.service.impl.FileServiceImpl.deleteFileInfo]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:248] [DEBUG] - Acquired Connection [conn111: url=jdbc:h2:mem:dataSource user=SA] for JDBC transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:265] [DEBUG] - Switching JDBC Connection [conn111: url=jdbc:h2:mem:dataSource user=SA] to manual commit
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==>  Preparing: UPDATE file_info SET last_time = ? , status = ? WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:31.927(Timestamp), 1(Integer), 1000(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:476] [DEBUG] - Participating in existing transaction
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==>  Preparing: DELETE FROM share_info WHERE file_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==> Parameters: 1000(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:759] [DEBUG] - Initiating transaction commit
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:310] [DEBUG] - Committing JDBC transaction on Connection [conn111: url=jdbc:h2:mem:dataSource user=SA]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceTransactionManager:368] [DEBUG] - Releasing JDBC Connection [conn111: url=jdbc:h2:mem:dataSource user=SA] after transaction
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM file_info 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==> Parameters: 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM file_info WHERE user_id = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==> Parameters: 10011(Long)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM file_info WHERE user_id = ? AND status = ? 
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==> Parameters: 10011(Long), 0(Integer)
2020-07-30 20:00:31 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:31 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.228 sec - in com.pdwu.easycloud.file.service.impl.FileServiceImplTest
Running com.pdwu.easycloud.file.controller.FileManageControllerTest
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:31 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f16479, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2fd2bbb1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3004029b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1bf1e30c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@368e8ea7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c3bb4f4]
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:32 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@3769c2a6
2020-07-30 20:00:32 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/usr/file/cancelShare
       Parameters = {shareId=[111]}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.FileManageController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":""}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:32 [org.springframework.web.servlet.PageNotFound:215] [WARN] - Request method 'GET' not supported

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/usr/file/cancelShare
       Parameters = {shareId=[111]}
          Headers = {}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.web.HttpRequestMethodNotSupportedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 405
    Error message = Request method 'GET' not supported
          Headers = {Allow=[POST]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:32 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@29ef9afd
2020-07-30 20:00:32 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/usr/file/shareList
       Parameters = {}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.FileManageController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":{"totalNumber":0,"totalPage":0,"count":2,"pageSize":10,"list":[{"shareId":null,"userId":null,"fileId":null,"password":null,"shortlink":null,"status":null,"createTime":null,"lastTime":null,"fileInfo":null},{"shareId":null,"userId":null,"fileId":null,"password":null,"shortlink":null,"status":null,"createTime":null,"lastTime":null,"fileInfo":null}],"pageNum":1}}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/usr/file/shareList
       Parameters = {pageNum=[1], pageSize=[10]}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.FileManageController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":{"totalNumber":0,"totalPage":0,"count":2,"pageSize":10,"list":[{"shareId":null,"userId":null,"fileId":null,"password":null,"shortlink":null,"status":null,"createTime":null,"lastTime":null,"fileInfo":null},{"shareId":null,"userId":null,"fileId":null,"password":null,"shortlink":null,"status":null,"createTime":null,"lastTime":null,"fileInfo":null}],"pageNum":1}}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:32 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@681f1774
2020-07-30 20:00:32 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/usr/file/delete
       Parameters = {fileId=[123]}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.FileManageController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":400,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:32 [org.springframework.web.servlet.PageNotFound:215] [WARN] - Request method 'GET' not supported
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:32 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@241b26c
2020-07-30 20:00:32 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms
2020-07-30 20:00:32 [org.springframework.web.servlet.PageNotFound:215] [WARN] - Request method 'GET' not supported
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:32 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@11f5ae46
2020-07-30 20:00:32 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms
2020-07-30 20:00:32 [com.pdwu.easycloud.file.controller.FileManageController:54] [DEBUG] - uploadFile userId: 1001, multipartFile contentType: null, Name: file, OriginalFilename: , size: 12

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/usr/file/upload
       Parameters = {}
          Headers = {Content-Type=[multipart/form-data]}

Handler:
             Type = com.pdwu.easycloud.file.controller.FileManageController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":{"fileId":null,"userId":null,"md5":null,"name":null,"status":null,"size":null,"createTime":null,"lastTime":null}}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:32 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@52eb98bc
2020-07-30 20:00:32 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 1 ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/usr/file/share
       Parameters = {fileId=[123]}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.FileManageController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":400,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2020-07-30 20:00:32 [org.springframework.web.servlet.PageNotFound:215] [WARN] - Request method 'GET' not supported
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/list]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/upload],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.uploadFile(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.springframework.web.multipart.MultipartFile)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/share],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.share(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/shareList]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.shareList(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/cancelShare],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.cancelShare(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/delete],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.delete(javax.servlet.http.HttpServletRequest,java.lang.Long)
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/usr/file/rename],methods=[POST]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.rename(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2020-07-30 20:00:32 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@72d699a9
2020-07-30 20:00:32 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/usr/file/list
       Parameters = {}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.FileManageController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":{"totalNumber":25,"totalPage":3,"count":2,"pageSize":10,"list":[{"fileId":null,"userId":null,"md5":null,"name":null,"status":null,"size":null,"createTime":null,"lastTime":null},{"fileId":null,"userId":null,"md5":null,"name":null,"status":null,"size":null,"createTime":null,"lastTime":null}],"pageNum":1,"userId":1001}}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/usr/file/list
       Parameters = {pageNum=[1], pageSize=[10]}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.FileManageController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.FileManageController.listMyFiles(javax.servlet.http.HttpServletRequest,java.lang.Integer,java.lang.Integer)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":{"totalNumber":25,"totalPage":3,"count":2,"pageSize":10,"list":[{"fileId":null,"userId":null,"md5":null,"name":null,"status":null,"size":null,"createTime":null,"lastTime":null},{"fileId":null,"userId":null,"md5":null,"name":null,"status":null,"size":null,"createTime":null,"lastTime":null}],"pageNum":1,"userId":1001}}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.563 sec - in com.pdwu.easycloud.file.controller.FileManageControllerTest
Running com.pdwu.easycloud.file.controller.PublicShareControllerTest
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68653a67, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@30681479, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5ba2fc68, org.springframework.test.context.support.DirtiesContextTestExecutionListener@364e2e84, org.springframework.test.context.transaction.TransactionalTestExecutionListener@77398c28, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@702956a]
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/share/{shareLink}]}" onto public java.lang.Object com.pdwu.easycloud.file.controller.PublicShareController.getShareFile(javax.servlet.http.HttpServletRequest,java.lang.String)
2020-07-30 20:00:32 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@519d42c0
2020-07-30 20:00:32 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/pub/share/shortlinkabc
       Parameters = {}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.PublicShareController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.PublicShareController.getShareFile(javax.servlet.http.HttpServletRequest,java.lang.String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":404,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/pub/share/shortlinkefg
       Parameters = {}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.PublicShareController
           Method = public java.lang.Object com.pdwu.easycloud.file.controller.PublicShareController.getShareFile(javax.servlet.http.HttpServletRequest,java.lang.String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"msg":"","code":200,"data":{"shareId":null,"userId":null,"fileId":null,"password":null,"shortlink":null,"status":null,"createTime":null,"lastTime":null,"fileInfo":null}}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.142 sec - in com.pdwu.easycloud.file.controller.PublicShareControllerTest
Running com.pdwu.easycloud.file.controller.DownloadControllerTest
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f2362b9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22b6ba19, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7fd06fdd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@44f930bb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@70fba437, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@678abe43]
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/download]}" onto public void com.pdwu.easycloud.file.controller.DownloadController.download(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2020-07-30 20:00:32 [org.springframework.test.web.servlet.setup.StandaloneMockMvcBuilder$StaticRequestMappingHandlerMapping:543] [INFO] - Mapped "{[/api/pub/preview]}" onto public void com.pdwu.easycloud.file.controller.DownloadController.preview(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.lang.Long,java.lang.Long) throws java.io.IOException
2020-07-30 20:00:32 [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter:534] [INFO] - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@62f80293
2020-07-30 20:00:32 [org.springframework.mock.web.MockServletContext:440] [INFO] - Initializing Spring FrameworkServlet ''
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:489] [INFO] - FrameworkServlet '': initialization started
2020-07-30 20:00:32 [org.springframework.test.web.servlet.TestDispatcherServlet:508] [INFO] - FrameworkServlet '': initialization completed in 0 ms

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/pub/download
       Parameters = {fileId=[1], shareId=[1]}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.DownloadController
           Method = public void com.pdwu.easycloud.file.controller.DownloadController.download(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json
             Body = {"msg":"notfound","code":404,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/pub/download
       Parameters = {fileId=[], shareId=[]}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.DownloadController
           Method = public void com.pdwu.easycloud.file.controller.DownloadController.download(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json
             Body = {"msg":"notfound","code":404,"data":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/pub/download
       Parameters = {fileId=[2], shareId=[3]}
          Headers = {}

Handler:
             Type = com.pdwu.easycloud.file.controller.DownloadController
           Method = public void com.pdwu.easycloud.file.controller.DownloadController.download(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[image/jpeg], Content-Disposition=[attachment;fileName="xxx.jpg"]}
     Content type = image/jpeg
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.09 sec - in com.pdwu.easycloud.file.controller.DownloadControllerTest
Running com.pdwu.easycloud.file.util.FileUtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.pdwu.easycloud.file.util.FileUtilsTest
Running com.pdwu.easycloud.file.util.FileSizeUtilsTest
1KB
100B
20.01KB
200.1KB
1.95MB
6.49MB
6.34GB
6.19TB
6.05PB
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec - in com.pdwu.easycloud.file.util.FileSizeUtilsTest
Running com.pdwu.easycloud.file.dao.ShareInfoDaoTest
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f13aa50, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35ae35ac, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@41034c9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2b74723f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@79671c2b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3da045fe]
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.share_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 100001(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.user_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 10011(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 3
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==>  Preparing: SELECT share_info.share_id, share_info.user_id, share_info.file_id, share_info.status, share_info.shortlink, share_info.create_time, share_info.last_time, file_info.file_id as F_file_id, file_info.user_id as F_user_id, file_info.md5 as F_md5, file_info.path as F_path, file_info.name as F_name, file_info.size as F_size, file_info.status as F_status, file_info.create_time as F_create_time, file_info.last_time as F_last_time FROM share_info LEFT JOIN file_info ON share_info.file_id = file_info.file_id WHERE share_info.user_id = ? AND share_info.status = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - ==> Parameters: 10011(Long), 1(Integer)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.selectShareInfo:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==>  Preparing: DELETE FROM share_info WHERE share_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==> Parameters: 100999(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==>  Preparing: DELETE FROM share_info WHERE share_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - ==> Parameters: 100001(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.delete:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.updateShareInfo:159] [DEBUG] - ==>  Preparing: UPDATE share_info SET last_time = ? , shortlink = ? WHERE share_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.updateShareInfo:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:32.832(Timestamp), 12222af(String), 100123(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.updateShareInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM share_info WHERE share_info.user_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==> Parameters: 10011(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM share_info WHERE share_info.user_id = ? AND share_info.status = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - ==> Parameters: 10011(Long), 1(Integer)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.countShareList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.updateShareInfoStatus:159] [DEBUG] - ==>  Preparing: UPDATE share_info SET last_time = ?, status = ? WHERE share_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.updateShareInfoStatus:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:32.852(Timestamp), 0(Integer), 100123(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.updateShareInfoStatus:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.insertShareInfo:159] [DEBUG] - ==>  Preparing: INSERT INTO share_info (user_id, file_id, status, create_time, last_time) VALUES (?, ?, ?, ?, ?) 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.insertShareInfo:159] [DEBUG] - ==> Parameters: 10099(Long), 105(Long), 1(Integer), 2020-07-30 20:00:32.86(Timestamp), 2020-07-30 20:00:32.86(Timestamp)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.ShareInfoDao.insertShareInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.104 sec - in com.pdwu.easycloud.file.dao.ShareInfoDaoTest
Running com.pdwu.easycloud.file.dao.FileInfoDaoTest
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7f4e106d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f757087, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ecb890a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7de02b43, org.springframework.test.context.transaction.TransactionalTestExecutionListener@722291ea, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@26872661]
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM file_info 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==> Parameters: 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM file_info WHERE user_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==> Parameters: 10011(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==>  Preparing: SELECT count(*) FROM file_info WHERE user_id = ? AND status = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - ==> Parameters: 10011(Long), 0(Integer)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.countFileList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 3
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE user_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 10011(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 2
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE md5 = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 099b3b060154898840f0ebdfb46ec78f(String)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE file_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 103(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE user_id = ? AND status = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 10011(Long), 0(Integer)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==>  Preparing: SELECT file_id,user_id, md5, path, name,size, status, create_time, last_time FROM file_info WHERE user_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - ==> Parameters: 10077(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.selectFileInfoList:159] [DEBUG] - <==      Total: 0
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==>  Preparing: UPDATE file_info SET last_time = ? , name = ? WHERE file_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:32.905(Timestamp), newFileName.png(String), 101(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==>  Preparing: UPDATE file_info SET last_time = ? , name = ? WHERE file_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:32.907(Timestamp), newFileName.png(String), 111(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - <==    Updates: 0
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==>  Preparing: UPDATE file_info SET last_time = ? , status = ? WHERE file_id = ? 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - ==> Parameters: 2020-07-30 20:00:32.909(Timestamp), 1(Integer), 103(Long)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.updateFileInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - ==>  Preparing: INSERT INTO file_info (user_id, md5, path, name, size, status, create_time, last_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?) 
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - ==> Parameters: 10099(Long), 7b8b965ad4bca0e41ab51de7b31363a1(String), /file/10099/(String), 1513317967899.png(String), null, 0(Integer), 2020-07-30 20:00:32.914(Timestamp), 2020-07-30 20:00:32.914(Timestamp)
2020-07-30 20:00:32 [com.pdwu.easycloud.file.dao.FileInfoDao.insertFileInfo:159] [DEBUG] - <==    Updates: 1
2020-07-30 20:00:32 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.064 sec - in com.pdwu.easycloud.file.dao.FileInfoDaoTest
Running com.pdwu.easycloud.common.config.AppConfigTest
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:260] [INFO] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-07-30 20:00:32 [org.springframework.test.context.web.WebTestContextBootstrapper:187] [INFO] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@19dd472b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4e7c5d8e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1733f2d4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1866e6c4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bf11efc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@474dae21]
D:\easycloud\userfiles\
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec - in com.pdwu.easycloud.common.config.AppConfigTest
Running com.pdwu.easycloud.common.bean.BeanTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.pdwu.easycloud.common.bean.BeanTest
Running com.pdwu.easycloud.common.util.WebUtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.pdwu.easycloud.common.util.WebUtilsTest
Running com.pdwu.easycloud.common.util.UuidUtilsTest
1fe9a67ecea24ded89d76a6ba9c72940
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.pdwu.easycloud.common.util.UuidUtilsTest
Running com.pdwu.easycloud.common.util.MD5UtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.pdwu.easycloud.common.util.MD5UtilsTest
Running com.pdwu.easycloud.common.util.JsonUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.pdwu.easycloud.common.util.JsonUtilsTest
2020-07-30 20:00:32 [org.springframework.web.context.support.GenericWebApplicationContext:984] [INFO] - Closing org.springframework.web.context.support.GenericWebApplicationContext@3f384837: startup date [Thu Jul 30 20:00:30 UTC 2020]; root of context hierarchy
2020-07-30 20:00:32 [org.springframework.web.context.support.GenericWebApplicationContext:984] [INFO] - Closing org.springframework.web.context.support.GenericWebApplicationContext@407873d3: startup date [Thu Jul 30 20:00:24 UTC 2020]; root of context hierarchy
2020-07-30 20:00:32 [org.springframework.web.context.support.GenericWebApplicationContext:984] [INFO] - Closing org.springframework.web.context.support.GenericWebApplicationContext@378a9271: startup date [Thu Jul 30 20:00:27 UTC 2020]; root of context hierarchy
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory:217] [INFO] - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.DataSourceUtils:110] [DEBUG] - Fetching JDBC Connection from DataSource
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.DataSourceUtils:329] [DEBUG] - Returning JDBC Connection to DataSource
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory:217] [INFO] - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
2020-07-30 20:00:33 [org.springframework.jdbc.datasource.SimpleDriverDataSource:138] [DEBUG] - Creating new JDBC Driver Connection to [jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]

Results :

Tests run: 68, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:report (report) @ easycloud ---
[INFO] Loading execution data file /tmp/tmpb2nsx57v/EasyCloud/server/target/jacoco.exec
[INFO] Analyzed bundle 'easycloud Maven Webapp' with 274 classes
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  27.058 s
[INFO] Finished at: 2020-07-30T20:00:35Z
[INFO] ------------------------------------------------------------------------
