[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 1 modules...
[INFO] Not installing Nexus Staging features:
[INFO]  * Preexisting staging related goal bindings found in 1 modules.
[WARNING] The project com.github.skjolber:mockito-soap-cxf:jar:1.2.1-SNAPSHOT uses prerequisites which is only intended for maven-plugin projects but not for non maven-plugin projects. For such purposes you should use the maven-enforcer-plugin. See https://maven.apache.org/enforcer/enforcer-rules/requireMavenVersion.html
[INFO] 
[INFO] ----------------< com.github.skjolber:mockito-soap-cxf >----------------
[INFO] Building mockito-soap-cxf 1.2.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:prepare-agent (default) @ mockito-soap-cxf ---
[INFO] argLine set to -javaagent:/home/jdbl/.m2/repository/org/jacoco/org.jacoco.agent/0.8.5/org.jacoco.agent-0.8.5-runtime.jar=destfile=/tmp/tmpefy3wkrz/mockito-soap-cxf/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mockito-soap-cxf ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /tmp/tmpefy3wkrz/mockito-soap-cxf/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ mockito-soap-cxf ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 8 source files to /tmp/tmpefy3wkrz/mockito-soap-cxf/target/classes
[INFO] /tmp/tmpefy3wkrz/mockito-soap-cxf/src/main/java/com/github/skjolber/mockito/soap/SoapServiceFault.java: Some input files use unchecked or unsafe operations.
[INFO] /tmp/tmpefy3wkrz/mockito-soap-cxf/src/main/java/com/github/skjolber/mockito/soap/SoapServiceFault.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- cxf-codegen-plugin:3.3.5:wsdl2java (generate-test-sources) @ mockito-soap-cxf ---
[INFO] 
[INFO] --- build-helper-maven-plugin:3.0.0:add-test-source (add-test-sources) @ mockito-soap-cxf ---
[INFO] Test Source directory: /tmp/tmpefy3wkrz/mockito-soap-cxf/target/generated/cxf added.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mockito-soap-cxf ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 14 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.7.0:testCompile (default-testCompile) @ mockito-soap-cxf ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 36 source files to /tmp/tmpefy3wkrz/mockito-soap-cxf/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ mockito-soap-cxf ---
[INFO] Surefire report directory: /tmp/tmpefy3wkrz/mockito-soap-cxf/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.github.skjolber.mockito.soap.BankCustomerSoapEndpointClassRuleTest
19:59:24.639 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener] 
19:59:24.748 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6f044c58, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6d074b14, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c017175, org.springframework.test.context.event.EventPublishingTestExecutionListener@559cedee] 
19:59:25.764 [main] INFO  org.eclipse.jetty.util.log - Logging initialized @4236ms to org.eclipse.jetty.util.log.Slf4jLog 
19:59:25.962 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:26.121 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@37816ea6{HTTP/1.1,[http/1.1]}{localhost:41053} 
19:59:26.121 [main] INFO  org.eclipse.jetty.server.Server - Started @4596ms 
19:59:26.137 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:26.176 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@408980aa{/,null,AVAILABLE} 
19:59:27.481 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:28.574 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:29.511 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:29.655 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:38551 
19:59:29.714 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy91Service from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:29.719 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:44573 
19:59:29.739 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for abcdef with secret abc 
19:59:30.207 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:41053/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 31a59801-470c-4c54-87a4-00c004b2caf8
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>abcdef</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:30.329 [qtp434495760-45] INFO  org.eclipse.jetty.util.TypeUtil - JVM Runtime does not support Modules 
19:59:30.453 [qtp434495760-45] WARN  o.a.cxf.phase.PhaseInterceptorChain - Interceptor for {http://proxy.sun.com/}$Proxy89Service#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now 
org.apache.cxf.interceptor.Fault: Unmarshalling Error: cvc-pattern-valid: Value 'abcdef' is not facet-valid with respect to pattern '[0-9]+' for type 'customerNumberType'. 
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:932)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:738)
	at org.apache.cxf.jaxb.io.DataReaderImpl.read(DataReaderImpl.java:170)
	at org.apache.cxf.wsdl.interceptors.DocLiteralInInterceptor.handleMessage(DocLiteralInInterceptor.java:194)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.transport.MultipleEndpointObserver.onMessage(MultipleEndpointObserver.java:98)
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
	at org.apache.cxf.transport.http_jetty.JettyHTTPDestination.doService(JettyHTTPDestination.java:247)
	at org.apache.cxf.transport.http_jetty.JettyHTTPHandler.handle(JettyHTTPHandler.java:79)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:190)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:221)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.Server.handle(Server.java:500)
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.xml.bind.UnmarshalException: null
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:453)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:387)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:364)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.doUnmarshal(JAXBEncoderDecoder.java:881)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.access$200(JAXBEncoderDecoder.java:103)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder$3.run(JAXBEncoderDecoder.java:920)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:918)
	... 27 common frames omitted
Caused by: org.xml.sax.SAXParseException: cvc-pattern-valid: Value 'abcdef' is not facet-valid with respect to pattern '[0-9]+' for type 'customerNumberType'.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:454)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3232)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3147)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:3057)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2136)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(XMLSchemaValidator.java:855)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorHandlerImpl.endElement(ValidatorHandlerImpl.java:582)
	at com.sun.xml.bind.v2.runtime.unmarshaller.ValidatingUnmarshaller.endElement(ValidatingUnmarshaller.java:76)
	at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleEndElement(StAXStreamConnector.java:191)
	at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:155)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:385)
	... 33 common frames omitted
19:59:31.100 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.111 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:31.125 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.134 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:46663 
19:59:31.135 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy91Service from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:31.140 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:39599 
19:59:31.141 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:31.144 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:41053/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: ff2d0c06-bf34-43f6-8db5-0193b99f94cb
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:31.189 [main] INFO  o.a.c.s.B.RESP_IN - RESP_IN
    Address: http://localhost:41053/selfservice/bank
    Content-Type: text/xml;charset=utf-8
    ResponseCode: 200
    ExchangeId: ff2d0c06-bf34-43f6-8db5-0193b99f94cb
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {Server=Jetty(9.4.24.v20191120), content-type=text/xml;charset=utf-8, Content-Length=249, Date=Thu, 30 Jul 2020 19:59:31 GMT}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><getAccountsResponse xmlns="http://example.bank.skjolber.github.com/v1"><account>1234</account><account>5678</account></getAccountsResponse></soap:Body></soap:Envelope>
 
19:59:31.282 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.291 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:31.304 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.311 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:45401 
19:59:31.313 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy91Service from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:31.317 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:41871 
19:59:31.330 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:31.334 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:41053/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 9ebf4db8-3b44-4445-967c-2fae1bbf99e4
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:31.352 [qtp434495760-43] INFO  o.a.cxf.phase.PhaseInterceptorChain - Application {http://proxy.sun.com/}$Proxy89Service#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now: org.apache.cxf.binding.soap.SoapFault: message 
19:59:31.376 [main] WARN  c.g.s.m.soap.BankCustomerService - Problem getting accounts: myErrorCode: myErrorMessage 
19:59:31.474 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.484 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:31.498 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.505 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:45715 
19:59:31.506 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy91Service from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:31.519 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:39871 
19:59:31.522 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:31.525 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:41053/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 5e97e130-9e0d-4c63-b7bf-12f9efc2f18d
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:31.535 [qtp434495760-45] INFO  o.a.cxf.phase.PhaseInterceptorChain - Application {http://proxy.sun.com/}$Proxy89Service#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now: org.apache.cxf.binding.soap.SoapFault: message 
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.697 sec - in com.github.skjolber.mockito.soap.BankCustomerSoapEndpointClassRuleTest
Running com.github.skjolber.mockito.soap.SoapServiceFaultTest
[Fatal Error] :1:1: Content is not allowed in prolog.
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec - in com.github.skjolber.mockito.soap.SoapServiceFaultTest
Running com.github.skjolber.mockito.soap.SoapServerExtensionTest
19:59:31.569 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.575 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:12345/service1 
19:59:31.575 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:31.653 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@5f95e589{HTTP/1.1,[http/1.1]}{localhost:12345} 
19:59:31.653 [main] INFO  org.eclipse.jetty.server.Server - Started @10128ms 
19:59:31.653 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:31.653 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@3a24f397{/,null,AVAILABLE} 
19:59:31.654 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.661 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:12345/service2 
19:59:31.661 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:31.662 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@39a7de2a{/,null,AVAILABLE} 
19:59:31.664 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@39a7de2a{/,null,UNAVAILABLE} 
19:59:31.665 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@3a24f397{/,null,UNAVAILABLE} 
19:59:31.691 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:31.691 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@7f3234f6{/,null,AVAILABLE} 
19:59:31.691 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:31.691 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@401f8e24{/,null,AVAILABLE} 
19:59:31.856 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@7f3234f6{/,null,UNAVAILABLE} 
19:59:31.857 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@401f8e24{/,null,UNAVAILABLE} 
19:59:31.873 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@5f95e589{HTTP/1.1,[http/1.1]}{localhost:12345} 
19:59:31.878 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:31.892 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.898 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:12345/service 
19:59:31.899 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:31.942 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@377425d5{HTTP/1.1,[http/1.1]}{localhost:12345} 
19:59:31.942 [main] INFO  org.eclipse.jetty.server.Server - Started @10417ms 
19:59:31.943 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:31.943 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@7cd919a5{/,null,AVAILABLE} 
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.42 sec - in com.github.skjolber.mockito.soap.SoapServerExtensionTest
Running com.github.skjolber.mockito.soap.SoapServerRuleTest
19:59:31.991 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:31.994 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:12345/service1 
19:59:31.994 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:31.995 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@3dfa95e7{/,null,AVAILABLE} 
19:59:31.995 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:32.011 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:12345/service2 
19:59:32.011 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:32.011 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@2a834ed8{/,null,AVAILABLE} 
19:59:32.012 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@2a834ed8{/,null,UNAVAILABLE} 
19:59:32.017 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@3dfa95e7{/,null,UNAVAILABLE} 
19:59:32.023 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:32.024 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@13e1191a{/,null,AVAILABLE} 
19:59:32.024 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:32.024 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@23247030{/,null,AVAILABLE} 
19:59:32.094 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@13e1191a{/,null,UNAVAILABLE} 
19:59:32.094 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@7cd919a5{/,null,UNAVAILABLE} 
19:59:32.094 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@23247030{/,null,UNAVAILABLE} 
19:59:32.116 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@377425d5{HTTP/1.1,[http/1.1]}{localhost:12345} 
19:59:32.122 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:32.128 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:32.136 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:12345/service 
19:59:32.136 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:32.225 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@738607d9{HTTP/1.1,[http/1.1]}{localhost:12345} 
19:59:32.225 [main] INFO  org.eclipse.jetty.server.Server - Started @10700ms 
19:59:32.225 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:32.226 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@274f7bca{/,null,AVAILABLE} 
19:59:32.270 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@274f7bca{/,null,UNAVAILABLE} 
19:59:32.289 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@738607d9{HTTP/1.1,[http/1.1]}{localhost:12345} 
19:59:32.309 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.324 sec - in com.github.skjolber.mockito.soap.SoapServerRuleTest
Running com.github.skjolber.mockito.soap.BankCustomerSoapServerRuleTest
19:59:32.313 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener] 
19:59:32.314 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2ac5f82e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2fde59bd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6af4a822, org.springframework.test.context.event.EventPublishingTestExecutionListener@26c265ab] 
19:59:32.439 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:32.451 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:32.465 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:32.473 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank 
19:59:32.474 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:32.560 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@4eb36dce{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:32.560 [main] INFO  org.eclipse.jetty.server.Server - Started @11034ms 
19:59:32.560 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@379538cd{/selfservice,null,AVAILABLE} 
19:59:32.562 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for abcdef with secret abc 
19:59:32.566 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 6ae0160a-f312-4010-a9a9-8336c78d3c29
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>abcdef</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:32.632 [qtp1236642081-128] WARN  o.a.cxf.phase.PhaseInterceptorChain - Interceptor for {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now 
org.apache.cxf.interceptor.Fault: Unmarshalling Error: cvc-pattern-valid: Value 'abcdef' is not facet-valid with respect to pattern '[0-9]+' for type 'customerNumberType'. 
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:932)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:738)
	at org.apache.cxf.jaxb.io.DataReaderImpl.read(DataReaderImpl.java:170)
	at org.apache.cxf.wsdl.interceptors.DocLiteralInInterceptor.handleMessage(DocLiteralInInterceptor.java:194)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
	at org.apache.cxf.transport.http_jetty.JettyHTTPDestination.doService(JettyHTTPDestination.java:247)
	at org.apache.cxf.transport.http_jetty.JettyHTTPHandler.handle(JettyHTTPHandler.java:79)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:190)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:221)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.Server.handle(Server.java:500)
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.xml.bind.UnmarshalException: null
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:453)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:387)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:364)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.doUnmarshal(JAXBEncoderDecoder.java:881)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.access$200(JAXBEncoderDecoder.java:103)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder$3.run(JAXBEncoderDecoder.java:920)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:918)
	... 27 common frames omitted
Caused by: org.xml.sax.SAXParseException: cvc-pattern-valid: Value 'abcdef' is not facet-valid with respect to pattern '[0-9]+' for type 'customerNumberType'.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:454)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3232)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3147)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:3057)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2136)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(XMLSchemaValidator.java:855)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorHandlerImpl.endElement(ValidatorHandlerImpl.java:582)
	at com.sun.xml.bind.v2.runtime.unmarshaller.ValidatingUnmarshaller.endElement(ValidatingUnmarshaller.java:76)
	at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleEndElement(StAXStreamConnector.java:191)
	at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:155)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:385)
	... 33 common frames omitted
19:59:32.655 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@379538cd{/selfservice,null,UNAVAILABLE} 
19:59:32.662 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@4eb36dce{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:32.673 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:32.816 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:32.824 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:32.832 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:32.840 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank 
19:59:32.853 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:32.938 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6425d038{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:32.939 [main] INFO  org.eclipse.jetty.server.Server - Started @11414ms 
19:59:32.939 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@74320dce{/selfservice,null,AVAILABLE} 
19:59:32.940 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:32.944 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 88210378-f5b2-4c00-abcb-e8f521bd032b
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:33.009 [main] INFO  o.a.c.s.B.RESP_IN - RESP_IN
    Address: http://localhost:27020/selfservice/bank
    Content-Type: text/xml;charset=utf-8
    ResponseCode: 200
    ExchangeId: 88210378-f5b2-4c00-abcb-e8f521bd032b
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {Server=Jetty(9.4.24.v20191120), content-type=text/xml;charset=utf-8, Content-Length=249, Date=Thu, 30 Jul 2020 19:59:32 GMT}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><getAccountsResponse xmlns="http://example.bank.skjolber.github.com/v1"><account>1234</account><account>5678</account></getAccountsResponse></soap:Body></soap:Envelope>
 
19:59:33.010 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@74320dce{/selfservice,null,UNAVAILABLE} 
19:59:33.019 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@6425d038{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:33.027 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:33.136 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:33.143 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:33.161 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:33.167 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank 
19:59:33.169 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:33.345 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@44f07fa4{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:33.345 [main] INFO  org.eclipse.jetty.server.Server - Started @11820ms 
19:59:33.346 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@4b7a64ca{/selfservice,null,AVAILABLE} 
19:59:33.349 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:33.354 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 008914ca-957d-4328-9e77-a0519078e13e
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:33.397 [qtp1448705410-168] INFO  o.a.cxf.phase.PhaseInterceptorChain - Application {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now: org.apache.cxf.binding.soap.SoapFault: message 
19:59:33.405 [main] WARN  c.g.s.m.soap.BankCustomerService - Problem getting accounts: myErrorCode: myErrorMessage 
19:59:33.410 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@4b7a64ca{/selfservice,null,UNAVAILABLE} 
19:59:33.422 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@44f07fa4{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:33.434 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:33.526 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:33.541 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:33.553 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:33.558 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank 
19:59:33.560 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:33.597 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@5c24ccb2{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:33.597 [main] INFO  org.eclipse.jetty.server.Server - Started @12072ms 
19:59:33.598 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@78c01dbf{/selfservice,null,AVAILABLE} 
19:59:33.601 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:33.610 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 8fab2eb8-4c53-4e95-a187-0f19aeffd6d6
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:33.643 [qtp813143271-188] INFO  o.a.cxf.phase.PhaseInterceptorChain - Application {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now: org.apache.cxf.binding.soap.SoapFault: message 
19:59:33.661 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@78c01dbf{/selfservice,null,UNAVAILABLE} 
19:59:33.669 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@5c24ccb2{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:33.673 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.361 sec - in com.github.skjolber.mockito.soap.BankCustomerSoapServerRuleTest
Running com.github.skjolber.mockito.soap.BankCustomerSoapEndpointRuleTest
19:59:33.682 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener] 
19:59:33.684 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7b8ecfd0, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@400dacd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e209dae, org.springframework.test.context.event.EventPublishingTestExecutionListener@6e6d5a5a] 
19:59:33.782 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:33.792 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:33.807 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:33.815 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank 
19:59:33.816 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:33.876 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6a635f56{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:33.884 [main] INFO  org.eclipse.jetty.server.Server - Started @12358ms 
19:59:33.884 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@5c55ad96{/selfservice,null,AVAILABLE} 
19:59:33.885 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy91Service from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:33.887 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/shop 
19:59:33.888 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@7863051c{/selfservice,null,AVAILABLE} 
19:59:33.888 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for abcdef with secret abc 
19:59:33.891 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: dd293fce-a3cd-4cb2-99b8-6c99b55821a9
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>abcdef</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:33.917 [qtp88275467-208] WARN  o.a.cxf.phase.PhaseInterceptorChain - Interceptor for {http://proxy.sun.com/}$Proxy89Service#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now 
org.apache.cxf.interceptor.Fault: Unmarshalling Error: cvc-pattern-valid: Value 'abcdef' is not facet-valid with respect to pattern '[0-9]+' for type 'customerNumberType'. 
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:932)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:738)
	at org.apache.cxf.jaxb.io.DataReaderImpl.read(DataReaderImpl.java:170)
	at org.apache.cxf.wsdl.interceptors.DocLiteralInInterceptor.handleMessage(DocLiteralInInterceptor.java:194)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
	at org.apache.cxf.transport.http_jetty.JettyHTTPDestination.doService(JettyHTTPDestination.java:247)
	at org.apache.cxf.transport.http_jetty.JettyHTTPHandler.handle(JettyHTTPHandler.java:79)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1297)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:190)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1212)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:221)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.Server.handle(Server.java:500)
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.xml.bind.UnmarshalException: null
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:453)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:387)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:364)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.doUnmarshal(JAXBEncoderDecoder.java:881)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.access$200(JAXBEncoderDecoder.java:103)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder$3.run(JAXBEncoderDecoder.java:920)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:918)
	... 27 common frames omitted
Caused by: org.xml.sax.SAXParseException: cvc-pattern-valid: Value 'abcdef' is not facet-valid with respect to pattern '[0-9]+' for type 'customerNumberType'.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:454)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3232)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3147)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:3057)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2136)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(XMLSchemaValidator.java:855)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorHandlerImpl.endElement(ValidatorHandlerImpl.java:582)
	at com.sun.xml.bind.v2.runtime.unmarshaller.ValidatingUnmarshaller.endElement(ValidatingUnmarshaller.java:76)
	at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleEndElement(StAXStreamConnector.java:191)
	at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:155)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:385)
	... 33 common frames omitted
19:59:33.924 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@5c55ad96{/selfservice,null,UNAVAILABLE} 
19:59:33.924 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@7863051c{/selfservice,null,UNAVAILABLE} 
19:59:33.936 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@6a635f56{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:33.937 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:34.028 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.036 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:34.044 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.049 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank 
19:59:34.051 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:34.089 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@38e3de9e{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:34.090 [main] INFO  org.eclipse.jetty.server.Server - Started @12564ms 
19:59:34.090 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@552124f8{/selfservice,null,AVAILABLE} 
19:59:34.091 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy91Service from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:34.095 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/shop 
19:59:34.096 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@34bac450{/selfservice,null,AVAILABLE} 
19:59:34.097 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:34.100 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 223dbc54-2b80-4d2b-bb74-369ca2dd0566
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:34.136 [main] INFO  o.a.c.s.B.RESP_IN - RESP_IN
    Address: http://localhost:27020/selfservice/bank
    Content-Type: text/xml;charset=utf-8
    ResponseCode: 200
    ExchangeId: 223dbc54-2b80-4d2b-bb74-369ca2dd0566
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {Server=Jetty(9.4.24.v20191120), content-type=text/xml;charset=utf-8, Content-Length=249, Date=Thu, 30 Jul 2020 19:59:34 GMT}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><getAccountsResponse xmlns="http://example.bank.skjolber.github.com/v1"><account>1234</account><account>5678</account></getAccountsResponse></soap:Body></soap:Envelope>
 
19:59:34.137 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@552124f8{/selfservice,null,UNAVAILABLE} 
19:59:34.138 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@34bac450{/selfservice,null,UNAVAILABLE} 
19:59:34.167 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@38e3de9e{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:34.193 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:34.273 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.298 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:34.306 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.313 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank 
19:59:34.314 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:34.373 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@4d2cdda2{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:34.373 [main] INFO  org.eclipse.jetty.server.Server - Started @12848ms 
19:59:34.374 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@57ac128c{/selfservice,null,AVAILABLE} 
19:59:34.375 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy91Service from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:34.377 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/shop 
19:59:34.381 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@442de1af{/selfservice,null,AVAILABLE} 
19:59:34.387 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:34.390 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 7802f723-d390-426c-849a-984e9215ce3a
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:34.428 [qtp1407467066-248] INFO  o.a.cxf.phase.PhaseInterceptorChain - Application {http://proxy.sun.com/}$Proxy89Service#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now: org.apache.cxf.binding.soap.SoapFault: message 
19:59:34.432 [main] WARN  c.g.s.m.soap.BankCustomerService - Problem getting accounts: myErrorCode: myErrorMessage 
19:59:34.433 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@57ac128c{/selfservice,null,UNAVAILABLE} 
19:59:34.433 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@442de1af{/selfservice,null,UNAVAILABLE} 
19:59:34.446 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@4d2cdda2{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:34.451 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:34.510 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.517 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:34.546 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.555 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank 
19:59:34.562 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:34.613 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@571cb7bc{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:34.613 [main] INFO  org.eclipse.jetty.server.Server - Started @13087ms 
19:59:34.613 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@2a5a2cbc{/selfservice,null,AVAILABLE} 
19:59:34.617 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy91Service from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:34.625 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/shop 
19:59:34.625 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@480363d9{/selfservice,null,AVAILABLE} 
19:59:34.627 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:34.633 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 2acd24a0-a3c8-4ef2-924c-a3afeea30666
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:34.666 [qtp1931082645-268] INFO  o.a.cxf.phase.PhaseInterceptorChain - Application {http://proxy.sun.com/}$Proxy89Service#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now: org.apache.cxf.binding.soap.SoapFault: message 
19:59:34.670 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@2a5a2cbc{/selfservice,null,UNAVAILABLE} 
19:59:34.675 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@480363d9{/selfservice,null,UNAVAILABLE} 
19:59:34.685 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@571cb7bc{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:34.693 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.018 sec - in com.github.skjolber.mockito.soap.BankCustomerSoapEndpointRuleTest
Running com.github.skjolber.mockito.soap.SoapServiceRuleTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.github.skjolber.mockito.soap.SoapServiceRuleTest
Running com.github.skjolber.mockito.soap.BankCustomerSoapServerLocalTransportRuleTest
19:59:34.698 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener] 
19:59:34.700 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1b586c48, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e9dab3c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4e11bd10, org.springframework.test.context.event.EventPublishingTestExecutionListener@69c716a5] 
19:59:34.762 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.771 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:34.782 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.795 [main] INFO  o.a.c.t.local.LocalTransportFactory - Creating destination for address local://selfservice/bank 
19:59:34.796 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be local://selfservice/bank 
19:59:34.798 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for abcdef with secret abc 
19:59:34.820 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: local://selfservice/bank
    Content-Type: text/xml
    ExchangeId: 9ee172bf-d274-461f-9737-664f724f340a
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction=""}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>abcdef</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:34.827 [default-workqueue-1] WARN  o.a.cxf.phase.PhaseInterceptorChain - Interceptor for {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now 
org.apache.cxf.interceptor.Fault: Unmarshalling Error: cvc-pattern-valid: Value 'abcdef' is not facet-valid with respect to pattern '[0-9]+' for type 'customerNumberType'. 
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:932)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:738)
	at org.apache.cxf.jaxb.io.DataReaderImpl.read(DataReaderImpl.java:170)
	at org.apache.cxf.wsdl.interceptors.DocLiteralInInterceptor.handleMessage(DocLiteralInInterceptor.java:194)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.transport.local.LocalConduit$LocalConduitOutputStream$1.run(LocalConduit.java:88)
	at org.apache.cxf.workqueue.AutomaticWorkQueueImpl$3.run(AutomaticWorkQueueImpl.java:412)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.cxf.workqueue.AutomaticWorkQueueImpl$AWQThreadFactory$1.run(AutomaticWorkQueueImpl.java:345)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.xml.bind.UnmarshalException: null
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:453)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:387)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:364)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.doUnmarshal(JAXBEncoderDecoder.java:881)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.access$200(JAXBEncoderDecoder.java:103)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder$3.run(JAXBEncoderDecoder.java:920)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.cxf.jaxb.JAXBEncoderDecoder.unmarshall(JAXBEncoderDecoder.java:918)
	... 11 common frames omitted
Caused by: org.xml.sax.SAXParseException: cvc-pattern-valid: Value 'abcdef' is not facet-valid with respect to pattern '[0-9]+' for type 'customerNumberType'.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:454)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3232)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3147)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:3057)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2136)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(XMLSchemaValidator.java:855)
	at com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorHandlerImpl.endElement(ValidatorHandlerImpl.java:582)
	at com.sun.xml.bind.v2.runtime.unmarshaller.ValidatingUnmarshaller.endElement(ValidatingUnmarshaller.java:76)
	at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleEndElement(StAXStreamConnector.java:191)
	at com.sun.xml.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:155)
	at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:385)
	... 17 common frames omitted
19:59:34.962 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.969 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:34.975 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:34.980 [main] INFO  o.a.c.t.local.LocalTransportFactory - Creating destination for address local://selfservice/bank 
19:59:34.980 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be local://selfservice/bank 
19:59:34.981 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:34.998 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: local://selfservice/bank
    Content-Type: text/xml
    ExchangeId: 0583bdc6-a3a1-4da6-846a-913d7858febf
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction=""}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:35.054 [default-workqueue-2] INFO  o.a.c.s.B.RESP_IN - RESP_IN
    Address: local://selfservice/bank
    Content-Type: text/xml
    ExchangeId: 0583bdc6-a3a1-4da6-846a-913d7858febf
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><getAccountsResponse xmlns="http://example.bank.skjolber.github.com/v1"><account>1234</account><account>5678</account></getAccountsResponse></soap:Body></soap:Envelope>
 
19:59:35.122 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:35.133 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:35.139 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:35.143 [main] INFO  o.a.c.t.local.LocalTransportFactory - Creating destination for address local://selfservice/bank 
19:59:35.143 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be local://selfservice/bank 
19:59:35.146 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:35.149 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: local://selfservice/bank
    Content-Type: text/xml
    ExchangeId: 2f0063b5-fcfe-4fb7-b43c-74757451d556
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction=""}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:35.186 [default-workqueue-1] INFO  o.a.cxf.phase.PhaseInterceptorChain - Application {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now: org.apache.cxf.binding.soap.SoapFault: message 
19:59:35.205 [main] WARN  c.g.s.m.soap.BankCustomerService - Problem getting accounts: myErrorCode: myErrorMessage 
19:59:35.293 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:35.318 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.shop.skjolber.github.com/v1}ShopCustomerServicePortTypeService from class com.github.skjolber.shop.example.v1.ShopCustomerServicePortType 
19:59:35.326 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:35.330 [main] INFO  o.a.c.t.local.LocalTransportFactory - Creating destination for address local://selfservice/bank 
19:59:35.331 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be local://selfservice/bank 
19:59:35.334 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:35.349 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: local://selfservice/bank
    Content-Type: text/xml
    ExchangeId: e8027cf3-3c74-4c7a-b239-144ddd513cd4
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction=""}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:35.401 [default-workqueue-1] INFO  o.a.cxf.phase.PhaseInterceptorChain - Application {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService#{http://example.bank.skjolber.github.com/v1}getAccounts has thrown exception, unwinding now: org.apache.cxf.binding.soap.SoapFault: message 
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.727 sec - in com.github.skjolber.mockito.soap.BankCustomerSoapServerLocalTransportRuleTest
Running com.github.skjolber.mockito.soap.SoapEndpointRuleTest
19:59:35.435 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:35.441 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:12345/service 
19:59:35.443 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:35.566 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@3fb39d03{HTTP/1.1,[http/1.1]}{localhost:12345} 
19:59:35.566 [main] INFO  org.eclipse.jetty.server.Server - Started @14041ms 
19:59:35.566 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:35.566 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@14278bb5{/,null,AVAILABLE} 
19:59:35.610 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@14278bb5{/,null,UNAVAILABLE} 
19:59:35.615 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@3fb39d03{HTTP/1.1,[http/1.1]}{localhost:12345} 
19:59:35.616 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:35.631 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:35.638 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:12344/service 
19:59:35.638 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:35.717 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@4058fff2{HTTP/1.1,[http/1.1]}{localhost:12344} 
19:59:35.717 [main] INFO  org.eclipse.jetty.server.Server - Started @14192ms 
19:59:35.717 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:35.718 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@6763b3e{/,null,AVAILABLE} 
19:59:35.718 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@6763b3e{/,null,UNAVAILABLE} 
19:59:35.753 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:35.754 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@35e9e8cd{/,null,AVAILABLE} 
19:59:35.783 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@35e9e8cd{/,null,UNAVAILABLE} 
19:59:35.798 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@4058fff2{HTTP/1.1,[http/1.1]}{localhost:12344} 
19:59:35.799 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:35.805 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:35.853 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@64d9ee11{HTTP/1.1,[http/1.1]}{localhost:40009} 
19:59:35.853 [main] INFO  org.eclipse.jetty.server.Server - Started @14328ms 
19:59:35.853 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:35.854 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@cbaa846{/,null,AVAILABLE} 
19:59:35.855 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:35.897 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@3779df1c{HTTP/1.1,[http/1.1]}{localhost:40025} 
19:59:35.897 [main] INFO  org.eclipse.jetty.server.Server - Started @14372ms 
19:59:35.897 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:35.897 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@1dab0c5e{/,null,AVAILABLE} 
19:59:35.898 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:35.993 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@24de4588{HTTP/1.1,[http/1.1]}{localhost:40005} 
19:59:35.993 [main] INFO  org.eclipse.jetty.server.Server - Started @14468ms 
19:59:35.993 [main] WARN  o.e.j.server.handler.ContextHandler - Empty contextPath 
19:59:35.993 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@4e1c2a55{/,null,AVAILABLE} 
19:59:35.995 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:35.999 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:33673 
19:59:36.023 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.027 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:42881 
19:59:36.053 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.082 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:44093 
19:59:36.114 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40005 because it is still in use 
19:59:36.114 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40009 because it is still in use 
19:59:36.114 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40025 because it is still in use 
19:59:36.114 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.697 sec - in com.github.skjolber.mockito.soap.SoapEndpointRuleTest
Running com.github.skjolber.mockito.soap.BankCustomerSoapServerRuleMtomTest
19:59:36.122 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener] 
19:59:36.123 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7c7d3581, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3d3c0f97, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c958a25, org.springframework.test.context.event.EventPublishingTestExecutionListener@77397cfa] 
19:59:36.176 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.180 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.184 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.187 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank1 
19:59:36.188 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:36.229 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6e8de64a{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:36.229 [main] INFO  org.eclipse.jetty.server.Server - Started @14704ms 
19:59:36.229 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@5b68827c{/selfservice,null,AVAILABLE} 
19:59:36.230 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.243 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank2 
19:59:36.244 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@17057bb2{/selfservice,null,AVAILABLE} 
19:59:36.251 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:36.254 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank2
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 6841071b-787e-419b-9d75-870a3b1a9645
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:36.367 [main] INFO  o.a.c.s.B.RESP_IN - RESP_IN
    Address: http://localhost:27020/selfservice/bank2
    Content-Type: multipart/related; type="application/xop+xml"; boundary="uuid:4210cf38-4903-42e5-a702-555c9f168001"; start="<root.message@cxf.apache.org>"; start-info="text/xml"
    ResponseCode: 200
    ExchangeId: 6841071b-787e-419b-9d75-870a3b1a9645
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {Server=Jetty(9.4.24.v20191120), content-type=multipart/related; type="application/xop+xml"; boundary="uuid:4210cf38-4903-42e5-a702-555c9f168001"; start="<root.message@cxf.apache.org>"; start-info="text/xml", Content-Length=877, Date=Thu, 30 Jul 2020 19:59:36 GMT}
    Payload: 
--uuid:4210cf38-4903-42e5-a702-555c9f168001
Content-Type: application/xop+xml; charset=UTF-8; type="text/xml"
Content-Transfer-Encoding: binary
Content-ID: <root.message@cxf.apache.org>

<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><getAccountsResponse xmlns="http://example.bank.skjolber.github.com/v1"><account>1234</account><account>5678</account><certificate><xop:Include xmlns:xop="http://www.w3.org/2004/08/xop/include" href="cid:8034a836-4d32-4823-87ad-d73763c9d703-1@example.bank.skjolber.github.com"/></certificate></getAccountsResponse></soap:Body></soap:Envelope>
--uuid:4210cf38-4903-42e5-a702-555c9f168001
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary
Content-ID: <8034a836-4d32-4823-87ad-d73763c9d703-1@example.bank.skjolber.github.com>

 
--uuid:4210cf38-4903-42e5-a702-555c9f168001--
 
19:59:36.381 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@5b68827c{/selfservice,null,UNAVAILABLE} 
19:59:36.385 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@17057bb2{/selfservice,null,UNAVAILABLE} 
19:59:36.386 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40005 because it is still in use 
19:59:36.386 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40009 because it is still in use 
19:59:36.386 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40025 because it is still in use 
19:59:36.390 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@6e8de64a{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:36.392 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:36.437 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.443 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.446 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.452 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank1 
19:59:36.455 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:36.513 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@28f4b4bd{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:36.513 [main] INFO  org.eclipse.jetty.server.Server - Started @14988ms 
19:59:36.513 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@26f11a9{/selfservice,null,AVAILABLE} 
19:59:36.514 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.517 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank2 
19:59:36.517 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@11ce499a{/selfservice,null,AVAILABLE} 
19:59:36.518 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:36.521 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank1
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 52d6d114-10b0-4442-89a8-cfb6fe5df600
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:36.588 [main] INFO  o.a.c.s.B.RESP_IN - RESP_IN
    Address: http://localhost:27020/selfservice/bank1
    Content-Type: text/xml;charset=utf-8
    ResponseCode: 200
    ExchangeId: 52d6d114-10b0-4442-89a8-cfb6fe5df600
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {Server=Jetty(9.4.24.v20191120), content-type=text/xml;charset=utf-8, Content-Length=280, Date=Thu, 30 Jul 2020 19:59:36 GMT}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><getAccountsResponse xmlns="http://example.bank.skjolber.github.com/v1"><account>1234</account><account>5678</account><certificate>AAE=</certificate></getAccountsResponse></soap:Body></soap:Envelope>
 
19:59:36.590 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@26f11a9{/selfservice,null,UNAVAILABLE} 
19:59:36.590 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@11ce499a{/selfservice,null,UNAVAILABLE} 
19:59:36.590 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40005 because it is still in use 
19:59:36.590 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40009 because it is still in use 
19:59:36.590 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40025 because it is still in use 
19:59:36.605 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@28f4b4bd{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:36.622 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.501 sec - in com.github.skjolber.mockito.soap.BankCustomerSoapServerRuleMtomTest
Running com.github.skjolber.mockito.soap.BankCustomerSoapEndpointRuleMtomTest
19:59:36.627 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener] 
19:59:36.629 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@12477d0e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1d5cb0b7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4cb92cf9, org.springframework.test.context.event.EventPublishingTestExecutionListener@47f15e1a] 
19:59:36.681 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.687 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.692 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.705 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank1 
19:59:36.706 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:36.825 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@33d9d098{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:36.825 [main] INFO  org.eclipse.jetty.server.Server - Started @15300ms 
19:59:36.825 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@1c5fe9b7{/selfservice,null,AVAILABLE} 
19:59:36.826 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:36.830 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank2 
19:59:36.831 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@286ced2a{/selfservice,null,AVAILABLE} 
19:59:36.832 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:36.836 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank2
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: 010e8b17-c489-44d4-9138-17db6985aa56
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:37.000 [main] INFO  o.a.c.s.B.RESP_IN - RESP_IN
    Address: http://localhost:27020/selfservice/bank2
    Content-Type: multipart/related; type="application/xop+xml"; boundary="uuid:cb821a99-4530-4fdc-9354-2cdd089b2a78"; start="<root.message@cxf.apache.org>"; start-info="text/xml"
    ResponseCode: 200
    ExchangeId: 010e8b17-c489-44d4-9138-17db6985aa56
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {Server=Jetty(9.4.24.v20191120), content-type=multipart/related; type="application/xop+xml"; boundary="uuid:cb821a99-4530-4fdc-9354-2cdd089b2a78"; start="<root.message@cxf.apache.org>"; start-info="text/xml", Content-Length=877, Date=Thu, 30 Jul 2020 19:59:36 GMT}
    Payload: 
--uuid:cb821a99-4530-4fdc-9354-2cdd089b2a78
Content-Type: application/xop+xml; charset=UTF-8; type="text/xml"
Content-Transfer-Encoding: binary
Content-ID: <root.message@cxf.apache.org>

<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><getAccountsResponse xmlns="http://example.bank.skjolber.github.com/v1"><account>1234</account><account>5678</account><certificate><xop:Include xmlns:xop="http://www.w3.org/2004/08/xop/include" href="cid:8034a836-4d32-4823-87ad-d73763c9d703-2@example.bank.skjolber.github.com"/></certificate></getAccountsResponse></soap:Body></soap:Envelope>
--uuid:cb821a99-4530-4fdc-9354-2cdd089b2a78
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary
Content-ID: <8034a836-4d32-4823-87ad-d73763c9d703-2@example.bank.skjolber.github.com>

 
--uuid:cb821a99-4530-4fdc-9354-2cdd089b2a78--
 
19:59:37.002 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@1c5fe9b7{/selfservice,null,UNAVAILABLE} 
19:59:37.002 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@286ced2a{/selfservice,null,UNAVAILABLE} 
19:59:37.003 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40005 because it is still in use 
19:59:37.003 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40009 because it is still in use 
19:59:37.003 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40025 because it is still in use 
19:59:37.014 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@33d9d098{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:37.024 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
19:59:37.094 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:37.101 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://example.bank.skjolber.github.com/v1}BankCustomerServicePortTypeService from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:37.106 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:37.111 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank1 
19:59:37.112 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.24.v20191120; built: 2019-11-20T21:37:49.771Z; git: 363d5f2df3a8a28de40604320230664b9c793c16; jvm 1.8.0_262-b10 
19:59:37.146 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@3b839b10{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:37.146 [main] INFO  org.eclipse.jetty.server.Server - Started @15621ms 
19:59:37.147 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@1693c96e{/selfservice,null,AVAILABLE} 
19:59:37.148 [main] INFO  o.a.c.w.s.f.ReflectionServiceFactoryBean - Creating Service {http://proxy.sun.com/}$Proxy89Service from class com.github.skjolber.bank.example.v1.BankCustomerServicePortType 
19:59:37.151 [main] INFO  org.apache.cxf.endpoint.ServerImpl - Setting the server's publish address to be http://localhost:27020/selfservice/bank2 
19:59:37.153 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.h.ContextHandler@5a24dc56{/selfservice,null,AVAILABLE} 
19:59:37.153 [main] INFO  c.g.s.m.soap.BankCustomerService - Get accounts for 123456789 with secret abc 
19:59:37.156 [main] INFO  o.a.c.s.B.REQ_OUT - REQ_OUT
    Address: http://localhost:27020/selfservice/bank1
    HttpMethod: POST
    Content-Type: text/xml
    ExchangeId: acf7fb75-ea86-483f-a30e-01bd5121759a
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {SOAPAction="", Accept=*/*}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><bankRequestHeader xmlns="http://example.bank.skjolber.github.com/v1"><secret>abc</secret></bankRequestHeader></soap:Header><soap:Body><getAccountsRequest xmlns="http://example.bank.skjolber.github.com/v1"><customerNumber>123456789</customerNumber></getAccountsRequest></soap:Body></soap:Envelope>
 
19:59:37.198 [main] INFO  o.a.c.s.B.RESP_IN - RESP_IN
    Address: http://localhost:27020/selfservice/bank1
    Content-Type: text/xml;charset=utf-8
    ResponseCode: 200
    ExchangeId: acf7fb75-ea86-483f-a30e-01bd5121759a
    ServiceName: BankCustomerServicePortTypeService
    PortName: BankCustomerServicePortTypePort
    PortTypeName: BankCustomerServicePortType
    Headers: {Server=Jetty(9.4.24.v20191120), content-type=text/xml;charset=utf-8, Content-Length=280, Date=Thu, 30 Jul 2020 19:59:37 GMT}
    Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><getAccountsResponse xmlns="http://example.bank.skjolber.github.com/v1"><account>1234</account><account>5678</account><certificate>AAE=</certificate></getAccountsResponse></soap:Body></soap:Envelope>
 
19:59:37.201 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@1693c96e{/selfservice,null,UNAVAILABLE} 
19:59:37.201 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.s.h.ContextHandler@5a24dc56{/selfservice,null,UNAVAILABLE} 
19:59:37.203 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40005 because it is still in use 
19:59:37.203 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40009 because it is still in use 
19:59:37.203 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 40025 because it is still in use 
19:59:37.228 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@3b839b10{HTTP/1.1,[http/1.1]}{localhost:27020} 
19:59:37.237 [main] WARN  o.a.c.t.h.JettyHTTPServerEngine - Failed to shutdown Jetty server on port 41053 because it is still in use 
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.624 sec - in com.github.skjolber.mockito.soap.BankCustomerSoapEndpointRuleMtomTest

Results :

Tests run: 46, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.5:report (report) @ mockito-soap-cxf ---
[INFO] Loading execution data file /tmp/tmpefy3wkrz/mockito-soap-cxf/target/jacoco.exec
[INFO] Analyzed bundle 'mockito-soap-cxf' with 131 classes
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  49.794 s
[INFO] Finished at: 2020-07-30T19:59:38Z
[INFO] ------------------------------------------------------------------------
