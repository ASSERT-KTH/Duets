
	<!--
		This pom has been formatted to run for Maven 3.0.1 and above. To run
		formatting checks with checkstyle, cobertura, jalopy, javadocs, and
		surefire reports, first run mvn clean install. Then run mvn site. To
		generate individual tests use the following commands without the
		parenthesis: checkstyle - "mvn checkstyle:checkstyle" cobertura - "mvn
		cobertura:cobertura" jalopy - "mvn jalopy:format" javadocs - "mvn
		javadoc:javadoc" surefire - "mvn surefire-report:report"
	-->
<project>
	<modelVersion>4.0.0</modelVersion>
	<groupId>org.bluemagic.config</groupId>
	<artifactId>magic-config</artifactId>
	<packaging>bundle</packaging>
	<version>1.1.0-SNAPSHOT</version>
	<description>configuration service core functionality</description>
	<url>https://github.com/bluemagicsource/magic-config</url>
	
	<properties>
		<org.springframework.version>3.0.5.RELEASE</org.springframework.version>
	</properties>

	<repositories>
		<!-- INCLUDING THE SPRING SOURCE BUNDLE REPOSITORY -->
		<repository>
			<id>com.springsource.repository.bundles.release</id>
			<name>SpringSource Enterprise Bundle Repository - SpringSource Bundle Releases</name>
			<url>http://repository.springsource.com/maven/bundles/release</url>
		</repository>
		<repository>
			<id>com.springsource.repository.bundles.external</id>
			<name>SpringSource Enterprise Bundle Repository - External Bundle Releases</name>
			<url>http://repository.springsource.com/maven/bundles/external</url>
		</repository>
	</repositories>

	<dependencies>

		<!-- MANDATORY APIs for Agent -->
		<dependency>
			<groupId>org.bluemagic.config.api</groupId>
			<artifactId>config-api</artifactId>
			<version>1.1.0-SNAPSHOT</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.apache.commons</groupId>
			<artifactId>com.springsource.org.apache.commons.logging</artifactId>
			<version>1.1.1</version>
		</dependency>
		
		<!--
			Core utilities used by other modules. Define this if you use Spring
			Utility APIs (org.springframework.core.*/org.springframework.util.*)
		-->
		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-core</artifactId>
			<version>${org.springframework.version}</version>
		</dependency>

		<!--
			Bean Factory and JavaBeans utilities (depends on spring-core) Define
			this if you use Spring Bean APIs (org.springframework.beans.*)
		-->
		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-beans</artifactId>
			<version>${org.springframework.version}</version>
		</dependency>

		<!--
			Application Context (depends on spring-core, spring-expression,
			spring-aop, spring-beans) This is the central artifact for Spring's
			Dependency Injection Container and is generally always defined
		-->
		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-context</artifactId>
			<version>${org.springframework.version}</version>
		</dependency>

		<!--
			Various Application Context utilities, including EhCache, JavaMail,
			Quartz, and Freemarker integration Define this if you need any of
			these integrations
		-->
		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-context-support</artifactId>
			<version>${org.springframework.version}</version>
		</dependency>

		<!-- TEST DEPENDENCIES -->
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>4.7</version>
			<scope>test</scope>
		</dependency>

	</dependencies>

	<build>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<version>2.3.2</version>
				<configuration>
					<source>1.6</source>
					<target>1.6</target>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.apache.felix</groupId>
				<artifactId>maven-bundle-plugin</artifactId>
				<extensions>true</extensions>
				<configuration>
					<instructions>
						<Bundle-SymbolicName>${groupId}</Bundle-SymbolicName>
						<Spring-Context>osgi.xml</Spring-Context>
						<Embed-Dependency>*;scope=compile|runtime</Embed-Dependency>
						<Export-Package></Export-Package>
						<Import-Package>org.bluemagic.config.api.agent,!org.apache.commons.logging,!org.springframework.beans.factory.config,!org.w3c.dom,!org.w3c.dom.traversal,!bsh,!com.bea.jvm,!com.sun.net.httpserver,!commonj.timers,!commonj.work,!edu.emory.mathcs.backport.java.util.concurrent,!freemarker.cache,!freemarker.template,!groovy.lang,!javax.activation,!javax.annotation,!javax.ejb,!javax.el,!javax.inject,!javax.interceptor,!javax.jms,!javax.mail,!javax.mail.internet,!javax.management,!javax.management.modelmbean,!javax.management.openmbean,!javax.management.remote,!javax.naming,!javax.persistence.spi,!javax.rmi,!javax.security.auth.x500,!javax.servlet,!javax.sql,!javax.validation,!javax.validation.bootstrap,!javax.validation.metadata,!javax.validation.spi,!javax.xml.namespace,!javax.xml.parsers,!javax.xml.stream,!javax.xml.stream.events,!javax.xml.stream.util,!javax.xml.transform,!javax.xml.transform.sax,!javax.xml.transform.stax,!javax.xml.ws,!net.sf.cglib.asm,!net.sf.cglib.core,!net.sf.cglib.proxy,!net.sf.ehcache,!net.sf.ehcache.bootstrap,!net.sf.ehcache.constructs.blocking,!net.sf.ehcache.event,!net.sf.ehcache.store,!net.sf.jasperreports.engine,!net.sf.jasperreports.engine.data,!net.sf.jasperreports.engine.export,!org.aopalliance.aop,!org.aopalliance.intercept,!org.apache.avalon.framework.logger,!org.apache.commons.collections,!org.apache.log,!org.apache.log4j,!org.apache.log4j.xml,!org.apache.velocity,!org.apache.velocity.app,!org.apache.velocity.context,!org.apache.velocity.exception,!org.apache.velocity.runtime,!org.apache.velocity.runtime.log,!org.apache.velocity.runtime.resource,!org.apache.velocity.runtime.resource.loader,!org.codehaus.groovy.control,!org.hibernate.validator.messageinterpolation,!org.hibernate.validator.resourceloading,!org.joda.time,!org.joda.time.format,!org.jruby,!org.jruby.ast,!org.jruby.exceptions,!org.jruby.javasupport,!org.jruby.runtime,!org.jruby.runtime.builtin,!org.objectweb.asm,!org.omg.CORBA,!org.osgi.service.cm,!org.osgi.service.log,!org.quartz,!org.quartz.impl,!org.quartz.impl.jdbcjobstore,!org.quartz.simpl,!org.quartz.spi,!org.quartz.utils,!org.quartz.xml,!org.springframework.aop,!org.springframework.aop.framework,!org.springframework.aop.framework.adapter,!org.springframework.aop.interceptor,!org.springframework.aop.scope,!org.springframework.aop.support,!org.springframework.aop.support.annotation,!org.springframework.aop.target,!org.springframework.aop.target.dynamic,!org.springframework.asm,!org.springframework.asm.commons,!org.springframework.expression,!org.springframework.expression.spel.standard,!org.springframework.expression.spel.support,!org.springframework.instrument,!org.springframework.jdbc.datasource,!org.springframework.jdbc.support,!org.springframework.transaction,!org.springframework.transaction.support,!org.xml.sax,!org.xml.sax.ext,!org.xml.sax.helpers</Import-Package>
					</instructions>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-site-plugin</artifactId>
				<version>3.0-beta-3</version>
				<configuration>
					<reportPlugins>
						<plugin>
							<groupId>org.apache.maven.plugins</groupId>
							<artifactId>maven-javadoc-plugin</artifactId>
							<version>2.7</version>
						</plugin>
						<plugin>
							<groupId>org.apache.maven.plugins</groupId>
							<artifactId>maven-jxr-plugin</artifactId>
							<version>2.1</version>
							<configuration>
								<aggregate>true</aggregate>
							</configuration>
						</plugin>
						<plugin>
							<groupId>org.apache.maven.plugins</groupId>
							<artifactId>maven-surefire-report-plugin</artifactId>
							<version>2.6</version>
						</plugin>
						<plugin>
							<groupId>org.codehaus.mojo</groupId>
							<artifactId>cobertura-maven-plugin</artifactId>
							<version>2.4</version>
							<configuration>
								<formats>
									<format>html</format>
									<format>xml</format>
								</formats>
							</configuration>
						</plugin>
						<plugin>
							<groupId>org.codehaus.mojo</groupId>
							<artifactId>jalopy-maven-plugin</artifactId>
							<version>1.0-alpha-1</version>
							<configuration>
								<convention>eci_jalopy_conventions.xml</convention>
							</configuration>
						</plugin>
						<!-- EMMA is an open-source toolkit for measuring and reporting Java Code Coverage -->
						<plugin>
							<groupId>org.codehaus.mojo</groupId>
							<artifactId>emma-maven-plugin</artifactId>
							<version>1.0-alpha-1</version>
							</plugin>
						<!-- JavaNCSS is a source measurement suite for Java which produces quantity and complexity
							 metrics for the Java code base. -->
							 <plugin>
							 	<groupId>org.codehaus.mojo</groupId>
								<artifactId>javancss-maven-plugin</artifactId>
								<version>2.0</version>
							</plugin>	
						<!--<plugin> 
							<groupId>org.codehaus.mojo</groupId>
							<artifactId>findbugs-maven-plugin</artifactId>
							<version>2.3.1</version>
							<configuration>
							<effort>Default</effort>
							<threshold>Low</threshold>
							<findbugsXmlOutput>true</findbugsXmlOutput>
							<findbugsXmlOutputDirectory>target/site</findbugsXmlOutputDirectory>
							</configuration> 
						</plugin> -->
						<!-- The Mave Project Info Reports plugin is used to generate report information about the project -->
						<plugin>
							<groupId>org.apache.maven.plugins</groupId>
							<artifactId>maven-project-info-reports-plugin</artifactId>
							<!--<version>2.1</version> -->
							<reportSets>
							<reportSet>
							<reports>
								<report>index</report>
								<report>dependencies</report>
								<report>dependency-convergence</report>
								<report>dependency-management</report>
								<report>plugins</report>
							</reports>
							</reportSet>
							</reportSets>
						</plugin>
						<!-- The PMD scans Java source code and looks for possible problems. -->
						<plugin>
							<groupId>org.apache.maven.plugins</groupId>
							<artifactId>maven-pmd-plugin</artifactId>
							<version>2.5</version>
							<configuration>
								<targetJdk>1.6</targetJdk>
							</configuration>
						</plugin>
						<plugin>
							<groupId>org.apache.maven.plugins</groupId>
							<artifactId>maven-checkstyle-plugin</artifactId>
							<version>2.6</version>
							<configuration>
								<configLocation>src/main/resources/checkstyle.xml
								</configLocation>
							</configuration>
						</plugin>
					</reportPlugins>
				</configuration>
			</plugin>
		</plugins>
	</build>
</project>